{"version":3,"sources":["HouseViewer.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_threeJs","_VRControls","_VRControls2","_VREffect","_VREffect2","_WebVRManager","_WebVRManager2","_default","element","animate","timestamp","controls","update","manager","render","scene","camera","requestAnimationFrame","renderer","WebGLRenderer","antialias","setPixelRatio","window","devicePixelRatio","appendChild","domElement","Scene","PerspectiveCamera","innerWidth","innerHeight","effect","setSize","WebVRConfig","params","hideButton","isUndistorted","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","THREE","REVISION","undefined","self","cancelAnimationFrame","lastTime","vendors","x","setTimeout","callback","currTime","Date","now","timeToCall","Math","max","clearTimeout","performance","start","Number","EPSILON","pow","sign","Function","name","get","toString","match","MOUSE","LEFT","MIDDLE","RIGHT","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoColors","FaceColors","VertexColors","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipMapNearestFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipMapNearestFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","LoopOnce","LoopRepeat","LoopPingPong","Projector","console","error","projectVector","vector","warn","project","unprojectVector","unproject","pickingRay","CanvasRenderer","document","createElement","clear","setClearColor","Color","color","arguments","fromArray","set","constructor","r","g","b","copy","setHex","setStyle","hex","floor","setRGB","setHSL","hue2rgb","q","t","h","s","l","euclideanModulo","clamp","style","handleAlpha","string","parseFloat","exec","components","min","parseInt","size","charAt","ColorKeywords","clone","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","sqrt","getHex","getHexString","slice","getHSL","optionalTarget","hue","saturation","hsl","lightness","delta","getStyle","offsetHSL","add","addColors","color1","color2","addScalar","multiply","multiplyScalar","lerp","alpha","equals","array","offset","toArray","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","Quaternion","y","z","w","_x","_y","_z","_w","onChangeCallback","quaternion","setFromEuler","euler","Euler","Error","c1","cos","c2","c3","s1","sin","s2","s3","order","setFromAxisAngle","axis","angle","halfAngle","setFromRotationMatrix","te","elements","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","setFromUnitVectors","v1","EPS","vFrom","vTo","Vector3","dot","abs","crossVectors","normalize","inverse","conjugate","v","lengthSq","multiplyQuaternions","a","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","multiplyVector3","applyQuaternion","slerp","qb","cosHalfTheta","halfTheta","acos","sinHalfTheta","ratioA","ratioB","onChange","qa","qm","Vector2","width","height","setX","setY","setComponent","index","getComponent","addVectors","addScaledVector","sub","subVectors","subScalar","scalar","isFinite","divide","divideScalar","clampScalar","minVal","maxVal","clampLength","ceil","round","roundToZero","negate","lengthManhattan","distanceTo","distanceToSquared","dx","dy","setLength","lerpVectors","v2","fromAttribute","attribute","itemSize","rotateAround","center","setZ","multiplyVectors","applyEuler","applyAxisAngle","applyMatrix3","e","applyMatrix4","applyProjection","d","qx","qy","qz","qw","ix","iy","iz","iw","matrix","Matrix4","multiplyMatrices","projectionMatrix","getInverse","matrixWorld","transformDirection","cross","ax","ay","az","bx","by","bz","projectOnVector","projectOnPlane","planeNormal","reflect","normal","angleTo","theta","dz","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","setFromMatrixPosition","getScaleFromMatrix","setFromMatrixScale","getColumnFromMatrix","setFromMatrixColumn","sx","sy","sz","me","Vector4","setW","setAxisAngleFromQuaternion","setAxisAngleFromRotationMatrix","epsilon","epsilon2","PI","xx","yy","zz","xy","xz","yz","_order","DefaultOrder","RotationOrders","asin","atan2","setFromQuaternion","makeRotationFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Line3","end","line","result","distanceSq","distance","at","closestPointToPointParameter","startP","startEnd","point","clampToLine","startEnd2","startEnd_startP","closestPointToPoint","Box2","Infinity","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","halfSize","box","empty","expandByVector","expandByScalar","containsPoint","containsBox","getParameter","isIntersectionBox","clampPoint","distanceToPoint","clampedPoint","intersect","union","translate","Box3","setFromObject","object","scope","updateMatrixWorld","traverse","node","geometry","Geometry","vertices","BufferGeometry","attributes","positions","getBoundingSphere","Sphere","radius","Matrix3","Float32Array","n11","n12","n13","n21","n22","n23","n31","n32","n33","identity","multiplyVector3Array","applyToVector3Array","j","applyToBuffer","buffer","getX","getY","getZ","setXYZ","determinant","f","throwOnInvertible","det","msg","transpose","tmp","flattenToArrayOffset","getNormalMatrix","transposeIntoArray","n14","n24","n34","n41","n42","n43","n44","extractPosition","copyPosition","extractBasis","xAxis","yAxis","zAxis","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","setRotationFromQuaternion","x2","y2","z2","wx","wy","wz","lookAt","eye","up","n","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","multiplyToArray","multiplyVector4","rotateAxis","crossVector","getPosition","setPosition","rotateX","rotateY","rotateZ","rotateByAxis","scale","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","tx","ty","makeScale","compose","position","decompose","invSX","invSY","invSZ","makeFrustum","left","right","bottom","top","near","far","makePerspective","fov","aspect","ymax","degToRad","ymin","xmin","xmax","makeOrthographic","Ray","origin","direction","ray","recast","directionDistance","distanceSqToPoint","distanceSqToSegment","segCenter","segDir","diff","v0","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","b1","invDet","isIntersectionSphere","sphere","intersectSphere","tca","d2","radius2","thc","t0","t1","isIntersectionPlane","plane","distToPoint","denominator","distanceToPlane","constant","intersectPlane","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","edge1","edge2","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","matrix4","optionalCenter","maxRadiusSq","intersectsSphere","radiusSum","deltaLengthSq","getBoundingBox","Frustum","p0","p1","p2","p3","p4","p5","planes","Plane","frustum","setFromMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","intersectsObject","boundingSphere","computeBoundingSphere","negRadius","intersectsBox","d1","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","orthoPoint","perpendicularMagnitude","isIntersectionLine","startSign","endSign","intersectLine","coplanarPoint","m1","optionalNormalMatrix","normalMatrix","newNormal","newCoplanarPoint","generateUUID","chars","split","uuid","Array","rnd","random","join","mapLinear","a1","a2","b2","smoothstep","smootherstep","random16","randInt","low","high","randFloat","randFloatSpread","range","degreeToRadiansFactor","degrees","radToDeg","radianToDegreesFactor","radians","isPowerOfTwo","nearestPowerOfTwo","log","LN2","nextPowerOfTwo","Spline","interpolate","t2","t3","intPoint","weight","w2","w3","pa","pb","pc","pd","v3","initFromArray","getPoint","k","getControlPointsArray","coords","getLength","nSubDivisions","nSamples","oldIntPoint","oldPosition","tmpVec","chunkLengths","totalLength","chunks","total","reparametrizeByArcLength","samplingCoef","indexCurrent","indexNext","realDistance","sampling","newpoints","sl","push","Triangle","resultLengthSq","barycoordFromPoint","dot00","dot01","dot02","dot11","dot12","denom","invDenom","u","setFromPointsAndIndices","i0","i1","i2","triangle","area","midpoint","Channels","mask","channel","enable","toggle","disable","Clock","autoStart","startTime","oldTime","elapsedTime","running","stop","getElapsedTime","getDelta","newTime","EventDispatcher","apply","addEventListener","hasEventListener","removeEventListener","dispatchEvent","type","listener","_listeners","listeners","indexOf","listenerArray","splice","event","descSort","intersectObject","raycaster","intersects","recursive","visible","raycast","children","Raycaster","Mesh","Line","LOD","Points","threshold","Sprite","PointCloud","linePrecision","setFromCamera","OrthographicCamera","sort","intersectObjects","objects","isArray","Object3D","onRotationChange","rotation","onQuaternionChange","Object3DIdCount","parent","channels","DefaultUp","modelViewMatrix","rotationAutoUpdate","matrixAutoUpdate","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","castShadow","receiveShadow","frustumCulled","renderOrder","userData","eulerOrder","useQuaternion","renderDepth","applyMatrix","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","rotateOnAxis","q1","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","remove","getChildByName","getObjectByName","getObjectById","getObjectByProperty","child","getWorldPosition","getWorldQuaternion","getWorldRotation","getWorldScale","getWorldDirection","traverseVisible","traverseAncestors","updateMatrix","force","toJSON","meta","extractFromCache","cache","values","data","metadata","isRootObject","output","geometries","materials","textures","images","version","generator","JSON","stringify","material","source","parse","Face3","materialIndex","vertexNormals","vertexColors","Face4","BufferAttribute","dynamic","updateRange","count","needsUpdate","setDynamic","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyIndicesArray","indices","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","getW","setXY","setXYZW","Int8Attribute","Int8Array","Uint8Attribute","Uint8Array","Uint8ClampedAttribute","Uint8ClampedArray","Int16Attribute","Int16Array","Uint16Attribute","Uint16Array","Int32Attribute","Int32Array","Uint32Attribute","Uint32Array","Float32Attribute","Float64Attribute","Float64Array","DynamicBufferAttribute","InstancedBufferAttribute","meshPerAttribute","create","InterleavedBuffer","stride","InstancedInterleavedBuffer","InterleavedBufferAttribute","interleavedBuffer","GeometryIdCount","faces","faceVertexUvs","morphTargets","morphNormals","skinWeights","skinIndices","lineDistances","boundingBox","verticesNeedUpdate","elementsNeedUpdate","uvsNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","lineDistancesNeedUpdate","groupsNeedUpdate","vertex","face","jl","computeBoundingBox","fromBufferGeometry","addFace","normals","tempNormals","uvs","tempUVs","uvs2","tempUVs2","uv","uv2","groups","group","computeFaceNormals","cb","ab","fl","vA","vB","vC","computeVertexNormals","areaWeighted","vl","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","faceNormal","dstNormalsFace","dstNormalsVertex","computeTangents","computeLineDistances","merge","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","uvs1","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","uvCopy","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","precision","faceIndicesToRemove","dupIndex","idx","sortFacesByMaterialIndex","materialIndexSort","_id","newUvs1","newUvs2","setBit","enabled","getNormalIndex","hash","normalsHash","getColorIndex","colorsHash","getUvIndex","uvsHash","parameters","hasMaterial","hasFaceUv","hasFaceVertexUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","uvsCopy","kl","dispose","DirectGeometry","computeGroups","fromGeometry","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","morphAttributes","drawRange","addIndex","setIndex","getIndex","addAttribute","getAttribute","removeAttribute","drawcalls","offsets","addDrawCall","indexOffset","addGroup","clearDrawCalls","clearGroups","setDrawRange","updateFromObject","direct","__directGeometry","lineDistance","fromDirectGeometry","TypeArray","bb","isNaN","pA","pB","pC","normalizeNormals","computeOffsets","attribute1","attributeArray1","attribute2","attributeArray2","attributeSize","MaxIndex","InstancedBufferGeometry","maxInstancedCount","instances","AnimationAction","clip","timeScale","loop","localRoot","loopCount","actionTime","clipTime","propertyBindings","setLocalRoot","updateTime","clipDeltaTime","previousClipTime","previousLoopCount","duration","mixer","action","newClipTime","loopDelta","syncWith","warpToDuration","init","time","clipResults","getAt","getTimeScaleAt","getWeightAt","AnimationClip","tracks","track","keys","trim","optimize","results","CreateFromMorphTargetSequence","morphTargetSequence","fps","numMorphTargets","KeyframeTrack","keyComparer","NumberKeyframeTrack","findByName","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","json","parseAnimation","animation","bones","nodeName","convertTrack","trackName","animationKeys","propertyName","trackType","animationKeyToValueFunc","animationKey","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","boneName","positionTrack","VectorKeyframeTrack","pos","quaternionTrack","QuaternionKeyframeTrack","rot","scaleTrack","scl","AnimationMixer","actions","propertyBindingMap","addAction","propertyBindingKey","propertyBinding","PropertyBinding","referenceCount","removeAllActions","properyBindingKey","unbind","removeAction","findActionByName","play","optionalFadeInDuration","fadeOut","fadeIn","warp","startTimeScale","endTimeScale","crossFade","fadeOutAction","fadeInAction","startEndRatio","endStartRatio","deltaTime","mixerDeltaTime","actionTimeScale","actionDeltaTime","actionResults","accumulate","AnimationUtils","getEqualsFunc","exemplarValue","typeName","interTrack","lerpFunc","getLerpFunc","lerp_object","slerp_object","lerp_number","lerp_boolean","lerp_boolean_immediate","lerp_string","lerp_string_immediate","lastIndex","validate","setResult","prevKey","constantToNext","currentKey","lerpValues","shift","timeOffset","endTime","firstKeysToRemove","lastKeysToRemove","currKey","newKeys","nextKey","compareValues","key0","key1","GetTrackTypeForTypeName","toLowerCase","BooleanKeyframeTrack","StringKeyframeTrack","rootNode","originalValue","parseResults","parseTrackName","directoryName","objectName","objectIndex","propertyIndex","findNode","cumulativeValue","cumulativeWeight","reset","isBound","bind","lerpAlpha","lerpValue","setValue","getValue","equalsValue","triggerDirty","targetObject","skeleton","nodeProperty","remainingWeight","valueChanged","re","matches","searchSkeleton","bone","searchNodeSubtree","childNode","subTreeNode","value0","value1","clonedKeys","elementCount","valueType","jsonKey","quat","Camera","matrixWorldInverse","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLRenderTargetCube","format","magFilter","minFilter","updateCubeMap","generateMipmaps","texture","activeCubeFace","setRenderTarget","zoom","updateProjectionMatrix","cx","cy","setLens","focalLength","frameHeight","atan","setViewOffset","fullWidth","fullHeight","Light","onlyShadow","shadowCameraFov","shadow","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraNear","shadowCameraFar","shadowCameraVisible","shadowBias","bias","shadowDarkness","darkness","shadowMapWidth","mapSize","shadowMapHeight","groundColor","intensity","decay","exponent","LightShadow","map","AmbientLight","DirectionalLight","HemisphereLight","skyColor","PointLight","SpotLight","Cache","files","file","Loader","onLoadStart","onLoadProgress","onLoadComplete","crossOrigin","extractUrlBase","url","pop","initMaterials","texturePath","createMaterial","textureLoader","materialLoader","loadTexture","path","repeat","wrap","anisotropy","fullPath","loader","Handlers","load","setCrossOrigin","wrapS","wrapT","TextureLoader","MaterialLoader","blending","specular","emissive","shininess","mapDiffuseRepeat","mapDiffuseOffset","mapDiffuseWrap","mapDiffuseAnisotropy","lightMap","mapLightRepeat","mapLightOffset","mapLightWrap","mapLightAnisotropy","aoMap","mapAORepeat","mapAOOffset","mapAOWrap","mapAOAnisotropy","bumpMap","mapBumpRepeat","mapBumpOffset","mapBumpWrap","mapBumpAnisotropy","bumpScale","normalMap","mapNormalRepeat","mapNormalOffset","mapNormalWrap","mapNormalAnisotropy","normalScale","specularMap","mapSpecularRepeat","mapSpecularOffset","mapSpecularWrap","mapSpecularAnisotropy","alphaMap","mapAlphaRepeat","mapAlphaOffset","mapAlphaWrap","mapAlphaAnisotropy","side","opacity","transparent","setTextures","handlers","regex","test","XHRLoader","DefaultLoadingManager","onLoad","onProgress","onError","cached","request","XMLHttpRequest","open","response","itemEnd","itemError","responseType","withCredentials","send","itemStart","setResponseType","setWithCredentials","ImageLoader","image","src","JSONLoader","statusDomElement","_statusDomElement","text","setTexturePath","parseModel","isBitSet","fi","zLength","colorIndex","normalIndex","uvIndex","isQuad","faceA","faceB","uvLayer","nUvLayers","parseSkin","influencesPerVertex","parseMorphing","dstVertices","srcVertices","morphColors","parseAnimations","outputAnimations","animations","concat","morphAnimationClips","LoadingManager","isLoading","itemsLoaded","itemsTotal","onStart","BufferGeometryLoader","typedArray","getTexture","uniforms","vertexShader","fragmentShader","shading","alphaTest","depthTest","depthWrite","wireframe","wireframeLinewidth","sizeAttenuation","displacementMap","displacementScale","displacementBias","envMap","combine","reflectivity","lightMapIntensity","aoMapIntensity","ObjectLoader","substring","lastIndexOf","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","geometryLoader","bufferGeometryLoader","widthSegments","heightSegments","BoxGeometry","depth","depthSegments","CircleBufferGeometry","segments","thetaStart","thetaLength","CircleGeometry","CylinderGeometry","radiusTop","radiusBottom","radialSegments","openEnded","SphereGeometry","phiStart","phiLength","SphereBufferGeometry","DodecahedronGeometry","detail","IcosahedronGeometry","OctahedronGeometry","TetrahedronGeometry","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","heightScale","loadImage","parseConstant","Texture","mapping","getGeometry","getMaterial","mode","Group","levels","level","addLevel","CubeTextureLoader","urls","CubeTexture","DataTextureLoader","BinaryTextureLoader","_parser","DataTexture","texData","mipmaps","mipmapCount","CompressedTextureLoader","CompressedTexture","texDatas","isCubemap","Material","MaterialIdCount","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","colorWrite","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","overdraw","_needsUpdate","setValues","newValue","currentValue","wrapAround","boolean","wrapRGB","LineBasicMaterial","linewidth","linecap","linejoin","fog","LineDashedMaterial","dashSize","gapSize","MeshBasicMaterial","refractionRatio","wireframeLinecap","wireframeLinejoin","skinning","MeshLambertMaterial","MeshPhongMaterial","metal","emissiveMap","MeshDepthMaterial","MeshNormalMaterial","MultiMaterial","MeshFaceMaterial","PointsMaterial","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","ShaderMaterial","defines","lights","derivatives","defaultAttributeValues","index0AttributeName","UniformsUtils","RawShaderMaterial","SpriteMaterial","TextureIdCount","sourceFile","DEFAULT_IMAGE","DEFAULT_MAPPING","premultiplyAlpha","flipY","unpackAlignment","onUpdate","getDataURL","canvas","toDataURL","getContext","drawImage","transformUv","CanvasTexture","VideoTexture","video","readyState","HAVE_ENOUGH_DATA","inverseMatrix","testPoint","rayPointDistanceSq","localThresholdSq","intersectPoint","distanceToRay","localThreshold","ParticleSystem","LineSegments","precisionSq","vStart","vEnd","interSegment","interRay","step","distSq","faceIndex","nbVertices","LineStrip","LinePieces","updateMorphTargets","morphTargetBase","morphTargetInfluences","morphTargetDictionary","ml","getMorphTargetIndexByName","uvIntersection","uv1","uv3","barycoord","checkIntersection","intersectionPointWorld","checkBufferGeometryIntersection","intersection","intersectionPoint","uvA","uvB","uvC","tempA","tempB","tempC","fvA","fvB","fvC","isFaceMaterial","faceMaterial","morphInfluences","tl","influence","targets","uvs_f","Bone","skin","Skeleton","boneInverses","useVertexTexture","identityMatrix","boneTextureWidth","boneTextureHeight","boneMatrices","boneTexture","calculateInverses","bl","pose","offsetMatrix","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","gbone","rotq","normalizeSkinWeights","sw","getObjectForDistance","matrixPosition","guessSizeSq","Particle","LensFlare","lensFlares","positionScreen","customUpdateCallback","updateLensFlares","flare","vecX","vecY","wantedRotation","overrideMaterial","autoUpdate","Fog","FogExp2","density","ShaderChunk","merged","uniforms_src","uniforms_dst","parameter_src","UniformsLib","common","diffuse","offsetRepeat","flipEnvMap","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","directionalLightDirection","directionalLightColor","hemisphereLightDirection","hemisphereLightSkyColor","hemisphereLightGroundColor","pointLightColor","pointLightPosition","pointLightDistance","pointLightDecay","spotLightColor","spotLightPosition","spotLightDirection","spotLightDistance","spotLightAngleCos","spotLightExponent","spotLightDecay","psColor","shadowmap","shadowMap","shadowMapSize","shadowMatrix","ShaderLib","basic","lambert","phong","dashed","totalSize","mNear","mFar","cube","tCube","tFlip","equirect","tEquirect","depthRGBA","distanceRGBA","lightPos","glClearColor","_premultipliedAlpha","_gl","clearColor","setDefaultGLState","state","viewport","_viewportX","_viewportY","_viewportWidth","_viewportHeight","_clearColor","_clearAlpha","resetGLState","_currentProgram","_currentCamera","_currentGeometryProgram","_currentMaterialId","_lightsNeedUpdate","onContextLost","preventDefault","properties","onTextureDispose","deallocateTexture","_infoMemory","onRenderTargetDispose","deallocateRenderTarget","onMaterialDispose","deallocateMaterial","textureProperties","__image__webglTextureCube","deleteTexture","__webglInit","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","deleteRenderbuffer","__webglRenderbuffer","releaseMaterialProgramReference","programInfo","program","programCache","releaseProgram","setupVertexAttributes","startIndex","extension","extensions","initAttributes","geometryAttributes","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","geometryAttribute","getAttributeBuffer","enableAttributeAndDivisor","enableAttribute","bindBuffer","ARRAY_BUFFER","vertexAttribPointer","FLOAT","BYTES_PER_ELEMENT","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","disableUnusedAttributes","numericalSort","painterSortStable","reversePainterSortStable","pushRenderItem","transparentObjects","transparentObjectsLastIndex","opaqueObjects","opaqueObjectsLastIndex","renderItem","_vector3","projectObject","sprites","ImmediateRenderObject","_this","sortObjects","_projScreenMatrix","_frustum","groupMaterial","renderObjects","renderList","setMaterial","setProgram","renderBufferImmediate","renderBufferDirect","initMaterial","materialProperties","getParameters","code","getProgramCode","programChange","shaderID","shader","__webglShader","acquireProgram","numSupportedMorphTargets","maxMorphTargets","numSupportedMorphNormals","maxMorphNormals","uniformsList","uniformLocations","getUniforms","location","setMaterialFaces","setBlending","setDepthFunc","setDepthTest","setDepthWrite","setColorWrite","setPolygonOffset","CULL_FACE","setFlipSided","_usedTextureUnits","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","useProgram","uniformMatrix4fv","capabilities","logarithmicDepthBuffer","uniform1f","logDepthBufFC","cameraPosition","uniform3f","viewMatrix","floatVertexTextures","textureUnit","getTextureUnit","uniform1i","setTexture","boneGlobalMatrices","refreshUniformsFog","setupLights","refreshUniformsLights","_lights","markUniformsLightsNeedsUpdate","refreshUniformsCommon","refreshUniformsLine","refreshUniformsDash","refreshUniformsParticle","refreshUniformsPhong","_shadowPass","refreshUniformsShadow","loadUniformsGeneric","loadUniformsMatrices","modelMatrix","uvScaleMap","WebGLRenderTarget","_canvas","ambient","directional","distances","decays","spot","directions","anglesCos","exponents","hemi","skyColors","groundColors","light","uniformMatrix3fv","maxTextures","uniform","uniform2f","uniform4f","uniform1iv","uniform3iv","uniform1fv","uniform2fv","uniform3fv","uniform4fv","_array","i3","i4","setCubeTexture","setCubeTextureDynamic","setColorLinear","ll","zlights","dirColors","dirPositions","pointColors","pointPositions","pointDistances","pointDecays","spotColors","spotPositions","spotDistances","spotDirections","spotAnglesCos","spotExponents","spotDecays","hemiSkyColors","hemiGroundColors","hemiPositions","dirLength","pointLength","spotLength","hemiLength","dirCount","pointCount","spotCount","hemiCount","dirOffset","pointOffset","spotOffset","hemiOffset","_direction","setTextureParameters","textureType","isImagePowerOfTwo","texParameteri","TEXTURE_WRAP_S","paramThreeToGL","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","CLAMP_TO_EDGE","filterFallback","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","getMaxAnisotropy","uploadTexture","slot","createTexture","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_ALIGNMENT","clampToMaxSize","maxTextureSize","textureNeedsPowerOfTwo","makePowerOfTwo","glFormat","glType","mipmap","texImage2D","getCompressedTextureFormats","compressedTexImage2D","generateMipmap","__version","maxSize","context","HTMLImageElement","HTMLCanvasElement","TEXTURE_CUBE_MAP","isCompressed","isDataTexture","cubeImage","autoScaleCubemaps","maxCubemapSize","TEXTURE_CUBE_MAP_POSITIVE_X","setupFrameBuffer","framebuffer","textureTarget","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","setupRenderBuffer","renderbuffer","bindRenderbuffer","RENDERBUFFER","depthBuffer","stencilBuffer","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","DEPTH_ATTACHMENT","DEPTH_STENCIL","DEPTH_STENCIL_ATTACHMENT","RGBA4","updateRenderTargetMipmap","NEAREST","LINEAR","REPEAT","MIRRORED_REPEAT","NEAREST_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_NEAREST","LINEAR_MIPMAP_LINEAR","UNSIGNED_BYTE","UNSIGNED_SHORT_4_4_4_4","UNSIGNED_SHORT_5_5_5_1","UNSIGNED_SHORT_5_6_5","BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","HALF_FLOAT_OES","ALPHA","RGB","RGBA","LUMINANCE","LUMINANCE_ALPHA","FUNC_ADD","FUNC_SUBTRACT","FUNC_REVERSE_SUBTRACT","ZERO","ONE","SRC_COLOR","ONE_MINUS_SRC_COLOR","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","DST_ALPHA","ONE_MINUS_DST_ALPHA","DST_COLOR","ONE_MINUS_DST_COLOR","SRC_ALPHA_SATURATE","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","MIN_EXT","MAX_EXT","_context","_width","_height","pixelRatio","_alpha","_depth","_stencil","stencil","_antialias","premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","autoClear","autoClearColor","autoClearDepth","autoClearStencil","gammaInput","gammaOutput","_currentFramebuffer","_currentWidth","_currentHeight","_infoRender","calls","info","memory","programs","WebGLExtensions","WebGLCapabilities","WebGLState","WebGLProperties","WebGLObjects","WebGLPrograms","bufferRenderer","WebGLBufferRenderer","indexedBufferRenderer","WebGLIndexedBufferRenderer","WebGLShadowMap","spritePlugin","SpritePlugin","lensFlarePlugin","LensFlarePlugin","getContextAttributes","forceContextLoss","loseContext","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getPrecision","getPixelRatio","getSize","updateStyle","setViewport","getViewport","dimensions","setScissor","scissor","enableScissorTest","setScissorTest","getClearColor","getClearAlpha","setClearAlpha","bits","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","clearDepth","clearStencil","clearTarget","buffers","hasPositions","createBuffer","hasNormals","hasUvs","hasColors","bufferData","positionArray","DYNAMIC_DRAW","normalArray","nx","ny","nz","uvArray","colorArray","drawArrays","TRIANGLES","updateBuffers","geometryProgram","activeInfluences","getWireframeAttribute","ELEMENT_ARRAY_BUFFER","dataStart","dataCount","rangeStart","rangeCount","groupStart","groupCount","drawStart","drawEnd","drawCount","setLineWidth","setMode","LINES","renderInstances","lineWidth","LINE_STRIP","POINTS","forceClear","isTargetPowerOfTwo","setFaceCulling","cullFace","frontFaceDirection","frontFace","CW","CCW","BACK","FRONT","FRONT_AND_BACK","complete","isCube","createFramebuffer","createRenderbuffer","shareDepthFrom","vx","vy","readRenderTargetPixels","restore","IMPLEMENTATION_COLOR_READ_FORMAT","IMPLEMENTATION_COLOR_READ_TYPE","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","readPixels","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsVertexTextures","vertexTextures","supportsInstancedArrays","addPrePlugin","addPostPlugin","updateShadowMap","shadowMapEnabled","shadowMapType","shadowMapCullFace","shadowMapDebug","debug","options","drawArraysInstancedANGLE","drawElements","drawElementsInstancedANGLE","gl","getExtension","getMaxPrecision","getShaderPrecisionFormat","VERTEX_SHADER","HIGH_FLOAT","FRAGMENT_SHADER","MEDIUM_FLOAT","MAX_TEXTURE_IMAGE_UNITS","maxVertexTextures","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE","maxAttributes","MAX_VERTEX_ATTRIBS","maxVertexUniforms","MAX_VERTEX_UNIFORM_VECTORS","maxVaryings","MAX_VARYING_VECTORS","maxFragmentUniforms","MAX_FRAGMENT_UNIFORM_VECTORS","floatFragmentTextures","_maxPrecision","WebGLGeometries","onGeometryDispose","buffergeometry","_bufferGeometry","deleteAttributes","property","deleteAttribute","__webglBuffer","deleteBuffer","removeAttributeBuffer","updateAttribute","bufferType","attributeProperties","updateBuffer","usage","STATIC_DRAW","bufferSubData","subarray","edges","checkEdge","list","WebGLProgram","generateDefines","fetchUniformLocations","identifiers","getProgramParameter","ACTIVE_UNIFORMS","getActiveUniform","getUniformLocation","suffixPos","substr","fetchAttributeLocations","ACTIVE_ATTRIBUTES","getActiveAttrib","getAttribLocation","filterEmptyLine","programIdCount","shadowMapTypeDefine","envMapTypeDefine","envMapModeDefine","envMapBlendingDefine","prefixVertex","prefixFragment","gammaFactorDefine","customDefines","createProgram","maxDirLights","maxPointLights","maxSpotLights","maxHemiLights","maxShadows","maxBones","flatShading","doubleSided","flipSided","pointLightShadows","filter","useFog","fogExp","vertexGlsl","fragmentGlsl","glVertexShader","WebGLShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","programLog","getProgramInfoLog","vertexLog","getShaderInfoLog","fragmentLog","runnable","haveDiagnostics","LINK_STATUS","getError","VALIDATE_STATUS","diagnostics","prefix","deleteShader","cachedUniforms","cachedAttributes","destroy","deleteProgram","usedTimes","allocateBones","nVertexUniforms","nVertexMatrices","allocateLights","dirLights","pointLights","spotLights","hemiLights","allocateShadows","shaderIDs","parameterNames","maxLightCount","allocatedShadows","envMapMode","parameterName","pl","addLineNumbers","lines","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","_renderer","_objects","getDepthMaterial","isPointLight","lightPositionWorld","newMaterial","materialVariants","_depthMaterials","customMaterial","customDepthMaterial","_distanceMaterials","customDistanceMaterial","useMorphing","useSkinning","variantIndex","_MorphingFlag","_SkinningFlag","_renderList","_state","_lookTarget","_lightPositionWorld","_NumberOfMaterialVariants","cubeDirections","cubeUps","cube2DViewPorts","_vector4","depthShader","depthUniforms","distanceShader","distanceUniforms","depthMaterial","distanceMaterial","faceCount","BLEND","shadowCamera","vpWidth","vpHeight","shadowFilter","pars","vpDimensions","clearAlpha","newAttributes","enabledAttributes","attributeDivisors","compressedTextureFormats","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentDepthFunc","currentDepthWrite","currentColorWrite","currentFlipSided","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","currentTextureSlot","currentBoundTextures","DEPTH_TEST","LEQUAL","blendFunc","enableVertexAttribArray","vertexAttribDivisorANGLE","disableVertexAttribArray","formats","COMPRESSED_TEXTURE_FORMATS","blendEquationSeparate","blendFuncSeparate","NEVER","ALWAYS","LESS","EQUAL","GEQUAL","GREATER","NOTEQUAL","depthMask","colorMask","factor","units","POLYGON_OFFSET_FILL","scissorTest","SCISSOR_TEST","webglSlot","webglType","webglTexture","boundTexture","flares","vertexBuffer","elementBuffer","tempTexture","occlusionTexture","hasVertexTexture","renderType","occlusionMap","screenPosition","viewportWidth","viewportHeight","tempPosition","invAspect","halfViewportWidth","halfViewportHeight","screenPositionPixels","TEXTURE1","copyTexImage2D","sprite","uvOffset","uvScale","fogType","fillStyle","fillRect","spritePosition","spriteRotation","spriteScale","oldFogType","sceneFogType","CurveUtils","tangentQuadraticBezier","tangentCubicBezier","tangentSpline","h00","h10","h01","h11","GeometryUtils","geometry1","geometry2","ImageUtils","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","SceneUtils","createMultiMaterialObject","detach","attach","ShapeUtils","contour","triangulate","snip","verts","px","py","aX","aY","bX","bY","cX","cY","apx","apy","bpx","bpy","cpx","cpy","cCROSSap","bCROSScp","aCROSSbp","vertIndices","nv","triangulateShape","holes","point_in_segment_2D_colin","inSegPt1","inSegPt2","inOtherPt","intersect_segments_2D","inSeg1Pt1","inSeg1Pt2","inSeg2Pt1","inSeg2Pt2","inExcludeAdjacentSegs","seg1dx","seg1dy","seg2dx","seg2dy","seg1seg2dx","seg1seg2dy","limit","perpSeg1","perpSeg2","factorSeg1","seg1Pt","seg2Pt","seg1min","seg1max","seg1minVal","seg1maxVal","seg2min","seg2max","seg2minVal","seg2maxVal","isPointInsideAngle","inVertex","inLegFromPt","inLegToPt","legFromPtX","legFromPtY","legToPtX","legToPtY","otherPtX","otherPtY","from2toAngle","from2otherAngle","other2toAngle","removeHoles","isCutLineInsideAngles","inShapeIdx","inHoleIdx","lastShapeIdx","shape","prevShapeIdx","nextShapeIdx","insideAngle","hole","lastHoleIdx","prevHoleIdx","nextHoleIdx","intersectsShapeEdge","inShapePt","inHolePt","sIdx","nextIdx","intersectsHoleEdge","ihIdx","chkHole","hIdx","indepHoles","holeIndex","shapeIndex","shapePt","holePt","holeIdx","cutKey","tmpShape1","tmpShape2","tmpHole1","tmpHole2","failedCuts","hl","minShapeIndex","counter","h2","allPointsMap","allpoints","shapeWithoutHoles","triangles","isClockWise","pts","b2p0","b2p1","b2p2","b3","b3p0","b3p1","b3p2","b3p3","Audio","createBufferSource","onended","onEnded","gain","createGain","connect","destination","panner","createPanner","autoplay","playbackRate","isPlaying","onload","decodeAudioData","pause","currentTime","disconnect","setFilter","getFilter","setPlaybackRate","getPlaybackRate","setLoop","getLoop","setRefDistance","refDistance","getRefDistance","setRolloffFactor","rolloffFactor","getRolloffFactor","setVolume","getVolume","AudioListener","AudioContext","webkitAudioContext","orientation","setOrientation","Curve","getPointAt","getUtoTmapping","getPoints","divisions","getSpacedPoints","lengths","getLengths","cacheArcLengths","current","last","sum","updateArcLengths","targetArcLength","arcLengths","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","pt1","pt2","vec","getTangentAt","Utils","getPointFunc","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","LineCurve","curveLengths","getCurveLengths","lens","cacheLengths","sums","createPointsGeometry","createGeometry","createSpacedPointsGeometry","Path","fromPoints","moveTo","lineTo","args","lastargs","x0","y0","quadraticCurveTo","aCPx","aCPy","QuadraticBezierCurve","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","CubicBezierCurve","splineThru","npts","SplineCurve","aRadius","aStartAngle","aEndAngle","aClockwise","absarc","absellipse","ellipse","xRadius","yRadius","aRotation","EllipseCurve","lastPoint","closedPath","cpx2","cpy2","cpx1","cpy1","cpx0","cpy0","laste","item","spts","spline","deltaAngle","tdivisions","toShapes","isCCW","noHoles","extractSubpaths","inActions","subPaths","lastPath","toShapesNoHoles","inSubpaths","shapes","tmpPath","tmpShape","Shape","isPointInsidePolygon","inPt","inPolygon","polyLen","inside","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","tmpPoints","betterShapeHoles","newShapes","newShapeHoles","mainIdx","ambiguous","toChange","sLen","sho","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","extrude","ExtrudeGeometry","makeGeometry","ShapeGeometry","getPointsHoles","holesPts","extractAllPoints","extractPoints","tangent","point0","point1","point2","point3","ArcCurve","LineCurve3","QuadraticBezierCurve3","CubicBezierCurve3","SplineCurve3","CatmullRomCurve3","CubicPoly","pz","x1","c0","initNonuniformCatmullRom","x3","dt0","dt1","dt2","initCatmullRom","tension","calc","ClosedSplineCurve3","buildPlane","udir","vdir","gridX","gridY","width_half","height_half","gridX1","gridY1","segment_width","segment_height","uva","uvb","uvc","uvd","depth_half","CubeGeometry","ii","segment","heightHalf","verticesRow","uvsRow","na","nb","tanTheta","v4","n1","n2","n3","n4","uv4","EdgesGeometry","thresholdAngle","sortFunction","thresholdDot","edge","vert1","vert2","face1","face2","addShapeList","addShape","scalePt2","pt","getBevelVec","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","buildLidFaces","bevelEnabled","layer","vlen","flen","f3","steps","bevelSegments","buildSideFaces","layeroffset","sidewalls","ahole","slen1","slen2","f4","shapesOffset","uvgen","generateTopUV","wallContour","stepIndex","stepsLength","contourIndex1","contourIndex2","generateSideWallUV","extrudePts","splineTube","binormal","position2","amount","bevelThickness","bevelSize","curveSegments","extrudePath","extrudeByPath","UVGenerator","WorldUVGenerator","frames","TubeGeometry","FrenetFrames","shapePoints","reverse","bs","vert","contourMovements","oneHoleMovements","holesMovements","verticesMovements","binormals","indexA","indexB","indexC","indexD","LatheGeometry","inversePointLength","inverseSegments","phi","np","base","u0","u1","PlaneGeometry","PlaneBufferGeometry","offset2","o","radiusStep","thetaSegment","thetaEnd","vertexCount","getPos","in_q","in_p","cu","su","quOverP","cs","tz","grid","tang","bitan","ip","jp","closed","taper","NoTaper","numpoints","pos2","tangents","SinusoidalTaper","initialNormal3","smallest","MAX_VALUE","mat","PolyhedronGeometry","prepare","that","azimuth","inclination","make","centroid","azi","correctUV","subdivide","cols","aj","bj","rows","ParametricGeometry","func","slices","stacks","sliceCount","WireframeGeometry","numEdges","ol","drawcall","numTris","AxisHelper","ArrowHelper","lineGeometry","coneGeometry","dir","headLength","headWidth","cone","setDirection","setColor","BoxHelper","BoundingBoxHelper","CameraHelper","addLine","addPoint","pointMap","hexFrustum","hexCone","hexUp","hexTarget","hexCross","setPoint","DirectionalLightHelper","lightPlane","targetLine","EdgesHelper","FaceNormalsHelper","nNormals","objGeometry","GridHelper","setColors","colorCenterLine","colorGrid","HemisphereLightHelper","sphereSize","lightSphere","PointLightHelper","SkeletonHelper","getBoneList","boneList","matrixWorldInv","boneMatrix","SpotLightHelper","vector2","coneLength","coneWidth","VertexNormalsHelper","objPos","objNorm","WireframeHelper","renderCallback","MorphBlendMesh","animationsMap","animationsList","numFrames","startFrame","endFrame","createAnimation","setAnimationWeight","lastFrame","currentFrame","active","directionBackwards","mirroredLoop","autoCreateAnimations","firstAnimation","frameRanges","morph","setAnimationDirectionForward","setAnimationDirectionBackward","setAnimationFPS","setAnimationDuration","setAnimationTime","getAnimationTime","getAnimationDuration","playAnimation","stopAnimation","frameTime","keyframe","mix","filterInvalidDevices","devices","oculusDevices","device","deviceName","gotVRDevices","PositionSensorVRDevice","vrInputs","navigator","getVRDevices","then","vrInput","getState","resetSensor","zeroSensor","HMDVRDevice","vrHMD","getEyeParameters","eyeParamsL","eyeParamsR","eyeTranslationL","eyeTranslation","eyeTranslationR","eyeFOVL","recommendedFieldOfView","eyeFOVR","getEyeTranslation","getRecommendedEyeFieldOfView","fovToNDCScaleOffset","pxscale","leftTan","rightTan","pxoffset","pyscale","upTan","downTan","pyoffset","fovPortToProjection","rightHanded","zNear","zFar","handednessScale","mobj","scaleAndOffset","fovToProjection","DEG2RAD","fovPort","upDegrees","downDegrees","leftDegrees","rightDegrees","isFullscreen","fullscreenchange","mozRequestFullScreen","mozFullScreenElement","webkitFullscreenElement","setFullScreen","vrDisplay","webkitRequestFullscreen","cameraL","cameraR","sceneL","sceneR","WebVRManager","Modes","UNKNOWN","button","ButtonManager","rotateInstructions","RotateInstructions","viewerSelector","ViewerSelector","DeviceInfo","Viewers","deviceInfo","viewer","selectedKey","getViewer","label","distorter","CardboardDistorter","isVRCompatible","isFullscreenDisabled","Util","getQueryParameter","startMode","NORMAL","startModeParam","isMobile","onViewerChanged_","on","setVisibility","getDeviceByType_","_webvrPolyfill2","hmd","FORCE_DISTORTION","setActive","getDevice","PREVENT_DISTORTION","MAGIC_WINDOW","normalToMagicWindow_","setMode_","VR","anyModeToVR_","onFSClick_","onVRClick_","onBackClick_","onSettingsClick_","emit","input","onFullscreenChange_","onOrientationChange_","wakelock","Wakelock","isTouchPannerEnabled","TOUCH_PANNER_DISABLED","_webvrPolyfill","Emitter","Promise","resolve","reject","isVRMode","getDeviceInfo","resizeIfNeeded_","preRender","postRender","oldMode","isLandscapeMode","showTemporarily","updateRotateInstructions_","hide","setHMDVRDeviceParams_","isIOS","isIFrame","href","appendQueryParameter","history","back","anyModeToNormal_","show","requestFullscreen_","patch","vrToMagicWindow_","unpatch","resize_","exitFullscreen_","releasePointerLock_","release","disableShowTemporarily","requestPointerLock_","requestPointerLock","mozRequestPointerLock","webkitRequestPointerLock","exitPointerLock","mozExitPointerLock","webkitExitPointerLock","requestOrientationLock_","screen","lock","releaseOrientationLock_","unlock","body","requestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","setViewer","recalculateUniforms","setFieldOfView","getFieldOfViewLeftEye","getFieldOfViewRightEye","setInterpupillaryDistance","interLensDistance","setRenderRect","WebVRPolyfill","isCardboardCompatible","CardboardHMDVRDevice","GyroPositionSensorVRDevice","MouseKeyboardPositionSensorVRDevice","userAgent","eyeTranslationLeft","INTERPUPILLARY_DISTANCE","eyeTranslationRight","recommendedFOV","DEFAULT_MAX_FOV_TOP","DEFAULT_MAX_FOV_BOTTOM","DEFAULT_MAX_FOV_LEFT_RIGHT","whichEye","VRDevice","hardwareUnitId","onDeviceOrientationChange","onScreenOrientationChange","deviceOrientation","screenOrientation","finalQuaternion","deviceEuler","screenTransform","worldTransform","getOrientation","beta","gamma","orient","minusHalfAngle","invScalar","oldLength","onKeyDown_","onMouseMove_","onMouseDown_","onMouseUp_","targetAngle","rotateStart","rotateEnd","rotateDelta","KEY_SPEED","KEY_ANIMATION_DURATION","MOUSE_SPEED_X","MOUSE_SPEED_Y","keyCode","animatePhi_","animateTheta_","animateKeyTransitions_","angleName","angleAnimation","clearInterval","startAngle","setInterval","elapsed","percent","clientX","clientY","isDragging","clientHeight","clientWidth","loadIcons_","fsButton","createButton","ICONS","fullscreen","title","createClickHandler_","vrButton","cardboard","backButton","settingsButton","marginLeft","zIndex","settings","isVisible","aligner","Aligner","className","backgroundSize","backgroundColor","border","userSelect","webkitUserSelect","MozUserSelect","cursor","padding","display","draggable","webkitFilter","isFirefox","isSettingsVisible","FORCE_ENABLE_VR","oldValue","offsetHeight","eventName","stopPropagation","base64","el","background","borderTop","callbacks","mimeType","check","vendor","opera","delimiter","replace","RegExp","search","decodeURIComponent","ShaderPass","quad","createRenderTarget","shaderPass","BarrelDistortion","genuineRender","genuineSetSize","isActive","renderFunc","distortedProj","getProjectionMatrixLeftEye","undistortedProj","getUndistortedViewportLeftEye","xScale","yScale","xTrans","yTrans","projectionLeft","projectionMatrixToVector_","unprojectionLeft","coefficients","distortionCoefficients","distortion","SHOW_EYE_CENTERS","showCenter","DISTORTION_BGCOLOR","setDistortionCoefficients","opt_params","BarrelDistortionFragment","dividerColor","Device","userAgentRegExp","calcWidth_","calcHeight_","widthMeters","heightMeters","bevelMeters","determineDevice_","CardboardV1","CardboardViewer","baselineLensDistance","screenLensDistance","inverseCoefficients","Distortion","iOSDevices","iPhone4","iPhone5","iPhone6","iPhone6Plus","AndroidDevices","Nexus5","Nexus6","Nexus5X","Nexus6P","GalaxyS3","GalaxyS4","GalaxyS5","GalaxyS6","AVERAGE_ANDROID","CardboardV2","determineIPhone_","determineAndroid_","availWidth","availHeight","pixelWidth","pixelHeight","getDistortedFieldOfViewLeftEye","eyeToScreenDistance","outerDist","innerDist","bottomDist","topDist","outerAngle","distort","innerAngle","bottomAngle","topAngle","opt_isUndistorted","getUndistortedFieldOfViewLeftEye","getUndistortedParams_","screenWidth","screenHeight","xPxPerTanAngle","yPxPerTanAngle","eyePosX","eyePosY","halfLensDistance","maxFov","viewerMax","distortInverse","r0","r1","dr0","dr1","r2","distortionFactor_","rFactor","rSquared","ki","loadIcon_","overlay","fontFamily","img","icon","marginTop","textAlign","fontSize","lineHeight","margin","innerHTML","snackbar","boxSizing","snackbarText","snackbarButton","fontWeight","textTransform","borderLeft","paddingLeft","textDecoration","querySelector","ms","timer","localStorage","getItem","VIEWER_KEY","DEFAULT_VIEWER","dialog","createDialog_","selected","checked","getSelectedKey_","onSave_","setItem","container","overflow","boxShadow","createH1_","createChoice_","createButton_","h1","marginBottom","div","setAttribute","onclick","letterSpacing","AndroidWakeLock","paused","iOSWakeLock","getWakeLock"],"mappings":"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","file":"HouseViewer.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"HouseViewer\"] = factory();\n\telse\n\t\troot[\"HouseViewer\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\t\n\tvar _threeJs = __webpack_require__(1);\n\t\n\tvar _VRControls = __webpack_require__(2);\n\t\n\tvar _VRControls2 = _interopRequireDefault(_VRControls);\n\t\n\tvar _VREffect = __webpack_require__(3);\n\t\n\tvar _VREffect2 = _interopRequireDefault(_VREffect);\n\t\n\tvar _WebVRManager = __webpack_require__(4);\n\t\n\tvar _WebVRManager2 = _interopRequireDefault(_WebVRManager);\n\t\n\tvar _default = (function () {\n\t  function _default() {\n\t    _classCallCheck(this, _default);\n\t  }\n\t\n\t  _createClass(_default, [{\n\t    key: 'init',\n\t    value: function init(element) {\n\t      var renderer = new _threeJs.WebGLRenderer({ antialias: true });\n\t      renderer.setPixelRatio(window.devicePixelRatio);\n\t      // Append the canvas element created by the renderer to document body element.\n\t      element.appendChild(renderer.domElement);\n\t\n\t      // Create a three.js scene.\n\t      var scene = new _threeJs.Scene();\n\t\n\t      // Create a three.js camera.\n\t      var camera = new _threeJs.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 10000);\n\t\n\t      // Apply VR headset positional data to camera.\n\t      var controls = new _VRControls2['default'](camera);\n\t\n\t      // Apply VR stereo rendering to renderer.\n\t      var effect = new _VREffect2['default'](renderer);\n\t      effect.setSize(window.innerWidth, window.innerHeight);\n\t\n\t      // Create an empty vr config\n\t      window.WebVRConfig = window.WebVRConfig || {};\n\t\n\t      // Create a VR manager helper to enter and exit VR mode.\n\t      var params = {\n\t        hideButton: false, // Default: false.\n\t        isUndistorted: false // Default: false.\n\t      };\n\t      var manager = new _WebVRManager2['default'](renderer, effect, params);\n\t\n\t      function animate(timestamp) {\n\t        // Update VR headset position and apply to camera.\n\t        controls.update();\n\t        // Render the scene through the manager.\n\t        manager.render(scene, camera, timestamp);\n\t        requestAnimationFrame(animate);\n\t      }\n\t\n\t      // Kick off animation loop\n\t      animate();\n\t\n\t      return 'hello';\n\t    }\n\t  }]);\n\t\n\t  return _default;\n\t})();\n\t\n\texports['default'] = _default;\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;// File:src/Three.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tvar THREE = { REVISION: '73' };\n\t\n\t//\n\t\n\tif ( true ) {\n\t\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (THREE), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\n\t} else if ( 'undefined' !== typeof exports && 'undefined' !== typeof module ) {\n\t\n\t\t\tmodule.exports = THREE;\n\t\n\t}\n\t\n\t\n\t// polyfills\n\t\n\tif ( self.requestAnimationFrame === undefined || self.cancelAnimationFrame === undefined ) {\n\t\n\t\t// Missing in Android stock browser.\n\t\n\t\t( function () {\n\t\n\t\t\tvar lastTime = 0;\n\t\t\tvar vendors = [ 'ms', 'moz', 'webkit', 'o' ];\n\t\n\t\t\tfor ( var x = 0; x < vendors.length && ! self.requestAnimationFrame; ++ x ) {\n\t\n\t\t\t\tself.requestAnimationFrame = self[ vendors[ x ] + 'RequestAnimationFrame' ];\n\t\t\t\tself.cancelAnimationFrame = self[ vendors[ x ] + 'CancelAnimationFrame' ] || self[ vendors[ x ] + 'CancelRequestAnimationFrame' ];\n\t\n\t\t\t}\n\t\n\t\t\tif ( self.requestAnimationFrame === undefined && self.setTimeout !== undefined ) {\n\t\n\t\t\t\tself.requestAnimationFrame = function ( callback ) {\n\t\n\t\t\t\t\tvar currTime = Date.now(), timeToCall = Math.max( 0, 16 - ( currTime - lastTime ) );\n\t\t\t\t\tvar id = self.setTimeout( function () {\n\t\n\t\t\t\t\t\tcallback( currTime + timeToCall );\n\t\n\t\t\t\t\t}, timeToCall );\n\t\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\t\treturn id;\n\t\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t\tif ( self.cancelAnimationFrame === undefined && self.clearTimeout !== undefined ) {\n\t\n\t\t\t\tself.cancelAnimationFrame = function ( id ) {\n\t\n\t\t\t\t\tself.clearTimeout( id );\n\t\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t} )();\n\t\n\t}\n\t\n\t//\n\t\n\tif ( self.performance === undefined ) {\n\t\n\t\tself.performance = {};\n\t\n\t}\n\t\n\tif ( self.performance.now === undefined ) {\n\t\n\t\t( function () {\n\t\n\t\t\tvar start = Date.now();\n\t\n\t\t\tself.performance.now = function () {\n\t\n\t\t\t\treturn Date.now() - start;\n\t\n\t\t\t}\n\t\n\t\t} )();\n\t\n\t}\n\t\n\t//\n\t\n\tif ( Number.EPSILON === undefined ) {\n\t\n\t\tNumber.EPSILON = Math.pow( 2, -52 );\n\t\n\t}\n\t\n\t//\n\t\n\tif ( Math.sign === undefined ) {\n\t\n\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\t\n\t\tMath.sign = function ( x ) {\n\t\n\t\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\t\n\t\t};\n\t\n\t}\n\t\n\tif ( Function.prototype.name === undefined && Object.defineProperty !== undefined ) {\n\t\n\t\t// Missing in IE9-11.\n\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\t\n\t\tObject.defineProperty( Function.prototype, 'name', {\n\t\n\t\t\tget: function () {\n\t\n\t\t\t\treturn this.toString().match( /^\\s*function\\s*(\\S*)\\s*\\(/ )[ 1 ];\n\t\n\t\t\t}\n\t\n\t\t} );\n\t\n\t}\n\t\n\t// https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent.button\n\t\n\tTHREE.MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\n\t\n\t// GL STATE CONSTANTS\n\t\n\tTHREE.CullFaceNone = 0;\n\tTHREE.CullFaceBack = 1;\n\tTHREE.CullFaceFront = 2;\n\tTHREE.CullFaceFrontBack = 3;\n\t\n\tTHREE.FrontFaceDirectionCW = 0;\n\tTHREE.FrontFaceDirectionCCW = 1;\n\t\n\t// SHADOWING TYPES\n\t\n\tTHREE.BasicShadowMap = 0;\n\tTHREE.PCFShadowMap = 1;\n\tTHREE.PCFSoftShadowMap = 2;\n\t\n\t// MATERIAL CONSTANTS\n\t\n\t// side\n\t\n\tTHREE.FrontSide = 0;\n\tTHREE.BackSide = 1;\n\tTHREE.DoubleSide = 2;\n\t\n\t// shading\n\t\n\tTHREE.FlatShading = 1;\n\tTHREE.SmoothShading = 2;\n\t\n\t// colors\n\t\n\tTHREE.NoColors = 0;\n\tTHREE.FaceColors = 1;\n\tTHREE.VertexColors = 2;\n\t\n\t// blending modes\n\t\n\tTHREE.NoBlending = 0;\n\tTHREE.NormalBlending = 1;\n\tTHREE.AdditiveBlending = 2;\n\tTHREE.SubtractiveBlending = 3;\n\tTHREE.MultiplyBlending = 4;\n\tTHREE.CustomBlending = 5;\n\t\n\t// custom blending equations\n\t// (numbers start from 100 not to clash with other\n\t// mappings to OpenGL constants defined in Texture.js)\n\t\n\tTHREE.AddEquation = 100;\n\tTHREE.SubtractEquation = 101;\n\tTHREE.ReverseSubtractEquation = 102;\n\tTHREE.MinEquation = 103;\n\tTHREE.MaxEquation = 104;\n\t\n\t// custom blending destination factors\n\t\n\tTHREE.ZeroFactor = 200;\n\tTHREE.OneFactor = 201;\n\tTHREE.SrcColorFactor = 202;\n\tTHREE.OneMinusSrcColorFactor = 203;\n\tTHREE.SrcAlphaFactor = 204;\n\tTHREE.OneMinusSrcAlphaFactor = 205;\n\tTHREE.DstAlphaFactor = 206;\n\tTHREE.OneMinusDstAlphaFactor = 207;\n\t\n\t// custom blending source factors\n\t\n\t//THREE.ZeroFactor = 200;\n\t//THREE.OneFactor = 201;\n\t//THREE.SrcAlphaFactor = 204;\n\t//THREE.OneMinusSrcAlphaFactor = 205;\n\t//THREE.DstAlphaFactor = 206;\n\t//THREE.OneMinusDstAlphaFactor = 207;\n\tTHREE.DstColorFactor = 208;\n\tTHREE.OneMinusDstColorFactor = 209;\n\tTHREE.SrcAlphaSaturateFactor = 210;\n\t\n\t// depth modes\n\t\n\tTHREE.NeverDepth = 0;\n\tTHREE.AlwaysDepth = 1;\n\tTHREE.LessDepth = 2;\n\tTHREE.LessEqualDepth = 3;\n\tTHREE.EqualDepth = 4;\n\tTHREE.GreaterEqualDepth = 5;\n\tTHREE.GreaterDepth = 6;\n\tTHREE.NotEqualDepth = 7;\n\t\n\t\n\t// TEXTURE CONSTANTS\n\t\n\tTHREE.MultiplyOperation = 0;\n\tTHREE.MixOperation = 1;\n\tTHREE.AddOperation = 2;\n\t\n\t// Mapping modes\n\t\n\tTHREE.UVMapping = 300;\n\t\n\tTHREE.CubeReflectionMapping = 301;\n\tTHREE.CubeRefractionMapping = 302;\n\t\n\tTHREE.EquirectangularReflectionMapping = 303;\n\tTHREE.EquirectangularRefractionMapping = 304;\n\t\n\tTHREE.SphericalReflectionMapping = 305;\n\t\n\t// Wrapping modes\n\t\n\tTHREE.RepeatWrapping = 1000;\n\tTHREE.ClampToEdgeWrapping = 1001;\n\tTHREE.MirroredRepeatWrapping = 1002;\n\t\n\t// Filters\n\t\n\tTHREE.NearestFilter = 1003;\n\tTHREE.NearestMipMapNearestFilter = 1004;\n\tTHREE.NearestMipMapLinearFilter = 1005;\n\tTHREE.LinearFilter = 1006;\n\tTHREE.LinearMipMapNearestFilter = 1007;\n\tTHREE.LinearMipMapLinearFilter = 1008;\n\t\n\t// Data types\n\t\n\tTHREE.UnsignedByteType = 1009;\n\tTHREE.ByteType = 1010;\n\tTHREE.ShortType = 1011;\n\tTHREE.UnsignedShortType = 1012;\n\tTHREE.IntType = 1013;\n\tTHREE.UnsignedIntType = 1014;\n\tTHREE.FloatType = 1015;\n\tTHREE.HalfFloatType = 1025;\n\t\n\t// Pixel types\n\t\n\t//THREE.UnsignedByteType = 1009;\n\tTHREE.UnsignedShort4444Type = 1016;\n\tTHREE.UnsignedShort5551Type = 1017;\n\tTHREE.UnsignedShort565Type = 1018;\n\t\n\t// Pixel formats\n\t\n\tTHREE.AlphaFormat = 1019;\n\tTHREE.RGBFormat = 1020;\n\tTHREE.RGBAFormat = 1021;\n\tTHREE.LuminanceFormat = 1022;\n\tTHREE.LuminanceAlphaFormat = 1023;\n\t// THREE.RGBEFormat handled as THREE.RGBAFormat in shaders\n\tTHREE.RGBEFormat = THREE.RGBAFormat; //1024;\n\t\n\t// DDS / ST3C Compressed texture formats\n\t\n\tTHREE.RGB_S3TC_DXT1_Format = 2001;\n\tTHREE.RGBA_S3TC_DXT1_Format = 2002;\n\tTHREE.RGBA_S3TC_DXT3_Format = 2003;\n\tTHREE.RGBA_S3TC_DXT5_Format = 2004;\n\t\n\t\n\t// PVRTC compressed texture formats\n\t\n\tTHREE.RGB_PVRTC_4BPPV1_Format = 2100;\n\tTHREE.RGB_PVRTC_2BPPV1_Format = 2101;\n\tTHREE.RGBA_PVRTC_4BPPV1_Format = 2102;\n\tTHREE.RGBA_PVRTC_2BPPV1_Format = 2103;\n\t\n\t// Loop styles for AnimationAction\n\t\n\tTHREE.LoopOnce = 2200;\n\tTHREE.LoopRepeat = 2201;\n\tTHREE.LoopPingPong = 2202;\n\t\n\t// DEPRECATED\n\t\n\tTHREE.Projector = function () {\n\t\n\t\tconsole.error( 'THREE.Projector has been moved to /examples/js/renderers/Projector.js.' );\n\t\n\t\tthis.projectVector = function ( vector, camera ) {\n\t\n\t\t\tconsole.warn( 'THREE.Projector: .projectVector() is now vector.project().' );\n\t\t\tvector.project( camera );\n\t\n\t\t};\n\t\n\t\tthis.unprojectVector = function ( vector, camera ) {\n\t\n\t\t\tconsole.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );\n\t\t\tvector.unproject( camera );\n\t\n\t\t};\n\t\n\t\tthis.pickingRay = function ( vector, camera ) {\n\t\n\t\t\tconsole.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );\n\t\n\t\t};\n\t\n\t};\n\t\n\tTHREE.CanvasRenderer = function () {\n\t\n\t\tconsole.error( 'THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js' );\n\t\n\t\tthis.domElement = document.createElement( 'canvas' );\n\t\tthis.clear = function () {};\n\t\tthis.render = function () {};\n\t\tthis.setClearColor = function () {};\n\t\tthis.setSize = function () {};\n\t\n\t};\n\t\n\t// File:src/math/Color.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Color = function ( color ) {\n\t\n\t\tif ( arguments.length === 3 ) {\n\t\n\t\t\treturn this.fromArray( arguments );\n\t\n\t\t}\n\t\n\t\treturn this.set( color );\n\t\n\t};\n\t\n\tTHREE.Color.prototype = {\n\t\n\t\tconstructor: THREE.Color,\n\t\n\t\tr: 1, g: 1, b: 1,\n\t\n\t\tset: function ( value ) {\n\t\n\t\t\tif ( value instanceof THREE.Color ) {\n\t\n\t\t\t\tthis.copy( value );\n\t\n\t\t\t} else if ( typeof value === 'number' ) {\n\t\n\t\t\t\tthis.setHex( value );\n\t\n\t\t\t} else if ( typeof value === 'string' ) {\n\t\n\t\t\t\tthis.setStyle( value );\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetHex: function ( hex ) {\n\t\n\t\t\thex = Math.floor( hex );\n\t\n\t\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\t\tthis.b = ( hex & 255 ) / 255;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetRGB: function ( r, g, b ) {\n\t\n\t\t\tthis.r = r;\n\t\t\tthis.g = g;\n\t\t\tthis.b = b;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetHSL: function () {\n\t\n\t\t\tfunction hue2rgb( p, q, t ) {\n\t\n\t\t\t\tif ( t < 0 ) t += 1;\n\t\t\t\tif ( t > 1 ) t -= 1;\n\t\t\t\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\t\t\t\tif ( t < 1 / 2 ) return q;\n\t\t\t\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\t\t\t\treturn p;\n\t\n\t\t\t}\n\t\n\t\t\treturn function ( h, s, l ) {\n\t\n\t\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\t\t\th = THREE.Math.euclideanModulo( h, 1 );\n\t\t\t\ts = THREE.Math.clamp( s, 0, 1 );\n\t\t\t\tl = THREE.Math.clamp( l, 0, 1 );\n\t\n\t\t\t\tif ( s === 0 ) {\n\t\n\t\t\t\t\tthis.r = this.g = this.b = l;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\t\t\tvar q = ( 2 * l ) - p;\n\t\n\t\t\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tsetStyle: function ( style ) {\n\t\n\t\t\tfunction handleAlpha( string ) {\n\t\n\t\t\t\tif ( string === undefined ) return;\n\t\n\t\t\t\tif ( parseFloat( string ) < 1 ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\n\t\t\tvar m;\n\t\n\t\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\t\n\t\t\t\t// rgb / hsl\n\t\n\t\t\t\tvar color;\n\t\t\t\tvar name = m[ 1 ];\n\t\t\t\tvar components = m[ 2 ];\n\t\n\t\t\t\tswitch ( name ) {\n\t\n\t\t\t\t\tcase 'rgb':\n\t\t\t\t\tcase 'rgba':\n\t\n\t\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\t\n\t\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\t\n\t\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\t\n\t\t\t\t\t\t\treturn this;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\t\n\t\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\t\n\t\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\t\n\t\t\t\t\t\t\treturn this;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'hsl':\n\t\t\t\t\tcase 'hsla':\n\t\n\t\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\t\n\t\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\t\n\t\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\t\n\t\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\t\n\t\t\t\t// hex color\n\t\n\t\t\t\tvar hex = m[ 1 ];\n\t\t\t\tvar size = hex.length;\n\t\n\t\t\t\tif ( size === 3 ) {\n\t\n\t\t\t\t\t// #ff0\n\t\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\t\n\t\t\t\t\treturn this;\n\t\n\t\t\t\t} else if ( size === 6 ) {\n\t\n\t\t\t\t\t// #ff0000\n\t\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\t\n\t\t\t\t\treturn this;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( style && style.length > 0 ) {\n\t\n\t\t\t\t// color keywords\n\t\t\t\tvar hex = THREE.ColorKeywords[ style ];\n\t\n\t\t\t\tif ( hex !== undefined ) {\n\t\n\t\t\t\t\t// red\n\t\t\t\t\tthis.setHex( hex );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// unknown color\n\t\t\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor( this.r, this.g, this.b );\n\t\n\t\t},\n\t\n\t\tcopy: function ( color ) {\n\t\n\t\t\tthis.r = color.r;\n\t\t\tthis.g = color.g;\n\t\t\tthis.b = color.b;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\t\n\t\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\t\n\t\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\t\tthis.b = Math.pow( color.b, gammaFactor );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\t\n\t\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\t\n\t\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\t\n\t\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\t\tthis.b = Math.pow( color.b, safeInverse );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tconvertGammaToLinear: function () {\n\t\n\t\t\tvar r = this.r, g = this.g, b = this.b;\n\t\n\t\t\tthis.r = r * r;\n\t\t\tthis.g = g * g;\n\t\t\tthis.b = b * b;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tconvertLinearToGamma: function () {\n\t\n\t\t\tthis.r = Math.sqrt( this.r );\n\t\t\tthis.g = Math.sqrt( this.g );\n\t\t\tthis.b = Math.sqrt( this.b );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tgetHex: function () {\n\t\n\t\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\t\n\t\t},\n\t\n\t\tgetHexString: function () {\n\t\n\t\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\t\n\t\t},\n\t\n\t\tgetHSL: function ( optionalTarget ) {\n\t\n\t\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\n\t\t\tvar hsl = optionalTarget || { h: 0, s: 0, l: 0 };\n\t\n\t\t\tvar r = this.r, g = this.g, b = this.b;\n\t\n\t\t\tvar max = Math.max( r, g, b );\n\t\t\tvar min = Math.min( r, g, b );\n\t\n\t\t\tvar hue, saturation;\n\t\t\tvar lightness = ( min + max ) / 2.0;\n\t\n\t\t\tif ( min === max ) {\n\t\n\t\t\t\thue = 0;\n\t\t\t\tsaturation = 0;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tvar delta = max - min;\n\t\n\t\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\t\n\t\t\t\tswitch ( max ) {\n\t\n\t\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\t\n\t\t\t\t}\n\t\n\t\t\t\thue /= 6;\n\t\n\t\t\t}\n\t\n\t\t\thsl.h = hue;\n\t\t\thsl.s = saturation;\n\t\t\thsl.l = lightness;\n\t\n\t\t\treturn hsl;\n\t\n\t\t},\n\t\n\t\tgetStyle: function () {\n\t\n\t\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\t\n\t\t},\n\t\n\t\toffsetHSL: function ( h, s, l ) {\n\t\n\t\t\tvar hsl = this.getHSL();\n\t\n\t\t\thsl.h += h; hsl.s += s; hsl.l += l;\n\t\n\t\t\tthis.setHSL( hsl.h, hsl.s, hsl.l );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tadd: function ( color ) {\n\t\n\t\t\tthis.r += color.r;\n\t\t\tthis.g += color.g;\n\t\t\tthis.b += color.b;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddColors: function ( color1, color2 ) {\n\t\n\t\t\tthis.r = color1.r + color2.r;\n\t\t\tthis.g = color1.g + color2.g;\n\t\t\tthis.b = color1.b + color2.b;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScalar: function ( s ) {\n\t\n\t\t\tthis.r += s;\n\t\t\tthis.g += s;\n\t\t\tthis.b += s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiply: function ( color ) {\n\t\n\t\t\tthis.r *= color.r;\n\t\t\tthis.g *= color.g;\n\t\t\tthis.b *= color.b;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyScalar: function ( s ) {\n\t\n\t\t\tthis.r *= s;\n\t\t\tthis.g *= s;\n\t\t\tthis.b *= s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tlerp: function ( color, alpha ) {\n\t\n\t\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\t\tthis.b += ( color.b - this.b ) * alpha;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( c ) {\n\t\n\t\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis.r = array[ offset ];\n\t\t\tthis.g = array[ offset + 1 ];\n\t\t\tthis.b = array[ offset + 2 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this.r;\n\t\t\tarray[ offset + 1 ] = this.g;\n\t\t\tarray[ offset + 2 ] = this.b;\n\t\n\t\t\treturn array;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\t\n\t// File:src/math/Quaternion.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Quaternion = function ( x, y, z, w ) {\n\t\n\t\tthis._x = x || 0;\n\t\tthis._y = y || 0;\n\t\tthis._z = z || 0;\n\t\tthis._w = ( w !== undefined ) ? w : 1;\n\t\n\t};\n\t\n\tTHREE.Quaternion.prototype = {\n\t\n\t\tconstructor: THREE.Quaternion,\n\t\n\t\tget x () {\n\t\n\t\t\treturn this._x;\n\t\n\t\t},\n\t\n\t\tset x ( value ) {\n\t\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget y () {\n\t\n\t\t\treturn this._y;\n\t\n\t\t},\n\t\n\t\tset y ( value ) {\n\t\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget z () {\n\t\n\t\t\treturn this._z;\n\t\n\t\t},\n\t\n\t\tset z ( value ) {\n\t\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget w () {\n\t\n\t\t\treturn this._w;\n\t\n\t\t},\n\t\n\t\tset w ( value ) {\n\t\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tset: function ( x, y, z, w ) {\n\t\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._w = w;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\t\n\t\t},\n\t\n\t\tcopy: function ( quaternion ) {\n\t\n\t\t\tthis._x = quaternion.x;\n\t\t\tthis._y = quaternion.y;\n\t\t\tthis._z = quaternion.z;\n\t\t\tthis._w = quaternion.w;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromEuler: function ( euler, update ) {\n\t\n\t\t\tif ( euler instanceof THREE.Euler === false ) {\n\t\n\t\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\t\n\t\t\t}\n\t\n\t\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t\t//\tcontent/SpinCalc.m\n\t\n\t\t\tvar c1 = Math.cos( euler._x / 2 );\n\t\t\tvar c2 = Math.cos( euler._y / 2 );\n\t\t\tvar c3 = Math.cos( euler._z / 2 );\n\t\t\tvar s1 = Math.sin( euler._x / 2 );\n\t\t\tvar s2 = Math.sin( euler._y / 2 );\n\t\t\tvar s3 = Math.sin( euler._z / 2 );\n\t\n\t\t\tvar order = euler.order;\n\t\n\t\t\tif ( order === 'XYZ' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\n\t\t\t} else if ( order === 'YXZ' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\n\t\t\t} else if ( order === 'ZXY' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\n\t\t\t} else if ( order === 'ZYX' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\n\t\t\t} else if ( order === 'YZX' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\n\t\t\t} else if ( order === 'XZY' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\n\t\t\t}\n\t\n\t\t\tif ( update !== false ) this.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromAxisAngle: function ( axis, angle ) {\n\t\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\t\n\t\t\t// assumes axis is normalized\n\t\n\t\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\t\n\t\t\tthis._x = axis.x * s;\n\t\t\tthis._y = axis.y * s;\n\t\t\tthis._z = axis.z * s;\n\t\t\tthis._w = Math.cos( halfAngle );\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromRotationMatrix: function ( m ) {\n\t\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\t\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\n\t\t\tvar te = m.elements,\n\t\n\t\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\t\n\t\t\t\ttrace = m11 + m22 + m33,\n\t\t\t\ts;\n\t\n\t\t\tif ( trace > 0 ) {\n\t\n\t\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\t\n\t\t\t\tthis._w = 0.25 / s;\n\t\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\t\tthis._z = ( m21 - m12 ) * s;\n\t\n\t\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\t\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\t\n\t\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\t\tthis._x = 0.25 * s;\n\t\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\t\tthis._z = ( m13 + m31 ) / s;\n\t\n\t\t\t} else if ( m22 > m33 ) {\n\t\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\t\n\t\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\t\tthis._y = 0.25 * s;\n\t\t\t\tthis._z = ( m23 + m32 ) / s;\n\t\n\t\t\t} else {\n\t\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\t\n\t\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\t\tthis._z = 0.25 * s;\n\t\n\t\t\t}\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromUnitVectors: function () {\n\t\n\t\t\t// http://lolengine.net/blog/2014/02/24/quaternion-from-two-vectors-final\n\t\n\t\t\t// assumes direction vectors vFrom and vTo are normalized\n\t\n\t\t\tvar v1, r;\n\t\n\t\t\tvar EPS = 0.000001;\n\t\n\t\t\treturn function ( vFrom, vTo ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\tr = vFrom.dot( vTo ) + 1;\n\t\n\t\t\t\tif ( r < EPS ) {\n\t\n\t\t\t\t\tr = 0;\n\t\n\t\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\t\n\t\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tv1.crossVectors( vFrom, vTo );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis._x = v1.x;\n\t\t\t\tthis._y = v1.y;\n\t\t\t\tthis._z = v1.z;\n\t\t\t\tthis._w = r;\n\t\n\t\t\t\tthis.normalize();\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t}(),\n\t\n\t\tinverse: function () {\n\t\n\t\t\tthis.conjugate().normalize();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tconjugate: function () {\n\t\n\t\t\tthis._x *= - 1;\n\t\t\tthis._y *= - 1;\n\t\t\tthis._z *= - 1;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdot: function ( v ) {\n\t\n\t\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\t\n\t\t},\n\t\n\t\tlengthSq: function () {\n\t\n\t\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\t\n\t\t},\n\t\n\t\tlength: function () {\n\t\n\t\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\tvar l = this.length();\n\t\n\t\t\tif ( l === 0 ) {\n\t\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = 1;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tl = 1 / l;\n\t\n\t\t\t\tthis._x = this._x * l;\n\t\t\t\tthis._y = this._y * l;\n\t\t\t\tthis._z = this._z * l;\n\t\t\t\tthis._w = this._w * l;\n\t\n\t\t\t}\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiply: function ( q, p ) {\n\t\n\t\t\tif ( p !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\t\treturn this.multiplyQuaternions( q, p );\n\t\n\t\t\t}\n\t\n\t\t\treturn this.multiplyQuaternions( this, q );\n\t\n\t\t},\n\t\n\t\tmultiplyQuaternions: function ( a, b ) {\n\t\n\t\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\t\n\t\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\t\n\t\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyVector3: function ( vector ) {\n\t\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\t\t\treturn vector.applyQuaternion( this );\n\t\n\t\t},\n\t\n\t\tslerp: function ( qb, t ) {\n\t\n\t\t\tif ( t === 0 ) return this;\n\t\t\tif ( t === 1 ) return this.copy( qb );\n\t\n\t\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\t\n\t\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\t\n\t\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\t\n\t\t\tif ( cosHalfTheta < 0 ) {\n\t\n\t\t\t\tthis._w = - qb._w;\n\t\t\t\tthis._x = - qb._x;\n\t\t\t\tthis._y = - qb._y;\n\t\t\t\tthis._z = - qb._z;\n\t\n\t\t\t\tcosHalfTheta = - cosHalfTheta;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tthis.copy( qb );\n\t\n\t\t\t}\n\t\n\t\t\tif ( cosHalfTheta >= 1.0 ) {\n\t\n\t\t\t\tthis._w = w;\n\t\t\t\tthis._x = x;\n\t\t\t\tthis._y = y;\n\t\t\t\tthis._z = z;\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t\tvar halfTheta = Math.acos( cosHalfTheta );\n\t\t\tvar sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\t\n\t\t\tif ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\t\n\t\t\t\tthis._w = 0.5 * ( w + this._w );\n\t\t\t\tthis._x = 0.5 * ( x + this._x );\n\t\t\t\tthis._y = 0.5 * ( y + this._y );\n\t\t\t\tthis._z = 0.5 * ( z + this._z );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\t\n\t\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( quaternion ) {\n\t\n\t\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis._x = array[ offset ];\n\t\t\tthis._y = array[ offset + 1 ];\n\t\t\tthis._z = array[ offset + 2 ];\n\t\t\tthis._w = array[ offset + 3 ];\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this._x;\n\t\t\tarray[ offset + 1 ] = this._y;\n\t\t\tarray[ offset + 2 ] = this._z;\n\t\t\tarray[ offset + 3 ] = this._w;\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tonChange: function ( callback ) {\n\t\n\t\t\tthis.onChangeCallback = callback;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tonChangeCallback: function () {}\n\t\n\t};\n\t\n\tTHREE.Quaternion.slerp = function ( qa, qb, qm, t ) {\n\t\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\t\n\t};\n\t\n\t// File:src/math/Vector2.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author philogb / http://blog.thejit.org/\n\t * @author egraether / http://egraether.com/\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t */\n\t\n\tTHREE.Vector2 = function ( x, y ) {\n\t\n\t\tthis.x = x || 0;\n\t\tthis.y = y || 0;\n\t\n\t};\n\t\n\tTHREE.Vector2.prototype = {\n\t\n\t\tconstructor: THREE.Vector2,\n\t\n\t\tget width() { return this.x },\n\t\tset width( value ) { this.x = value },\n\t\n\t\tget height() { return this.y },\n\t\tset height( value ) { this.y = value },\n\t\n\t\t//\n\t\n\t\tset: function ( x, y ) {\n\t\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetX: function ( x ) {\n\t\n\t\t\tthis.x = x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetY: function ( y ) {\n\t\n\t\t\tthis.y = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetComponent: function ( index, value ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: this.x = value; break;\n\t\t\t\tcase 1: this.y = value; break;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tgetComponent: function ( index ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: return this.x;\n\t\t\t\tcase 1: return this.y;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor( this.x, this.y );\n\t\n\t\t},\n\t\n\t\tcopy: function ( v ) {\n\t\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tadd: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\t\treturn this.addVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScalar: function ( s ) {\n\t\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScaledVector: function ( v, s ) {\n\t\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsub: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\t\treturn this.subVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsubScalar: function ( s ) {\n\t\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsubVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiply: function ( v ) {\n\t\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyScalar: function ( scalar ) {\n\t\n\t\t\tif ( isFinite( scalar ) ) {\n\t\t\t\tthis.x *= scalar;\n\t\t\t\tthis.y *= scalar;\n\t\t\t} else {\n\t\t\t\tthis.x = 0;\n\t\t\t\tthis.y = 0;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivide: function ( v ) {\n\t\n\t\t\tthis.x /= v.x;\n\t\t\tthis.y /= v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivideScalar: function ( scalar ) {\n\t\n\t\t\treturn this.multiplyScalar( 1 / scalar );\n\t\n\t\t},\n\t\n\t\tmin: function ( v ) {\n\t\n\t\t\tthis.x = Math.min( this.x, v.x );\n\t\t\tthis.y = Math.min( this.y, v.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmax: function ( v ) {\n\t\n\t\t\tthis.x = Math.max( this.x, v.x );\n\t\t\tthis.y = Math.max( this.y, v.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclamp: function ( min, max ) {\n\t\n\t\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\n\t\n\t\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclampScalar: function () {\n\t\n\t\t\tvar min, max;\n\t\n\t\t\treturn function clampScalar( minVal, maxVal ) {\n\t\n\t\t\t\tif ( min === undefined ) {\n\t\n\t\t\t\t\tmin = new THREE.Vector2();\n\t\t\t\t\tmax = new THREE.Vector2();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tmin.set( minVal, minVal );\n\t\t\t\tmax.set( maxVal, maxVal );\n\t\n\t\t\t\treturn this.clamp( min, max );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tclampLength: function ( min, max ) {\n\t\n\t\t\tvar length = this.length();\n\t\n\t\t\tthis.multiplyScalar( Math.max( min, Math.min( max, length ) ) / length );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tfloor: function () {\n\t\n\t\t\tthis.x = Math.floor( this.x );\n\t\t\tthis.y = Math.floor( this.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tceil: function () {\n\t\n\t\t\tthis.x = Math.ceil( this.x );\n\t\t\tthis.y = Math.ceil( this.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tround: function () {\n\t\n\t\t\tthis.x = Math.round( this.x );\n\t\t\tthis.y = Math.round( this.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\troundToZero: function () {\n\t\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tnegate: function () {\n\t\n\t\t\tthis.x = - this.x;\n\t\t\tthis.y = - this.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdot: function ( v ) {\n\t\n\t\t\treturn this.x * v.x + this.y * v.y;\n\t\n\t\t},\n\t\n\t\tlengthSq: function () {\n\t\n\t\t\treturn this.x * this.x + this.y * this.y;\n\t\n\t\t},\n\t\n\t\tlength: function () {\n\t\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\t\n\t\t},\n\t\n\t\tlengthManhattan: function() {\n\t\n\t\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\treturn this.divideScalar( this.length() );\n\t\n\t\t},\n\t\n\t\tdistanceTo: function ( v ) {\n\t\n\t\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\t\n\t\t},\n\t\n\t\tdistanceToSquared: function ( v ) {\n\t\n\t\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\n\t\t},\n\t\n\t\tsetLength: function ( length ) {\n\t\n\t\t\treturn this.multiplyScalar( length / this.length() );\n\t\n\t\t},\n\t\n\t\tlerp: function ( v, alpha ) {\n\t\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tlerpVectors: function ( v1, v2, alpha ) {\n\t\n\t\t\tthis.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( v ) {\n\t\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis.x = array[ offset ];\n\t\t\tthis.y = array[ offset + 1 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this.x;\n\t\t\tarray[ offset + 1 ] = this.y;\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tfromAttribute: function ( attribute, index, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tindex = index * attribute.itemSize + offset;\n\t\n\t\t\tthis.x = attribute.array[ index ];\n\t\t\tthis.y = attribute.array[ index + 1 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\trotateAround: function ( center, angle ) {\n\t\n\t\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\t\n\t\t\tvar x = this.x - center.x;\n\t\t\tvar y = this.y - center.y;\n\t\n\t\t\tthis.x = x * c - y * s + center.x;\n\t\t\tthis.y = x * s + y * c + center.y;\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Vector3.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author *kile / http://kile.stravaganza.org/\n\t * @author philogb / http://blog.thejit.org/\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author egraether / http://egraether.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t */\n\t\n\tTHREE.Vector3 = function ( x, y, z ) {\n\t\n\t\tthis.x = x || 0;\n\t\tthis.y = y || 0;\n\t\tthis.z = z || 0;\n\t\n\t};\n\t\n\tTHREE.Vector3.prototype = {\n\t\n\t\tconstructor: THREE.Vector3,\n\t\n\t\tset: function ( x, y, z ) {\n\t\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetX: function ( x ) {\n\t\n\t\t\tthis.x = x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetY: function ( y ) {\n\t\n\t\t\tthis.y = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetZ: function ( z ) {\n\t\n\t\t\tthis.z = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetComponent: function ( index, value ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: this.x = value; break;\n\t\t\t\tcase 1: this.y = value; break;\n\t\t\t\tcase 2: this.z = value; break;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tgetComponent: function ( index ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: return this.x;\n\t\t\t\tcase 1: return this.y;\n\t\t\t\tcase 2: return this.z;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor( this.x, this.y, this.z );\n\t\n\t\t},\n\t\n\t\tcopy: function ( v ) {\n\t\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\tthis.z = v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tadd: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\t\treturn this.addVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\tthis.z += v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScalar: function ( s ) {\n\t\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\tthis.z += s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\tthis.z = a.z + b.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScaledVector: function ( v, s ) {\n\t\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\t\tthis.z += v.z * s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsub: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\t\treturn this.subVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\tthis.z -= v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsubScalar: function ( s ) {\n\t\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\t\tthis.z -= s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsubVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\tthis.z = a.z - b.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiply: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\t\treturn this.multiplyVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\t\tthis.z *= v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyScalar: function ( scalar ) {\n\t\n\t\t\tif ( isFinite( scalar ) ) {\n\t\t\t\tthis.x *= scalar;\n\t\t\t\tthis.y *= scalar;\n\t\t\t\tthis.z *= scalar;\n\t\t\t} else {\n\t\t\t\tthis.x = 0;\n\t\t\t\tthis.y = 0;\n\t\t\t\tthis.z = 0;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x * b.x;\n\t\t\tthis.y = a.y * b.y;\n\t\t\tthis.z = a.z * b.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyEuler: function () {\n\t\n\t\t\tvar quaternion;\n\t\n\t\t\treturn function applyEuler( euler ) {\n\t\n\t\t\t\tif ( euler instanceof THREE.Euler === false ) {\n\t\n\t\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( quaternion === undefined ) quaternion = new THREE.Quaternion();\n\t\n\t\t\t\tthis.applyQuaternion( quaternion.setFromEuler( euler ) );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tapplyAxisAngle: function () {\n\t\n\t\t\tvar quaternion;\n\t\n\t\t\treturn function applyAxisAngle( axis, angle ) {\n\t\n\t\t\t\tif ( quaternion === undefined ) quaternion = new THREE.Quaternion();\n\t\n\t\t\t\tthis.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tapplyMatrix3: function ( m ) {\n\t\n\t\t\tvar x = this.x;\n\t\t\tvar y = this.y;\n\t\t\tvar z = this.z;\n\t\n\t\t\tvar e = m.elements;\n\t\n\t\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyMatrix4: function ( m ) {\n\t\n\t\t\t// input: THREE.Matrix4 affine matrix\n\t\n\t\t\tvar x = this.x, y = this.y, z = this.z;\n\t\n\t\t\tvar e = m.elements;\n\t\n\t\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ];\n\t\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ];\n\t\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyProjection: function ( m ) {\n\t\n\t\t\t// input: THREE.Matrix4 projection matrix\n\t\n\t\t\tvar x = this.x, y = this.y, z = this.z;\n\t\n\t\t\tvar e = m.elements;\n\t\t\tvar d = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] ); // perspective divide\n\t\n\t\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ] ) * d;\n\t\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ] ) * d;\n\t\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * d;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyQuaternion: function ( q ) {\n\t\n\t\t\tvar x = this.x;\n\t\t\tvar y = this.y;\n\t\t\tvar z = this.z;\n\t\n\t\t\tvar qx = q.x;\n\t\t\tvar qy = q.y;\n\t\t\tvar qz = q.z;\n\t\t\tvar qw = q.w;\n\t\n\t\t\t// calculate quat * vector\n\t\n\t\t\tvar ix =  qw * x + qy * z - qz * y;\n\t\t\tvar iy =  qw * y + qz * x - qx * z;\n\t\t\tvar iz =  qw * z + qx * y - qy * x;\n\t\t\tvar iw = - qx * x - qy * y - qz * z;\n\t\n\t\t\t// calculate result * inverse quat\n\t\n\t\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tproject: function () {\n\t\n\t\t\tvar matrix;\n\t\n\t\t\treturn function project( camera ) {\n\t\n\t\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\n\t\n\t\t\t\tmatrix.multiplyMatrices( camera.projectionMatrix, matrix.getInverse( camera.matrixWorld ) );\n\t\t\t\treturn this.applyProjection( matrix );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tunproject: function () {\n\t\n\t\t\tvar matrix;\n\t\n\t\t\treturn function unproject( camera ) {\n\t\n\t\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\n\t\n\t\t\t\tmatrix.multiplyMatrices( camera.matrixWorld, matrix.getInverse( camera.projectionMatrix ) );\n\t\t\t\treturn this.applyProjection( matrix );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttransformDirection: function ( m ) {\n\t\n\t\t\t// input: THREE.Matrix4 affine matrix\n\t\t\t// vector interpreted as a direction\n\t\n\t\t\tvar x = this.x, y = this.y, z = this.z;\n\t\n\t\t\tvar e = m.elements;\n\t\n\t\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z;\n\t\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z;\n\t\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\t\n\t\t\tthis.normalize();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivide: function ( v ) {\n\t\n\t\t\tthis.x /= v.x;\n\t\t\tthis.y /= v.y;\n\t\t\tthis.z /= v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivideScalar: function ( scalar ) {\n\t\n\t\t\treturn this.multiplyScalar( 1 / scalar );\n\t\n\t\t},\n\t\n\t\tmin: function ( v ) {\n\t\n\t\t\tthis.x = Math.min( this.x, v.x );\n\t\t\tthis.y = Math.min( this.y, v.y );\n\t\t\tthis.z = Math.min( this.z, v.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmax: function ( v ) {\n\t\n\t\t\tthis.x = Math.max( this.x, v.x );\n\t\t\tthis.y = Math.max( this.y, v.y );\n\t\t\tthis.z = Math.max( this.z, v.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclamp: function ( min, max ) {\n\t\n\t\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\n\t\n\t\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclampScalar: function () {\n\t\n\t\t\tvar min, max;\n\t\n\t\t\treturn function clampScalar( minVal, maxVal ) {\n\t\n\t\t\t\tif ( min === undefined ) {\n\t\n\t\t\t\t\tmin = new THREE.Vector3();\n\t\t\t\t\tmax = new THREE.Vector3();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\t\tmax.set( maxVal, maxVal, maxVal );\n\t\n\t\t\t\treturn this.clamp( min, max );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tclampLength: function ( min, max ) {\n\t\n\t\t\tvar length = this.length();\n\t\n\t\t\tthis.multiplyScalar( Math.max( min, Math.min( max, length ) ) / length );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tfloor: function () {\n\t\n\t\t\tthis.x = Math.floor( this.x );\n\t\t\tthis.y = Math.floor( this.y );\n\t\t\tthis.z = Math.floor( this.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tceil: function () {\n\t\n\t\t\tthis.x = Math.ceil( this.x );\n\t\t\tthis.y = Math.ceil( this.y );\n\t\t\tthis.z = Math.ceil( this.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tround: function () {\n\t\n\t\t\tthis.x = Math.round( this.x );\n\t\t\tthis.y = Math.round( this.y );\n\t\t\tthis.z = Math.round( this.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\troundToZero: function () {\n\t\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tnegate: function () {\n\t\n\t\t\tthis.x = - this.x;\n\t\t\tthis.y = - this.y;\n\t\t\tthis.z = - this.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdot: function ( v ) {\n\t\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\t\n\t\t},\n\t\n\t\tlengthSq: function () {\n\t\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\t\n\t\t},\n\t\n\t\tlength: function () {\n\t\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\t\n\t\t},\n\t\n\t\tlengthManhattan: function () {\n\t\n\t\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\treturn this.divideScalar( this.length() );\n\t\n\t\t},\n\t\n\t\tsetLength: function ( length ) {\n\t\n\t\t\treturn this.multiplyScalar( length / this.length() );\n\t\n\t\t},\n\t\n\t\tlerp: function ( v, alpha ) {\n\t\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tlerpVectors: function ( v1, v2, alpha ) {\n\t\n\t\t\tthis.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcross: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\t\treturn this.crossVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tvar x = this.x, y = this.y, z = this.z;\n\t\n\t\t\tthis.x = y * v.z - z * v.y;\n\t\t\tthis.y = z * v.x - x * v.z;\n\t\t\tthis.z = x * v.y - y * v.x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcrossVectors: function ( a, b ) {\n\t\n\t\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\t\tvar bx = b.x, by = b.y, bz = b.z;\n\t\n\t\t\tthis.x = ay * bz - az * by;\n\t\t\tthis.y = az * bx - ax * bz;\n\t\t\tthis.z = ax * by - ay * bx;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tprojectOnVector: function () {\n\t\n\t\t\tvar v1, dot;\n\t\n\t\t\treturn function projectOnVector( vector ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\tv1.copy( vector ).normalize();\n\t\n\t\t\t\tdot = this.dot( v1 );\n\t\n\t\t\t\treturn this.copy( v1 ).multiplyScalar( dot );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tprojectOnPlane: function () {\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function projectOnPlane( planeNormal ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\t\n\t\t\t\treturn this.sub( v1 );\n\t\n\t\t\t}\n\t\n\t\t}(),\n\t\n\t\treflect: function () {\n\t\n\t\t\t// reflect incident vector off plane orthogonal to normal\n\t\t\t// normal is assumed to have unit length\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function reflect( normal ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\t\n\t\t\t}\n\t\n\t\t}(),\n\t\n\t\tangleTo: function ( v ) {\n\t\n\t\t\tvar theta = this.dot( v ) / ( this.length() * v.length() );\n\t\n\t\t\t// clamp, to handle numerical problems\n\t\n\t\t\treturn Math.acos( THREE.Math.clamp( theta, - 1, 1 ) );\n\t\n\t\t},\n\t\n\t\tdistanceTo: function ( v ) {\n\t\n\t\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\t\n\t\t},\n\t\n\t\tdistanceToSquared: function ( v ) {\n\t\n\t\t\tvar dx = this.x - v.x;\n\t\t\tvar dy = this.y - v.y;\n\t\t\tvar dz = this.z - v.z;\n\t\n\t\t\treturn dx * dx + dy * dy + dz * dz;\n\t\n\t\t},\n\t\n\t\tsetEulerFromRotationMatrix: function ( m, order ) {\n\t\n\t\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\t\n\t\t},\n\t\n\t\tsetEulerFromQuaternion: function ( q, order ) {\n\t\n\t\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\t\n\t\t},\n\t\n\t\tgetPositionFromMatrix: function ( m ) {\n\t\n\t\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\n\t\t\treturn this.setFromMatrixPosition( m );\n\t\n\t\t},\n\t\n\t\tgetScaleFromMatrix: function ( m ) {\n\t\n\t\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\n\t\t\treturn this.setFromMatrixScale( m );\n\t\n\t\t},\n\t\n\t\tgetColumnFromMatrix: function ( index, matrix ) {\n\t\n\t\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\n\t\t\treturn this.setFromMatrixColumn( index, matrix );\n\t\n\t\t},\n\t\n\t\tsetFromMatrixPosition: function ( m ) {\n\t\n\t\t\tthis.x = m.elements[ 12 ];\n\t\t\tthis.y = m.elements[ 13 ];\n\t\t\tthis.z = m.elements[ 14 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromMatrixScale: function ( m ) {\n\t\n\t\t\tvar sx = this.set( m.elements[ 0 ], m.elements[ 1 ], m.elements[ 2 ] ).length();\n\t\t\tvar sy = this.set( m.elements[ 4 ], m.elements[ 5 ], m.elements[ 6 ] ).length();\n\t\t\tvar sz = this.set( m.elements[ 8 ], m.elements[ 9 ], m.elements[ 10 ] ).length();\n\t\n\t\t\tthis.x = sx;\n\t\t\tthis.y = sy;\n\t\t\tthis.z = sz;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromMatrixColumn: function ( index, matrix ) {\n\t\n\t\t\tvar offset = index * 4;\n\t\n\t\t\tvar me = matrix.elements;\n\t\n\t\t\tthis.x = me[ offset ];\n\t\t\tthis.y = me[ offset + 1 ];\n\t\t\tthis.z = me[ offset + 2 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( v ) {\n\t\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis.x = array[ offset ];\n\t\t\tthis.y = array[ offset + 1 ];\n\t\t\tthis.z = array[ offset + 2 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this.x;\n\t\t\tarray[ offset + 1 ] = this.y;\n\t\t\tarray[ offset + 2 ] = this.z;\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tfromAttribute: function ( attribute, index, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tindex = index * attribute.itemSize + offset;\n\t\n\t\t\tthis.x = attribute.array[ index ];\n\t\t\tthis.y = attribute.array[ index + 1 ];\n\t\t\tthis.z = attribute.array[ index + 2 ];\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Vector4.js\n\t\n\t/**\n\t * @author supereggbert / http://www.paulbrunt.co.uk/\n\t * @author philogb / http://blog.thejit.org/\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author egraether / http://egraether.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t */\n\t\n\tTHREE.Vector4 = function ( x, y, z, w ) {\n\t\n\t\tthis.x = x || 0;\n\t\tthis.y = y || 0;\n\t\tthis.z = z || 0;\n\t\tthis.w = ( w !== undefined ) ? w : 1;\n\t\n\t};\n\t\n\tTHREE.Vector4.prototype = {\n\t\n\t\tconstructor: THREE.Vector4,\n\t\n\t\tset: function ( x, y, z, w ) {\n\t\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\t\tthis.w = w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetX: function ( x ) {\n\t\n\t\t\tthis.x = x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetY: function ( y ) {\n\t\n\t\t\tthis.y = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetZ: function ( z ) {\n\t\n\t\t\tthis.z = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetW: function ( w ) {\n\t\n\t\t\tthis.w = w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetComponent: function ( index, value ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: this.x = value; break;\n\t\t\t\tcase 1: this.y = value; break;\n\t\t\t\tcase 2: this.z = value; break;\n\t\t\t\tcase 3: this.w = value; break;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tgetComponent: function ( index ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: return this.x;\n\t\t\t\tcase 1: return this.y;\n\t\t\t\tcase 2: return this.z;\n\t\t\t\tcase 3: return this.w;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\t\n\t\t},\n\t\n\t\tcopy: function ( v ) {\n\t\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\tthis.z = v.z;\n\t\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tadd: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\t\treturn this.addVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\tthis.z += v.z;\n\t\t\tthis.w += v.w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScalar: function ( s ) {\n\t\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\tthis.z += s;\n\t\t\tthis.w += s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\tthis.z = a.z + b.z;\n\t\t\tthis.w = a.w + b.w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScaledVector: function ( v, s ) {\n\t\n\t\t\tthis.x += v.x * s;\n\t\t\tthis.y += v.y * s;\n\t\t\tthis.z += v.z * s;\n\t\t\tthis.w += v.w * s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsub: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\t\treturn this.subVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\tthis.z -= v.z;\n\t\t\tthis.w -= v.w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsubScalar: function ( s ) {\n\t\n\t\t\tthis.x -= s;\n\t\t\tthis.y -= s;\n\t\t\tthis.z -= s;\n\t\t\tthis.w -= s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsubVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\tthis.z = a.z - b.z;\n\t\t\tthis.w = a.w - b.w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyScalar: function ( scalar ) {\n\t\n\t\t\tif ( isFinite( scalar ) ) {\n\t\t\t\tthis.x *= scalar;\n\t\t\t\tthis.y *= scalar;\n\t\t\t\tthis.z *= scalar;\n\t\t\t\tthis.w *= scalar;\n\t\t\t} else {\n\t\t\t\tthis.x = 0;\n\t\t\t\tthis.y = 0;\n\t\t\t\tthis.z = 0;\n\t\t\t\tthis.w = 0;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyMatrix4: function ( m ) {\n\t\n\t\t\tvar x = this.x;\n\t\t\tvar y = this.y;\n\t\t\tvar z = this.z;\n\t\t\tvar w = this.w;\n\t\n\t\t\tvar e = m.elements;\n\t\n\t\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivideScalar: function ( scalar ) {\n\t\n\t\t\treturn this.multiplyScalar( 1 / scalar );\n\t\n\t\t},\n\t\n\t\tsetAxisAngleFromQuaternion: function ( q ) {\n\t\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\t\n\t\t\t// q is assumed to be normalized\n\t\n\t\t\tthis.w = 2 * Math.acos( q.w );\n\t\n\t\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\t\n\t\t\tif ( s < 0.0001 ) {\n\t\n\t\t\t\t this.x = 1;\n\t\t\t\t this.y = 0;\n\t\t\t\t this.z = 0;\n\t\n\t\t\t} else {\n\t\n\t\t\t\t this.x = q.x / s;\n\t\t\t\t this.y = q.y / s;\n\t\t\t\t this.z = q.z / s;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\t\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\t\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\n\t\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\t\n\t\t\t\tte = m.elements,\n\t\n\t\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\t\n\t\t\tif ( ( Math.abs( m12 - m21 ) < epsilon )\n\t\t\t   && ( Math.abs( m13 - m31 ) < epsilon )\n\t\t\t   && ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\t\n\t\t\t\t// singularity found\n\t\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t\t// in leading diagonal and zero in other terms\n\t\n\t\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 )\n\t\t\t\t   && ( Math.abs( m13 + m31 ) < epsilon2 )\n\t\t\t\t   && ( Math.abs( m23 + m32 ) < epsilon2 )\n\t\t\t\t   && ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\t\n\t\t\t\t\t// this singularity is identity matrix so angle = 0\n\t\n\t\t\t\t\tthis.set( 1, 0, 0, 0 );\n\t\n\t\t\t\t\treturn this; // zero angle, arbitrary axis\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// otherwise this singularity is angle = 180\n\t\n\t\t\t\tangle = Math.PI;\n\t\n\t\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\t\tvar yz = ( m23 + m32 ) / 4;\n\t\n\t\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\t\n\t\t\t\t\t// m11 is the largest diagonal term\n\t\n\t\t\t\t\tif ( xx < epsilon ) {\n\t\n\t\t\t\t\t\tx = 0;\n\t\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\t\tz = 0.707106781;\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\t\ty = xy / x;\n\t\t\t\t\t\tz = xz / x;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else if ( yy > zz ) {\n\t\n\t\t\t\t\t// m22 is the largest diagonal term\n\t\n\t\t\t\t\tif ( yy < epsilon ) {\n\t\n\t\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\t\ty = 0;\n\t\t\t\t\t\tz = 0.707106781;\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\t\tx = xy / y;\n\t\t\t\t\t\tz = yz / y;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// m33 is the largest diagonal term so base result on this\n\t\n\t\t\t\t\tif ( zz < epsilon ) {\n\t\n\t\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\t\tz = 0;\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\t\tx = xz / z;\n\t\t\t\t\t\ty = yz / z;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.set( x, y, z, angle );\n\t\n\t\t\t\treturn this; // return 180 deg rotation\n\t\n\t\t\t}\n\t\n\t\t\t// as we have reached here there are no singularities so we can handle normally\n\t\n\t\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 )\n\t\t\t\t\t\t\t  + ( m13 - m31 ) * ( m13 - m31 )\n\t\t\t\t\t\t\t  + ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\t\n\t\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\t\n\t\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t\t// caught by singularity test above, but I've left it in just in case\n\t\n\t\t\tthis.x = ( m32 - m23 ) / s;\n\t\t\tthis.y = ( m13 - m31 ) / s;\n\t\t\tthis.z = ( m21 - m12 ) / s;\n\t\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmin: function ( v ) {\n\t\n\t\t\tthis.x = Math.min( this.x, v.x );\n\t\t\tthis.y = Math.min( this.y, v.y );\n\t\t\tthis.z = Math.min( this.z, v.z );\n\t\t\tthis.w = Math.min( this.w, v.w );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmax: function ( v ) {\n\t\n\t\t\tthis.x = Math.max( this.x, v.x );\n\t\t\tthis.y = Math.max( this.y, v.y );\n\t\t\tthis.z = Math.max( this.z, v.z );\n\t\t\tthis.w = Math.max( this.w, v.w );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclamp: function ( min, max ) {\n\t\n\t\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\n\t\n\t\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclampScalar: function () {\n\t\n\t\t\tvar min, max;\n\t\n\t\t\treturn function clampScalar( minVal, maxVal ) {\n\t\n\t\t\t\tif ( min === undefined ) {\n\t\n\t\t\t\t\tmin = new THREE.Vector4();\n\t\t\t\t\tmax = new THREE.Vector4();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tmin.set( minVal, minVal, minVal, minVal );\n\t\t\t\tmax.set( maxVal, maxVal, maxVal, maxVal );\n\t\n\t\t\t\treturn this.clamp( min, max );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tfloor: function () {\n\t\n\t\t\tthis.x = Math.floor( this.x );\n\t\t\tthis.y = Math.floor( this.y );\n\t\t\tthis.z = Math.floor( this.z );\n\t\t\tthis.w = Math.floor( this.w );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tceil: function () {\n\t\n\t\t\tthis.x = Math.ceil( this.x );\n\t\t\tthis.y = Math.ceil( this.y );\n\t\t\tthis.z = Math.ceil( this.z );\n\t\t\tthis.w = Math.ceil( this.w );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tround: function () {\n\t\n\t\t\tthis.x = Math.round( this.x );\n\t\t\tthis.y = Math.round( this.y );\n\t\t\tthis.z = Math.round( this.z );\n\t\t\tthis.w = Math.round( this.w );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\troundToZero: function () {\n\t\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tnegate: function () {\n\t\n\t\t\tthis.x = - this.x;\n\t\t\tthis.y = - this.y;\n\t\t\tthis.z = - this.z;\n\t\t\tthis.w = - this.w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdot: function ( v ) {\n\t\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\t\n\t\t},\n\t\n\t\tlengthSq: function () {\n\t\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\t\n\t\t},\n\t\n\t\tlength: function () {\n\t\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\t\n\t\t},\n\t\n\t\tlengthManhattan: function () {\n\t\n\t\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\treturn this.divideScalar( this.length() );\n\t\n\t\t},\n\t\n\t\tsetLength: function ( length ) {\n\t\n\t\t\treturn this.multiplyScalar( length / this.length() );\n\t\n\t\t},\n\t\n\t\tlerp: function ( v, alpha ) {\n\t\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\t\tthis.w += ( v.w - this.w ) * alpha;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tlerpVectors: function ( v1, v2, alpha ) {\n\t\n\t\t\tthis.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( v ) {\n\t\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis.x = array[ offset ];\n\t\t\tthis.y = array[ offset + 1 ];\n\t\t\tthis.z = array[ offset + 2 ];\n\t\t\tthis.w = array[ offset + 3 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this.x;\n\t\t\tarray[ offset + 1 ] = this.y;\n\t\t\tarray[ offset + 2 ] = this.z;\n\t\t\tarray[ offset + 3 ] = this.w;\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tfromAttribute: function ( attribute, index, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tindex = index * attribute.itemSize + offset;\n\t\n\t\t\tthis.x = attribute.array[ index ];\n\t\t\tthis.y = attribute.array[ index + 1 ];\n\t\t\tthis.z = attribute.array[ index + 2 ];\n\t\t\tthis.w = attribute.array[ index + 3 ];\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Euler.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Euler = function ( x, y, z, order ) {\n\t\n\t\tthis._x = x || 0;\n\t\tthis._y = y || 0;\n\t\tthis._z = z || 0;\n\t\tthis._order = order || THREE.Euler.DefaultOrder;\n\t\n\t};\n\t\n\tTHREE.Euler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\t\n\tTHREE.Euler.DefaultOrder = 'XYZ';\n\t\n\tTHREE.Euler.prototype = {\n\t\n\t\tconstructor: THREE.Euler,\n\t\n\t\tget x () {\n\t\n\t\t\treturn this._x;\n\t\n\t\t},\n\t\n\t\tset x ( value ) {\n\t\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget y () {\n\t\n\t\t\treturn this._y;\n\t\n\t\t},\n\t\n\t\tset y ( value ) {\n\t\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget z () {\n\t\n\t\t\treturn this._z;\n\t\n\t\t},\n\t\n\t\tset z ( value ) {\n\t\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget order () {\n\t\n\t\t\treturn this._order;\n\t\n\t\t},\n\t\n\t\tset order ( value ) {\n\t\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tset: function ( x, y, z, order ) {\n\t\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._order = order || this._order;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor( this._x, this._y, this._z, this._order);\n\t\n\t\t},\n\t\n\t\tcopy: function ( euler ) {\n\t\n\t\t\tthis._x = euler._x;\n\t\t\tthis._y = euler._y;\n\t\t\tthis._z = euler._z;\n\t\t\tthis._order = euler._order;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromRotationMatrix: function ( m, order, update ) {\n\t\n\t\t\tvar clamp = THREE.Math.clamp;\n\t\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\n\t\t\tvar te = m.elements;\n\t\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\t\n\t\t\torder = order || this._order;\n\t\n\t\t\tif ( order === 'XYZ' ) {\n\t\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'YXZ' ) {\n\t\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'ZXY' ) {\n\t\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'ZYX' ) {\n\t\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'YZX' ) {\n\t\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'XZY' ) {\n\t\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order )\n\t\n\t\t\t}\n\t\n\t\t\tthis._order = order;\n\t\n\t\t\tif ( update !== false ) this.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromQuaternion: function () {\n\t\n\t\t\tvar matrix;\n\t\n\t\t\treturn function ( q, order, update ) {\n\t\n\t\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\n\t\t\t\tmatrix.makeRotationFromQuaternion( q );\n\t\t\t\tthis.setFromRotationMatrix( matrix, order, update );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tsetFromVector3: function ( v, order ) {\n\t\n\t\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\t\n\t\t},\n\t\n\t\treorder: function () {\n\t\n\t\t\t// WARNING: this discards revolution information -bhouston\n\t\n\t\t\tvar q = new THREE.Quaternion();\n\t\n\t\t\treturn function ( newOrder ) {\n\t\n\t\t\t\tq.setFromEuler( this );\n\t\t\t\tthis.setFromQuaternion( q, newOrder );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tequals: function ( euler ) {\n\t\n\t\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array ) {\n\t\n\t\t\tthis._x = array[ 0 ];\n\t\t\tthis._y = array[ 1 ];\n\t\t\tthis._z = array[ 2 ];\n\t\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this._x;\n\t\t\tarray[ offset + 1 ] = this._y;\n\t\t\tarray[ offset + 2 ] = this._z;\n\t\t\tarray[ offset + 3 ] = this._order;\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\ttoVector3: function ( optionalResult ) {\n\t\n\t\t\tif ( optionalResult ) {\n\t\n\t\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\t\n\t\t\t} else {\n\t\n\t\t\t\treturn new THREE.Vector3( this._x, this._y, this._z );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tonChange: function ( callback ) {\n\t\n\t\t\tthis.onChangeCallback = callback;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tonChangeCallback: function () {}\n\t\n\t};\n\t\n\t// File:src/math/Line3.js\n\t\n\t/**\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Line3 = function ( start, end ) {\n\t\n\t\tthis.start = ( start !== undefined ) ? start : new THREE.Vector3();\n\t\tthis.end = ( end !== undefined ) ? end : new THREE.Vector3();\n\t\n\t};\n\t\n\tTHREE.Line3.prototype = {\n\t\n\t\tconstructor: THREE.Line3,\n\t\n\t\tset: function ( start, end ) {\n\t\n\t\t\tthis.start.copy( start );\n\t\t\tthis.end.copy( end );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( line ) {\n\t\n\t\t\tthis.start.copy( line.start );\n\t\t\tthis.end.copy( line.end );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcenter: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\treturn result.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\t\n\t\t},\n\t\n\t\tdelta: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\treturn result.subVectors( this.end, this.start );\n\t\n\t\t},\n\t\n\t\tdistanceSq: function () {\n\t\n\t\t\treturn this.start.distanceToSquared( this.end );\n\t\n\t\t},\n\t\n\t\tdistance: function () {\n\t\n\t\t\treturn this.start.distanceTo( this.end );\n\t\n\t\t},\n\t\n\t\tat: function ( t, optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\n\t\n\t\t},\n\t\n\t\tclosestPointToPointParameter: function () {\n\t\n\t\t\tvar startP = new THREE.Vector3();\n\t\t\tvar startEnd = new THREE.Vector3();\n\t\n\t\t\treturn function ( point, clampToLine ) {\n\t\n\t\t\t\tstartP.subVectors( point, this.start );\n\t\t\t\tstartEnd.subVectors( this.end, this.start );\n\t\n\t\t\t\tvar startEnd2 = startEnd.dot( startEnd );\n\t\t\t\tvar startEnd_startP = startEnd.dot( startP );\n\t\n\t\t\t\tvar t = startEnd_startP / startEnd2;\n\t\n\t\t\t\tif ( clampToLine ) {\n\t\n\t\t\t\t\tt = THREE.Math.clamp( t, 0, 1 );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn t;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tclosestPointToPoint: function ( point, clampToLine, optionalTarget ) {\n\t\n\t\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\treturn this.delta( result ).multiplyScalar( t ).add( this.start );\n\t\n\t\t},\n\t\n\t\tapplyMatrix4: function ( matrix ) {\n\t\n\t\t\tthis.start.applyMatrix4( matrix );\n\t\t\tthis.end.applyMatrix4( matrix );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( line ) {\n\t\n\t\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Box2.js\n\t\n\t/**\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Box2 = function ( min, max ) {\n\t\n\t\tthis.min = ( min !== undefined ) ? min : new THREE.Vector2( Infinity, Infinity );\n\t\tthis.max = ( max !== undefined ) ? max : new THREE.Vector2( - Infinity, - Infinity );\n\t\n\t};\n\t\n\tTHREE.Box2.prototype = {\n\t\n\t\tconstructor: THREE.Box2,\n\t\n\t\tset: function ( min, max ) {\n\t\n\t\t\tthis.min.copy( min );\n\t\t\tthis.max.copy( max );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromPoints: function ( points ) {\n\t\n\t\t\tthis.makeEmpty();\n\t\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\t\n\t\t\t\tthis.expandByPoint( points[ i ] )\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromCenterAndSize: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector2();\n\t\n\t\t\treturn function ( center, size ) {\n\t\n\t\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\t\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\t\tthis.max.copy( center ).add( halfSize );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( box ) {\n\t\n\t\t\tthis.min.copy( box.min );\n\t\t\tthis.max.copy( box.max );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmakeEmpty: function () {\n\t\n\t\t\tthis.min.x = this.min.y = Infinity;\n\t\t\tthis.max.x = this.max.y = - Infinity;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tempty: function () {\n\t\n\t\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\t\n\t\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\t\n\t\t},\n\t\n\t\tcenter: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector2();\n\t\t\treturn result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\t\n\t\t},\n\t\n\t\tsize: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector2();\n\t\t\treturn result.subVectors( this.max, this.min );\n\t\n\t\t},\n\t\n\t\texpandByPoint: function ( point ) {\n\t\n\t\t\tthis.min.min( point );\n\t\t\tthis.max.max( point );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\texpandByVector: function ( vector ) {\n\t\n\t\t\tthis.min.sub( vector );\n\t\t\tthis.max.add( vector );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\texpandByScalar: function ( scalar ) {\n\t\n\t\t\tthis.min.addScalar( - scalar );\n\t\t\tthis.max.addScalar( scalar );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcontainsPoint: function ( point ) {\n\t\n\t\t\tif ( point.x < this.min.x || point.x > this.max.x ||\n\t\t\t     point.y < this.min.y || point.y > this.max.y ) {\n\t\n\t\t\t\treturn false;\n\t\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\n\t\t},\n\t\n\t\tcontainsBox: function ( box ) {\n\t\n\t\t\tif ( ( this.min.x <= box.min.x ) && ( box.max.x <= this.max.x ) &&\n\t\t\t     ( this.min.y <= box.min.y ) && ( box.max.y <= this.max.y ) ) {\n\t\n\t\t\t\treturn true;\n\t\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\n\t\t},\n\t\n\t\tgetParameter: function ( point, optionalTarget ) {\n\t\n\t\t\t// This can potentially have a divide by zero if the box\n\t\t\t// has a size dimension of 0.\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector2();\n\t\n\t\t\treturn result.set(\n\t\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t\t);\n\t\n\t\t},\n\t\n\t\tisIntersectionBox: function ( box ) {\n\t\n\t\t\t// using 6 splitting planes to rule out intersections.\n\t\n\t\t\tif ( box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\t     box.max.y < this.min.y || box.min.y > this.max.y ) {\n\t\n\t\t\t\treturn false;\n\t\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\n\t\t},\n\t\n\t\tclampPoint: function ( point, optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector2();\n\t\t\treturn result.copy( point ).clamp( this.min, this.max );\n\t\n\t\t},\n\t\n\t\tdistanceToPoint: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector2();\n\t\n\t\t\treturn function ( point ) {\n\t\n\t\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\t\treturn clampedPoint.sub( point ).length();\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tintersect: function ( box ) {\n\t\n\t\t\tthis.min.max( box.min );\n\t\t\tthis.max.min( box.max );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tunion: function ( box ) {\n\t\n\t\t\tthis.min.min( box.min );\n\t\t\tthis.max.max( box.max );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttranslate: function ( offset ) {\n\t\n\t\t\tthis.min.add( offset );\n\t\t\tthis.max.add( offset );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( box ) {\n\t\n\t\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Box3.js\n\t\n\t/**\n\t * @author bhouston / http://clara.io\n\t * @author WestLangley / http://github.com/WestLangley\n\t */\n\t\n\tTHREE.Box3 = function ( min, max ) {\n\t\n\t\tthis.min = ( min !== undefined ) ? min : new THREE.Vector3( Infinity, Infinity, Infinity );\n\t\tthis.max = ( max !== undefined ) ? max : new THREE.Vector3( - Infinity, - Infinity, - Infinity );\n\t\n\t};\n\t\n\tTHREE.Box3.prototype = {\n\t\n\t\tconstructor: THREE.Box3,\n\t\n\t\tset: function ( min, max ) {\n\t\n\t\t\tthis.min.copy( min );\n\t\t\tthis.max.copy( max );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromPoints: function ( points ) {\n\t\n\t\t\tthis.makeEmpty();\n\t\n\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\t\n\t\t\t\tthis.expandByPoint( points[ i ] );\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromCenterAndSize: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( center, size ) {\n\t\n\t\t\t\tvar halfSize = v1.copy( size ).multiplyScalar( 0.5 );\n\t\n\t\t\t\tthis.min.copy( center ).sub( halfSize );\n\t\t\t\tthis.max.copy( center ).add( halfSize );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tsetFromObject: function () {\n\t\n\t\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t\t// accounting for both the object's, and children's, world transforms\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( object ) {\n\t\n\t\t\t\tvar scope = this;\n\t\n\t\t\t\tobject.updateMatrixWorld( true );\n\t\n\t\t\t\tthis.makeEmpty();\n\t\n\t\t\t\tobject.traverse( function ( node ) {\n\t\n\t\t\t\t\tvar geometry = node.geometry;\n\t\n\t\t\t\t\tif ( geometry !== undefined ) {\n\t\n\t\t\t\t\t\tif ( geometry instanceof THREE.Geometry ) {\n\t\n\t\t\t\t\t\t\tvar vertices = geometry.vertices;\n\t\n\t\t\t\t\t\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\t\t\tv1.copy( vertices[ i ] );\n\t\n\t\t\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\t\n\t\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t} else if ( geometry instanceof THREE.BufferGeometry && geometry.attributes[ 'position' ] !== undefined ) {\n\t\n\t\t\t\t\t\t\tvar positions = geometry.attributes[ 'position' ].array;\n\t\n\t\t\t\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 3 ) {\n\t\n\t\t\t\t\t\t\t\tv1.set( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] );\n\t\n\t\t\t\t\t\t\t\tv1.applyMatrix4( node.matrixWorld );\n\t\n\t\t\t\t\t\t\t\tscope.expandByPoint( v1 );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( box ) {\n\t\n\t\t\tthis.min.copy( box.min );\n\t\t\tthis.max.copy( box.max );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmakeEmpty: function () {\n\t\n\t\t\tthis.min.x = this.min.y = this.min.z = Infinity;\n\t\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tempty: function () {\n\t\n\t\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\t\n\t\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\t\n\t\t},\n\t\n\t\tcenter: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\treturn result.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\t\n\t\t},\n\t\n\t\tsize: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\treturn result.subVectors( this.max, this.min );\n\t\n\t\t},\n\t\n\t\texpandByPoint: function ( point ) {\n\t\n\t\t\tthis.min.min( point );\n\t\t\tthis.max.max( point );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\texpandByVector: function ( vector ) {\n\t\n\t\t\tthis.min.sub( vector );\n\t\t\tthis.max.add( vector );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\texpandByScalar: function ( scalar ) {\n\t\n\t\t\tthis.min.addScalar( - scalar );\n\t\t\tthis.max.addScalar( scalar );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcontainsPoint: function ( point ) {\n\t\n\t\t\tif ( point.x < this.min.x || point.x > this.max.x ||\n\t\t\t     point.y < this.min.y || point.y > this.max.y ||\n\t\t\t     point.z < this.min.z || point.z > this.max.z ) {\n\t\n\t\t\t\treturn false;\n\t\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\n\t\t},\n\t\n\t\tcontainsBox: function ( box ) {\n\t\n\t\t\tif ( ( this.min.x <= box.min.x ) && ( box.max.x <= this.max.x ) &&\n\t\t\t\t ( this.min.y <= box.min.y ) && ( box.max.y <= this.max.y ) &&\n\t\t\t\t ( this.min.z <= box.min.z ) && ( box.max.z <= this.max.z ) ) {\n\t\n\t\t\t\treturn true;\n\t\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\n\t\t},\n\t\n\t\tgetParameter: function ( point, optionalTarget ) {\n\t\n\t\t\t// This can potentially have a divide by zero if the box\n\t\t\t// has a size dimension of 0.\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\treturn result.set(\n\t\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t\t);\n\t\n\t\t},\n\t\n\t\tisIntersectionBox: function ( box ) {\n\t\n\t\t\t// using 6 splitting planes to rule out intersections.\n\t\n\t\t\tif ( box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\t     box.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\t     box.max.z < this.min.z || box.min.z > this.max.z ) {\n\t\n\t\t\t\treturn false;\n\t\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\n\t\t},\n\t\n\t\tclampPoint: function ( point, optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\treturn result.copy( point ).clamp( this.min, this.max );\n\t\n\t\t},\n\t\n\t\tdistanceToPoint: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( point ) {\n\t\n\t\t\t\tvar clampedPoint = v1.copy( point ).clamp( this.min, this.max );\n\t\t\t\treturn clampedPoint.sub( point ).length();\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tgetBoundingSphere: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( optionalTarget ) {\n\t\n\t\t\t\tvar result = optionalTarget || new THREE.Sphere();\n\t\n\t\t\t\tresult.center = this.center();\n\t\t\t\tresult.radius = this.size( v1 ).length() * 0.5;\n\t\n\t\t\t\treturn result;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tintersect: function ( box ) {\n\t\n\t\t\tthis.min.max( box.min );\n\t\t\tthis.max.min( box.max );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tunion: function ( box ) {\n\t\n\t\t\tthis.min.min( box.min );\n\t\t\tthis.max.max( box.max );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyMatrix4: function () {\n\t\n\t\t\tvar points = [\n\t\t\t\tnew THREE.Vector3(),\n\t\t\t\tnew THREE.Vector3(),\n\t\t\t\tnew THREE.Vector3(),\n\t\t\t\tnew THREE.Vector3(),\n\t\t\t\tnew THREE.Vector3(),\n\t\t\t\tnew THREE.Vector3(),\n\t\t\t\tnew THREE.Vector3(),\n\t\t\t\tnew THREE.Vector3()\n\t\t\t];\n\t\n\t\t\treturn function ( matrix ) {\n\t\n\t\t\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t\t\tpoints[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t\t\tpoints[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t\t\tpoints[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t\t\tpoints[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t\t\tpoints[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t\t\tpoints[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t\t\tpoints[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t\t\tpoints[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix );  // 111\n\t\n\t\t\t\tthis.makeEmpty();\n\t\t\t\tthis.setFromPoints( points );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttranslate: function ( offset ) {\n\t\n\t\t\tthis.min.add( offset );\n\t\t\tthis.max.add( offset );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( box ) {\n\t\n\t\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Matrix3.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Matrix3 = function () {\n\t\n\t\tthis.elements = new Float32Array( [\n\t\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\t\n\t\t] );\n\t\n\t\tif ( arguments.length > 0 ) {\n\t\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Matrix3.prototype = {\n\t\n\t\tconstructor: THREE.Matrix3,\n\t\n\t\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tte[ 0 ] = n11; te[ 3 ] = n12; te[ 6 ] = n13;\n\t\t\tte[ 1 ] = n21; te[ 4 ] = n22; te[ 7 ] = n23;\n\t\t\tte[ 2 ] = n31; te[ 5 ] = n32; te[ 8 ] = n33;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tidentity: function () {\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\t1, 0, 0,\n\t\t\t\t0, 1, 0,\n\t\t\t\t0, 0, 1\n\t\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().fromArray( this.elements );\n\t\n\t\t},\n\t\n\t\tcopy: function ( m ) {\n\t\n\t\t\tvar me = m.elements;\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\tme[ 0 ], me[ 3 ], me[ 6 ],\n\t\t\t\tme[ 1 ], me[ 4 ], me[ 7 ],\n\t\t\t\tme[ 2 ], me[ 5 ], me[ 8 ]\n\t\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyVector3: function ( vector ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\t\treturn vector.applyMatrix3( this );\n\t\n\t\t},\n\t\n\t\tmultiplyVector3Array: function ( a ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.' );\n\t\t\treturn this.applyToVector3Array( a );\n\t\n\t\t},\n\t\n\t\tapplyToVector3Array: function () {\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function ( array, offset, length ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\t\t\tif ( offset === undefined ) offset = 0;\n\t\t\t\tif ( length === undefined ) length = array.length;\n\t\n\t\t\t\tfor ( var i = 0, j = offset; i < length; i += 3, j += 3 ) {\n\t\n\t\t\t\t\tv1.fromArray( array, j );\n\t\t\t\t\tv1.applyMatrix3( this );\n\t\t\t\t\tv1.toArray( array, j );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn array;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tapplyToBuffer: function () {\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function applyToBuffer( buffer, offset, length ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\t\t\tif ( offset === undefined ) offset = 0;\n\t\t\t\tif ( length === undefined ) length = buffer.length / buffer.itemSize;\n\t\n\t\t\t\tfor ( var i = 0, j = offset; i < length; i ++, j ++ ) {\n\t\n\t\t\t\t\tv1.x = buffer.getX( j );\n\t\t\t\t\tv1.y = buffer.getY( j );\n\t\t\t\t\tv1.z = buffer.getZ( j );\n\t\n\t\t\t\t\tv1.applyMatrix3( this );\n\t\n\t\t\t\t\tbuffer.setXYZ( v1.x, v1.y, v1.z );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn buffer;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tmultiplyScalar: function ( s ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdeterminant: function () {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\t\n\t\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\t\n\t\t},\n\t\n\t\tgetInverse: function ( matrix, throwOnInvertible ) {\n\t\n\t\t\t// input: THREE.Matrix4\n\t\t\t// ( based on http://code.google.com/p/webgl-mjs/ )\n\t\n\t\t\tvar me = matrix.elements;\n\t\t\tvar te = this.elements;\n\t\n\t\t\tte[ 0 ] =   me[ 10 ] * me[ 5 ] - me[ 6 ] * me[ 9 ];\n\t\t\tte[ 1 ] = - me[ 10 ] * me[ 1 ] + me[ 2 ] * me[ 9 ];\n\t\t\tte[ 2 ] =   me[ 6 ] * me[ 1 ] - me[ 2 ] * me[ 5 ];\n\t\t\tte[ 3 ] = - me[ 10 ] * me[ 4 ] + me[ 6 ] * me[ 8 ];\n\t\t\tte[ 4 ] =   me[ 10 ] * me[ 0 ] - me[ 2 ] * me[ 8 ];\n\t\t\tte[ 5 ] = - me[ 6 ] * me[ 0 ] + me[ 2 ] * me[ 4 ];\n\t\t\tte[ 6 ] =   me[ 9 ] * me[ 4 ] - me[ 5 ] * me[ 8 ];\n\t\t\tte[ 7 ] = - me[ 9 ] * me[ 0 ] + me[ 1 ] * me[ 8 ];\n\t\t\tte[ 8 ] =   me[ 5 ] * me[ 0 ] - me[ 1 ] * me[ 4 ];\n\t\n\t\t\tvar det = me[ 0 ] * te[ 0 ] + me[ 1 ] * te[ 3 ] + me[ 2 ] * te[ 6 ];\n\t\n\t\t\t// no inverse\n\t\n\t\t\tif ( det === 0 ) {\n\t\n\t\t\t\tvar msg = \"Matrix3.getInverse(): can't invert matrix, determinant is 0\";\n\t\n\t\t\t\tif ( throwOnInvertible || false ) {\n\t\n\t\t\t\t\tthrow new Error( msg );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tconsole.warn( msg );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.identity();\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t\tthis.multiplyScalar( 1.0 / det );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttranspose: function () {\n\t\n\t\t\tvar tmp, m = this.elements;\n\t\n\t\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tflattenToArrayOffset: function ( array, offset ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tarray[ offset ] = te[ 0 ];\n\t\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\n\t\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\n\t\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\t\tarray[ offset + 8 ]  = te[ 8 ];\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tgetNormalMatrix: function ( m ) {\n\t\n\t\t\t// input: THREE.Matrix4\n\t\n\t\t\tthis.getInverse( m ).transpose();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttransposeIntoArray: function ( r ) {\n\t\n\t\t\tvar m = this.elements;\n\t\n\t\t\tr[ 0 ] = m[ 0 ];\n\t\t\tr[ 1 ] = m[ 3 ];\n\t\t\tr[ 2 ] = m[ 6 ];\n\t\t\tr[ 3 ] = m[ 1 ];\n\t\t\tr[ 4 ] = m[ 4 ];\n\t\t\tr[ 5 ] = m[ 7 ];\n\t\t\tr[ 6 ] = m[ 2 ];\n\t\t\tr[ 7 ] = m[ 5 ];\n\t\t\tr[ 8 ] = m[ 8 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array ) {\n\t\n\t\t\tthis.elements.set( array );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function () {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\treturn [\n\t\t\t\tte[ 0 ], te[ 1 ], te[ 2 ],\n\t\t\t\tte[ 3 ], te[ 4 ], te[ 5 ],\n\t\t\t\tte[ 6 ], te[ 7 ], te[ 8 ]\n\t\t\t];\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Matrix4.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author supereggbert / http://www.paulbrunt.co.uk/\n\t * @author philogb / http://blog.thejit.org/\n\t * @author jordi_ros / http://plattsoft.com\n\t * @author D1plo1d / http://github.com/D1plo1d\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author timknip / http://www.floorplanner.com/\n\t * @author bhouston / http://clara.io\n\t * @author WestLangley / http://github.com/WestLangley\n\t */\n\t\n\tTHREE.Matrix4 = function () {\n\t\n\t\tthis.elements = new Float32Array( [\n\t\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\t\n\t\t] );\n\t\n\t\tif ( arguments.length > 0 ) {\n\t\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Matrix4.prototype = {\n\t\n\t\tconstructor: THREE.Matrix4,\n\t\n\t\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tidentity: function () {\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\t1, 0, 0, 0,\n\t\t\t\t0, 1, 0, 0,\n\t\t\t\t0, 0, 1, 0,\n\t\t\t\t0, 0, 0, 1\n\t\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new THREE.Matrix4().fromArray( this.elements );\n\t\n\t\t},\n\t\n\t\tcopy: function ( m ) {\n\t\n\t\t\tthis.elements.set( m.elements );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\textractPosition: function ( m ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\t\treturn this.copyPosition( m );\n\t\n\t\t},\n\t\n\t\tcopyPosition: function ( m ) {\n\t\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\t\n\t\t\tte[ 12 ] = me[ 12 ];\n\t\t\tte[ 13 ] = me[ 13 ];\n\t\t\tte[ 14 ] = me[ 14 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\txAxis.set( te[ 0 ], te[ 1 ], te[ 2 ] );\n\t\t\tyAxis.set( te[ 4 ], te[ 5 ], te[ 6 ] );\n\t\t\tzAxis.set( te[ 8 ], te[ 9 ], te[ 10 ] );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\t\n\t\t\tthis.set(\n\t\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t\t0,       0,       0,       1\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\textractRotation: function () {\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function ( m ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\tvar te = this.elements;\n\t\t\t\tvar me = m.elements;\n\t\n\t\t\t\tvar scaleX = 1 / v1.set( me[ 0 ], me[ 1 ], me[ 2 ] ).length();\n\t\t\t\tvar scaleY = 1 / v1.set( me[ 4 ], me[ 5 ], me[ 6 ] ).length();\n\t\t\t\tvar scaleZ = 1 / v1.set( me[ 8 ], me[ 9 ], me[ 10 ] ).length();\n\t\n\t\t\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\t\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\t\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\n\t\t\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\t\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\t\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\n\t\t\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\t\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\t\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tmakeRotationFromEuler: function ( euler ) {\n\t\n\t\t\tif ( euler instanceof THREE.Euler === false ) {\n\t\n\t\t\t\tconsole.error( 'THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\t\n\t\t\t}\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\t\n\t\t\tif ( euler.order === 'XYZ' ) {\n\t\n\t\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\t\n\t\t\t\tte[ 0 ] = c * e;\n\t\t\t\tte[ 4 ] = - c * f;\n\t\t\t\tte[ 8 ] = d;\n\t\n\t\t\t\tte[ 1 ] = af + be * d;\n\t\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\t\tte[ 9 ] = - b * c;\n\t\n\t\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\t\tte[ 6 ] = be + af * d;\n\t\t\t\tte[ 10 ] = a * c;\n\t\n\t\t\t} else if ( euler.order === 'YXZ' ) {\n\t\n\t\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\t\n\t\t\t\tte[ 0 ] = ce + df * b;\n\t\t\t\tte[ 4 ] = de * b - cf;\n\t\t\t\tte[ 8 ] = a * d;\n\t\n\t\t\t\tte[ 1 ] = a * f;\n\t\t\t\tte[ 5 ] = a * e;\n\t\t\t\tte[ 9 ] = - b;\n\t\n\t\t\t\tte[ 2 ] = cf * b - de;\n\t\t\t\tte[ 6 ] = df + ce * b;\n\t\t\t\tte[ 10 ] = a * c;\n\t\n\t\t\t} else if ( euler.order === 'ZXY' ) {\n\t\n\t\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\t\n\t\t\t\tte[ 0 ] = ce - df * b;\n\t\t\t\tte[ 4 ] = - a * f;\n\t\t\t\tte[ 8 ] = de + cf * b;\n\t\n\t\t\t\tte[ 1 ] = cf + de * b;\n\t\t\t\tte[ 5 ] = a * e;\n\t\t\t\tte[ 9 ] = df - ce * b;\n\t\n\t\t\t\tte[ 2 ] = - a * d;\n\t\t\t\tte[ 6 ] = b;\n\t\t\t\tte[ 10 ] = a * c;\n\t\n\t\t\t} else if ( euler.order === 'ZYX' ) {\n\t\n\t\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\t\n\t\t\t\tte[ 0 ] = c * e;\n\t\t\t\tte[ 4 ] = be * d - af;\n\t\t\t\tte[ 8 ] = ae * d + bf;\n\t\n\t\t\t\tte[ 1 ] = c * f;\n\t\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\t\tte[ 9 ] = af * d - be;\n\t\n\t\t\t\tte[ 2 ] = - d;\n\t\t\t\tte[ 6 ] = b * c;\n\t\t\t\tte[ 10 ] = a * c;\n\t\n\t\t\t} else if ( euler.order === 'YZX' ) {\n\t\n\t\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\t\n\t\t\t\tte[ 0 ] = c * e;\n\t\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\t\tte[ 8 ] = bc * f + ad;\n\t\n\t\t\t\tte[ 1 ] = f;\n\t\t\t\tte[ 5 ] = a * e;\n\t\t\t\tte[ 9 ] = - b * e;\n\t\n\t\t\t\tte[ 2 ] = - d * e;\n\t\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\t\tte[ 10 ] = ac - bd * f;\n\t\n\t\t\t} else if ( euler.order === 'XZY' ) {\n\t\n\t\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\t\n\t\t\t\tte[ 0 ] = c * e;\n\t\t\t\tte[ 4 ] = - f;\n\t\t\t\tte[ 8 ] = d * e;\n\t\n\t\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\t\tte[ 5 ] = a * e;\n\t\t\t\tte[ 9 ] = ad * f - bc;\n\t\n\t\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\t\tte[ 6 ] = b * e;\n\t\t\t\tte[ 10 ] = bd * f + ac;\n\t\n\t\t\t}\n\t\n\t\t\t// last column\n\t\t\tte[ 3 ] = 0;\n\t\t\tte[ 7 ] = 0;\n\t\t\tte[ 11 ] = 0;\n\t\n\t\t\t// bottom row\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetRotationFromQuaternion: function ( q ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\n\t\t\treturn this.makeRotationFromQuaternion( q );\n\t\n\t\t},\n\t\n\t\tmakeRotationFromQuaternion: function ( q ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tvar x = q.x, y = q.y, z = q.z, w = q.w;\n\t\t\tvar x2 = x + x, y2 = y + y, z2 = z + z;\n\t\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\t\n\t\t\tte[ 0 ] = 1 - ( yy + zz );\n\t\t\tte[ 4 ] = xy - wz;\n\t\t\tte[ 8 ] = xz + wy;\n\t\n\t\t\tte[ 1 ] = xy + wz;\n\t\t\tte[ 5 ] = 1 - ( xx + zz );\n\t\t\tte[ 9 ] = yz - wx;\n\t\n\t\t\tte[ 2 ] = xz - wy;\n\t\t\tte[ 6 ] = yz + wx;\n\t\t\tte[ 10 ] = 1 - ( xx + yy );\n\t\n\t\t\t// last column\n\t\t\tte[ 3 ] = 0;\n\t\t\tte[ 7 ] = 0;\n\t\t\tte[ 11 ] = 0;\n\t\n\t\t\t// bottom row\n\t\t\tte[ 12 ] = 0;\n\t\t\tte[ 13 ] = 0;\n\t\t\tte[ 14 ] = 0;\n\t\t\tte[ 15 ] = 1;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tlookAt: function () {\n\t\n\t\t\tvar x, y, z;\n\t\n\t\t\treturn function ( eye, target, up ) {\n\t\n\t\t\t\tif ( x === undefined ) x = new THREE.Vector3();\n\t\t\t\tif ( y === undefined ) y = new THREE.Vector3();\n\t\t\t\tif ( z === undefined ) z = new THREE.Vector3();\n\t\n\t\t\t\tvar te = this.elements;\n\t\n\t\t\t\tz.subVectors( eye, target ).normalize();\n\t\n\t\t\t\tif ( z.lengthSq() === 0 ) {\n\t\n\t\t\t\t\tz.z = 1;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tx.crossVectors( up, z ).normalize();\n\t\n\t\t\t\tif ( x.lengthSq() === 0 ) {\n\t\n\t\t\t\t\tz.x += 0.0001;\n\t\t\t\t\tx.crossVectors( up, z ).normalize();\n\t\n\t\t\t\t}\n\t\n\t\t\t\ty.crossVectors( z, x );\n\t\n\t\n\t\t\t\tte[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\n\t\t\t\tte[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\n\t\t\t\tte[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tmultiply: function ( m, n ) {\n\t\n\t\t\tif ( n !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\t\treturn this.multiplyMatrices( m, n );\n\t\n\t\t\t}\n\t\n\t\t\treturn this.multiplyMatrices( this, m );\n\t\n\t\t},\n\t\n\t\tmultiplyMatrices: function ( a, b ) {\n\t\n\t\t\tvar ae = a.elements;\n\t\t\tvar be = b.elements;\n\t\t\tvar te = this.elements;\n\t\n\t\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\t\n\t\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\t\n\t\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\t\n\t\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\t\n\t\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\t\n\t\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyToArray: function ( a, b, r ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tthis.multiplyMatrices( a, b );\n\t\n\t\t\tr[ 0 ] = te[ 0 ]; r[ 1 ] = te[ 1 ]; r[ 2 ] = te[ 2 ]; r[ 3 ] = te[ 3 ];\n\t\t\tr[ 4 ] = te[ 4 ]; r[ 5 ] = te[ 5 ]; r[ 6 ] = te[ 6 ]; r[ 7 ] = te[ 7 ];\n\t\t\tr[ 8 ]  = te[ 8 ]; r[ 9 ]  = te[ 9 ]; r[ 10 ] = te[ 10 ]; r[ 11 ] = te[ 11 ];\n\t\t\tr[ 12 ] = te[ 12 ]; r[ 13 ] = te[ 13 ]; r[ 14 ] = te[ 14 ]; r[ 15 ] = te[ 15 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyScalar: function ( s ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyVector3: function ( vector ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.' );\n\t\t\treturn vector.applyProjection( this );\n\t\n\t\t},\n\t\n\t\tmultiplyVector4: function ( vector ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\t\treturn vector.applyMatrix4( this );\n\t\n\t\t},\n\t\n\t\tmultiplyVector3Array: function ( a ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.' );\n\t\t\treturn this.applyToVector3Array( a );\n\t\n\t\t},\n\t\n\t\tapplyToVector3Array: function () {\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function ( array, offset, length ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\t\t\tif ( offset === undefined ) offset = 0;\n\t\t\t\tif ( length === undefined ) length = array.length;\n\t\n\t\t\t\tfor ( var i = 0, j = offset; i < length; i += 3, j += 3 ) {\n\t\n\t\t\t\t\tv1.fromArray( array, j );\n\t\t\t\t\tv1.applyMatrix4( this );\n\t\t\t\t\tv1.toArray( array, j );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn array;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tapplyToBuffer: function () {\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function applyToBuffer( buffer, offset, length ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\t\t\tif ( offset === undefined ) offset = 0;\n\t\t\t\tif ( length === undefined ) length = buffer.length / buffer.itemSize;\n\t\n\t\t\t\tfor ( var i = 0, j = offset; i < length; i ++, j ++ ) {\n\t\n\t\t\t\t\tv1.x = buffer.getX( j );\n\t\t\t\t\tv1.y = buffer.getY( j );\n\t\t\t\t\tv1.z = buffer.getZ( j );\n\t\n\t\t\t\t\tv1.applyMatrix4( this );\n\t\n\t\t\t\t\tbuffer.setXYZ( v1.x, v1.y, v1.z );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn buffer;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\trotateAxis: function ( v ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\n\t\t\tv.transformDirection( this );\n\t\n\t\t},\n\t\n\t\tcrossVector: function ( vector ) {\n\t\n\t\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\t\treturn vector.applyMatrix4( this );\n\t\n\t\t},\n\t\n\t\tdeterminant: function () {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\t\n\t\t\t//TODO: make this more efficient\n\t\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\t\n\t\t\treturn (\n\t\t\t\tn41 * (\n\t\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t\t - n13 * n24 * n32\n\t\t\t\t\t - n14 * n22 * n33\n\t\t\t\t\t + n12 * n24 * n33\n\t\t\t\t\t + n13 * n22 * n34\n\t\t\t\t\t - n12 * n23 * n34\n\t\t\t\t) +\n\t\t\t\tn42 * (\n\t\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t\t - n11 * n24 * n33\n\t\t\t\t\t + n14 * n21 * n33\n\t\t\t\t\t - n13 * n21 * n34\n\t\t\t\t\t + n13 * n24 * n31\n\t\t\t\t\t - n14 * n23 * n31\n\t\t\t\t) +\n\t\t\t\tn43 * (\n\t\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t\t - n11 * n22 * n34\n\t\t\t\t\t - n14 * n21 * n32\n\t\t\t\t\t + n12 * n21 * n34\n\t\t\t\t\t + n14 * n22 * n31\n\t\t\t\t\t - n12 * n24 * n31\n\t\t\t\t) +\n\t\t\t\tn44 * (\n\t\t\t\t\t- n13 * n22 * n31\n\t\t\t\t\t - n11 * n23 * n32\n\t\t\t\t\t + n11 * n22 * n33\n\t\t\t\t\t + n13 * n21 * n32\n\t\t\t\t\t - n12 * n21 * n33\n\t\t\t\t\t + n12 * n23 * n31\n\t\t\t\t)\n\t\n\t\t\t);\n\t\n\t\t},\n\t\n\t\ttranspose: function () {\n\t\n\t\t\tvar te = this.elements;\n\t\t\tvar tmp;\n\t\n\t\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\t\n\t\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tflattenToArrayOffset: function ( array, offset ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tarray[ offset ] = te[ 0 ];\n\t\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\n\t\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\n\t\t\tarray[ offset + 8 ]  = te[ 8 ];\n\t\t\tarray[ offset + 9 ]  = te[ 9 ];\n\t\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\t\tarray[ offset + 11 ] = te[ 11 ];\n\t\n\t\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\t\tarray[ offset + 15 ] = te[ 15 ];\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tgetPosition: function () {\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function () {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\t\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\n\t\t\t\tvar te = this.elements;\n\t\t\t\treturn v1.set( te[ 12 ], te[ 13 ], te[ 14 ] );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tsetPosition: function ( v ) {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tte[ 12 ] = v.x;\n\t\t\tte[ 13 ] = v.y;\n\t\t\tte[ 14 ] = v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tgetInverse: function ( m, throwOnInvertible ) {\n\t\n\t\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\t\tvar te = this.elements;\n\t\t\tvar me = m.elements;\n\t\n\t\t\tvar n11 = me[ 0 ], n12 = me[ 4 ], n13 = me[ 8 ], n14 = me[ 12 ];\n\t\t\tvar n21 = me[ 1 ], n22 = me[ 5 ], n23 = me[ 9 ], n24 = me[ 13 ];\n\t\t\tvar n31 = me[ 2 ], n32 = me[ 6 ], n33 = me[ 10 ], n34 = me[ 14 ];\n\t\t\tvar n41 = me[ 3 ], n42 = me[ 7 ], n43 = me[ 11 ], n44 = me[ 15 ];\n\t\n\t\t\tte[ 0 ] = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44;\n\t\t\tte[ 4 ] = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44;\n\t\t\tte[ 8 ] = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44;\n\t\t\tte[ 12 ] = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\t\t\tte[ 1 ] = n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44;\n\t\t\tte[ 5 ] = n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44;\n\t\t\tte[ 9 ] = n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44;\n\t\t\tte[ 13 ] = n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34;\n\t\t\tte[ 2 ] = n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44;\n\t\t\tte[ 6 ] = n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44;\n\t\t\tte[ 10 ] = n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44;\n\t\t\tte[ 14 ] = n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34;\n\t\t\tte[ 3 ] = n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43;\n\t\t\tte[ 7 ] = n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43;\n\t\t\tte[ 11 ] = n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43;\n\t\t\tte[ 15 ] = n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33;\n\t\n\t\t\tvar det = n11 * te[ 0 ] + n21 * te[ 4 ] + n31 * te[ 8 ] + n41 * te[ 12 ];\n\t\n\t\t\tif ( det === 0 ) {\n\t\n\t\t\t\tvar msg = \"THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0\";\n\t\n\t\t\t\tif ( throwOnInvertible || false ) {\n\t\n\t\t\t\t\tthrow new Error( msg );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tconsole.warn( msg );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.identity();\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t\tthis.multiplyScalar( 1 / det );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttranslate: function ( v ) {\n\t\n\t\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\t\n\t\t},\n\t\n\t\trotateX: function ( angle ) {\n\t\n\t\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\t\n\t\t},\n\t\n\t\trotateY: function ( angle ) {\n\t\n\t\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\t\n\t\t},\n\t\n\t\trotateZ: function ( angle ) {\n\t\n\t\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\t\n\t\t},\n\t\n\t\trotateByAxis: function ( axis, angle ) {\n\t\n\t\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\t\n\t\t},\n\t\n\t\tscale: function ( v ) {\n\t\n\t\t\tvar te = this.elements;\n\t\t\tvar x = v.x, y = v.y, z = v.z;\n\t\n\t\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tgetMaxScaleOnAxis: function () {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\t\n\t\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\t\n\t\t},\n\t\n\t\tmakeTranslation: function ( x, y, z ) {\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\t1, 0, 0, x,\n\t\t\t\t0, 1, 0, y,\n\t\t\t\t0, 0, 1, z,\n\t\t\t\t0, 0, 0, 1\n\t\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmakeRotationX: function ( theta ) {\n\t\n\t\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\t1, 0,  0, 0,\n\t\t\t\t0, c, - s, 0,\n\t\t\t\t0, s,  c, 0,\n\t\t\t\t0, 0,  0, 1\n\t\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmakeRotationY: function ( theta ) {\n\t\n\t\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\t c, 0, s, 0,\n\t\t\t\t 0, 1, 0, 0,\n\t\t\t\t- s, 0, c, 0,\n\t\t\t\t 0, 0, 0, 1\n\t\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmakeRotationZ: function ( theta ) {\n\t\n\t\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\tc, - s, 0, 0,\n\t\t\t\ts,  c, 0, 0,\n\t\t\t\t0,  0, 1, 0,\n\t\t\t\t0,  0, 0, 1\n\t\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmakeRotationAxis: function ( axis, angle ) {\n\t\n\t\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\t\n\t\t\tvar c = Math.cos( angle );\n\t\t\tvar s = Math.sin( angle );\n\t\t\tvar t = 1 - c;\n\t\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\t\tvar tx = t * x, ty = t * y;\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t\t0, 0, 0, 1\n\t\n\t\t\t);\n\t\n\t\t\t return this;\n\t\n\t\t},\n\t\n\t\tmakeScale: function ( x, y, z ) {\n\t\n\t\t\tthis.set(\n\t\n\t\t\t\tx, 0, 0, 0,\n\t\t\t\t0, y, 0, 0,\n\t\t\t\t0, 0, z, 0,\n\t\t\t\t0, 0, 0, 1\n\t\n\t\t\t);\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcompose: function ( position, quaternion, scale ) {\n\t\n\t\t\tthis.makeRotationFromQuaternion( quaternion );\n\t\t\tthis.scale( scale );\n\t\t\tthis.setPosition( position );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdecompose: function () {\n\t\n\t\t\tvar vector, matrix;\n\t\n\t\t\treturn function ( position, quaternion, scale ) {\n\t\n\t\t\t\tif ( vector === undefined ) vector = new THREE.Vector3();\n\t\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\n\t\n\t\t\t\tvar te = this.elements;\n\t\n\t\t\t\tvar sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\t\t\tvar sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\t\t\tvar sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\t\n\t\t\t\t// if determine is negative, we need to invert one scale\n\t\t\t\tvar det = this.determinant();\n\t\t\t\tif ( det < 0 ) {\n\t\n\t\t\t\t\tsx = - sx;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tposition.x = te[ 12 ];\n\t\t\t\tposition.y = te[ 13 ];\n\t\t\t\tposition.z = te[ 14 ];\n\t\n\t\t\t\t// scale the rotation part\n\t\n\t\t\t\tmatrix.elements.set( this.elements ); // at this point matrix is incomplete so we can't use .copy()\n\t\n\t\t\t\tvar invSX = 1 / sx;\n\t\t\t\tvar invSY = 1 / sy;\n\t\t\t\tvar invSZ = 1 / sz;\n\t\n\t\t\t\tmatrix.elements[ 0 ] *= invSX;\n\t\t\t\tmatrix.elements[ 1 ] *= invSX;\n\t\t\t\tmatrix.elements[ 2 ] *= invSX;\n\t\n\t\t\t\tmatrix.elements[ 4 ] *= invSY;\n\t\t\t\tmatrix.elements[ 5 ] *= invSY;\n\t\t\t\tmatrix.elements[ 6 ] *= invSY;\n\t\n\t\t\t\tmatrix.elements[ 8 ] *= invSZ;\n\t\t\t\tmatrix.elements[ 9 ] *= invSZ;\n\t\t\t\tmatrix.elements[ 10 ] *= invSZ;\n\t\n\t\t\t\tquaternion.setFromRotationMatrix( matrix );\n\t\n\t\t\t\tscale.x = sx;\n\t\t\t\tscale.y = sy;\n\t\t\t\tscale.z = sz;\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\t\n\t\t\tvar te = this.elements;\n\t\t\tvar x = 2 * near / ( right - left );\n\t\t\tvar y = 2 * near / ( top - bottom );\n\t\n\t\t\tvar a = ( right + left ) / ( right - left );\n\t\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\t\tvar c = - ( far + near ) / ( far - near );\n\t\t\tvar d = - 2 * far * near / ( far - near );\n\t\n\t\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmakePerspective: function ( fov, aspect, near, far ) {\n\t\n\t\t\tvar ymax = near * Math.tan( THREE.Math.degToRad( fov * 0.5 ) );\n\t\t\tvar ymin = - ymax;\n\t\t\tvar xmin = ymin * aspect;\n\t\t\tvar xmax = ymax * aspect;\n\t\n\t\t\treturn this.makeFrustum( xmin, xmax, ymin, ymax, near, far );\n\t\n\t\t},\n\t\n\t\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\t\n\t\t\tvar te = this.elements;\n\t\t\tvar w = right - left;\n\t\t\tvar h = top - bottom;\n\t\t\tvar p = far - near;\n\t\n\t\t\tvar x = ( right + left ) / w;\n\t\t\tvar y = ( top + bottom ) / h;\n\t\t\tvar z = ( far + near ) / p;\n\t\n\t\t\tte[ 0 ] = 2 / w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 / h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 / p;\tte[ 14 ] = - z;\n\t\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( matrix ) {\n\t\n\t\t\tvar te = this.elements;\n\t\t\tvar me = matrix.elements;\n\t\n\t\t\tfor ( var i = 0; i < 16; i ++ ) {\n\t\n\t\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\t\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array ) {\n\t\n\t\t\tthis.elements.set( array );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function () {\n\t\n\t\t\tvar te = this.elements;\n\t\n\t\t\treturn [\n\t\t\t\tte[ 0 ], te[ 1 ], te[ 2 ], te[ 3 ],\n\t\t\t\tte[ 4 ], te[ 5 ], te[ 6 ], te[ 7 ],\n\t\t\t\tte[ 8 ], te[ 9 ], te[ 10 ], te[ 11 ],\n\t\t\t\tte[ 12 ], te[ 13 ], te[ 14 ], te[ 15 ]\n\t\t\t];\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Ray.js\n\t\n\t/**\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Ray = function ( origin, direction ) {\n\t\n\t\tthis.origin = ( origin !== undefined ) ? origin : new THREE.Vector3();\n\t\tthis.direction = ( direction !== undefined ) ? direction : new THREE.Vector3();\n\t\n\t};\n\t\n\tTHREE.Ray.prototype = {\n\t\n\t\tconstructor: THREE.Ray,\n\t\n\t\tset: function ( origin, direction ) {\n\t\n\t\t\tthis.origin.copy( origin );\n\t\t\tthis.direction.copy( direction );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( ray ) {\n\t\n\t\t\tthis.origin.copy( ray.origin );\n\t\t\tthis.direction.copy( ray.direction );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tat: function ( t, optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\treturn result.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\t\n\t\t},\n\t\n\t\trecast: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( t ) {\n\t\n\t\t\t\tthis.origin.copy( this.at( t, v1 ) );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tclosestPointToPoint: function ( point, optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\tresult.subVectors( point, this.origin );\n\t\t\tvar directionDistance = result.dot( this.direction );\n\t\n\t\t\tif ( directionDistance < 0 ) {\n\t\n\t\t\t\treturn result.copy( this.origin );\n\t\n\t\t\t}\n\t\n\t\t\treturn result.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\t\n\t\t},\n\t\n\t\tdistanceToPoint: function ( point ) {\n\t\n\t\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\t\n\t\t},\n\t\n\t\tdistanceSqToPoint: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( point ) {\n\t\n\t\t\t\tvar directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\n\t\n\t\t\t\t// point behind the ray\n\t\n\t\t\t\tif ( directionDistance < 0 ) {\n\t\n\t\t\t\t\treturn this.origin.distanceToSquared( point );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tv1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\t\n\t\t\t\treturn v1.distanceToSquared( point );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tdistanceSqToSegment: function () {\n\t\n\t\t\tvar segCenter = new THREE.Vector3();\n\t\t\tvar segDir = new THREE.Vector3();\n\t\t\tvar diff = new THREE.Vector3();\n\t\n\t\t\treturn function ( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\t\n\t\t\t\t// from http://www.geometrictools.com/LibMathematics/Distance/Wm5DistRay3Segment3.cpp\n\t\t\t\t// It returns the min distance between the ray and the segment\n\t\t\t\t// defined by v0 and v1\n\t\t\t\t// It can also set two optional targets :\n\t\t\t\t// - The closest point on the ray\n\t\t\t\t// - The closest point on the segment\n\t\n\t\t\t\tsegCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t\t\tsegDir.copy( v1 ).sub( v0 ).normalize();\n\t\t\t\tdiff.copy( this.origin ).sub( segCenter );\n\t\n\t\t\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\t\t\tvar a01 = - this.direction.dot( segDir );\n\t\t\t\tvar b0 = diff.dot( this.direction );\n\t\t\t\tvar b1 = - diff.dot( segDir );\n\t\t\t\tvar c = diff.lengthSq();\n\t\t\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\t\t\tvar s0, s1, sqrDist, extDet;\n\t\n\t\t\t\tif ( det > 0 ) {\n\t\n\t\t\t\t\t// The ray and segment are not parallel.\n\t\n\t\t\t\t\ts0 = a01 * b1 - b0;\n\t\t\t\t\ts1 = a01 * b0 - b1;\n\t\t\t\t\textDet = segExtent * det;\n\t\n\t\t\t\t\tif ( s0 >= 0 ) {\n\t\n\t\t\t\t\t\tif ( s1 >= - extDet ) {\n\t\n\t\t\t\t\t\t\tif ( s1 <= extDet ) {\n\t\n\t\t\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\t\n\t\t\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\t// region 1\n\t\n\t\t\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t// region 5\n\t\n\t\t\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tif ( s1 <= - extDet ) {\n\t\n\t\t\t\t\t\t\t// region 4\n\t\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\t\n\t\t\t\t\t\t} else if ( s1 <= extDet ) {\n\t\n\t\t\t\t\t\t\t// region 3\n\t\n\t\t\t\t\t\t\ts0 = 0;\n\t\t\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t// region 2\n\t\n\t\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// Ray and segment are parallel.\n\t\n\t\t\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( optionalPointOnRay ) {\n\t\n\t\t\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( optionalPointOnSegment ) {\n\t\n\t\t\t\t\toptionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn sqrDist;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\n\t\tisIntersectionSphere: function ( sphere ) {\n\t\n\t\t\treturn this.distanceToPoint( sphere.center ) <= sphere.radius;\n\t\n\t\t},\n\t\n\t\tintersectSphere: function () {\n\t\n\t\t\t// from http://www.scratchapixel.com/lessons/3d-basic-lessons/lesson-7-intersecting-simple-shapes/ray-sphere-intersection/\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( sphere, optionalTarget ) {\n\t\n\t\t\t\tv1.subVectors( sphere.center, this.origin );\n\t\n\t\t\t\tvar tca = v1.dot( this.direction );\n\t\n\t\t\t\tvar d2 = v1.dot( v1 ) - tca * tca;\n\t\n\t\t\t\tvar radius2 = sphere.radius * sphere.radius;\n\t\n\t\t\t\tif ( d2 > radius2 ) return null;\n\t\n\t\t\t\tvar thc = Math.sqrt( radius2 - d2 );\n\t\n\t\t\t\t// t0 = first intersect point - entrance on front of sphere\n\t\t\t\tvar t0 = tca - thc;\n\t\n\t\t\t\t// t1 = second intersect point - exit point on back of sphere\n\t\t\t\tvar t1 = tca + thc;\n\t\n\t\t\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\t\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\t\n\t\t\t\t// test to see if t0 is behind the ray:\n\t\t\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t\t\t// in order to always return an intersect point that is in front of the ray.\n\t\t\t\tif ( t0 < 0 ) return this.at( t1, optionalTarget );\n\t\n\t\t\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\t\t\treturn this.at( t0, optionalTarget );\n\t\n\t\t\t}\n\t\n\t\t}(),\n\t\n\t\tisIntersectionPlane: function ( plane ) {\n\t\n\t\t\t// check if the ray lies on the plane first\n\t\n\t\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\t\n\t\t\tif ( distToPoint === 0 ) {\n\t\n\t\t\t\treturn true;\n\t\n\t\t\t}\n\t\n\t\t\tvar denominator = plane.normal.dot( this.direction );\n\t\n\t\t\tif ( denominator * distToPoint < 0 ) {\n\t\n\t\t\t\treturn true;\n\t\n\t\t\t}\n\t\n\t\t\t// ray origin is behind the plane (and is pointing behind it)\n\t\n\t\t\treturn false;\n\t\n\t\t},\n\t\n\t\tdistanceToPlane: function ( plane ) {\n\t\n\t\t\tvar denominator = plane.normal.dot( this.direction );\n\t\t\tif ( denominator === 0 ) {\n\t\n\t\t\t\t// line is coplanar, return origin\n\t\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\t\n\t\t\t\t\treturn 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\t\n\t\t\t\treturn null;\n\t\n\t\t\t}\n\t\n\t\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\t\n\t\t\t// Return if the ray never intersects the plane\n\t\n\t\t\treturn t >= 0 ? t :  null;\n\t\n\t\t},\n\t\n\t\tintersectPlane: function ( plane, optionalTarget ) {\n\t\n\t\t\tvar t = this.distanceToPlane( plane );\n\t\n\t\t\tif ( t === null ) {\n\t\n\t\t\t\treturn null;\n\t\n\t\t\t}\n\t\n\t\t\treturn this.at( t, optionalTarget );\n\t\n\t\t},\n\t\n\t\tisIntersectionBox: function () {\n\t\n\t\t\tvar v = new THREE.Vector3();\n\t\n\t\t\treturn function ( box ) {\n\t\n\t\t\t\treturn this.intersectBox( box, v ) !== null;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tintersectBox: function ( box, optionalTarget ) {\n\t\n\t\t\t// http://www.scratchapixel.com/lessons/3d-basic-lessons/lesson-7-intersecting-simple-shapes/ray-box-intersection/\n\t\n\t\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\t\n\t\t\tvar invdirx = 1 / this.direction.x,\n\t\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\t\tinvdirz = 1 / this.direction.z;\n\t\n\t\t\tvar origin = this.origin;\n\t\n\t\t\tif ( invdirx >= 0 ) {\n\t\n\t\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\t\n\t\t\t} else {\n\t\n\t\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\t\n\t\t\t}\n\t\n\t\t\tif ( invdiry >= 0 ) {\n\t\n\t\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\t\n\t\t\t} else {\n\t\n\t\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\t\n\t\t\t}\n\t\n\t\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\t\n\t\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\t\n\t\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\t\n\t\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\t\n\t\t\tif ( invdirz >= 0 ) {\n\t\n\t\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\t\n\t\t\t} else {\n\t\n\t\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\t\n\t\t\t}\n\t\n\t\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\t\n\t\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\t\n\t\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\t\n\t\t\t//return point closest to the ray (positive side)\n\t\n\t\t\tif ( tmax < 0 ) return null;\n\t\n\t\t\treturn this.at( tmin >= 0 ? tmin : tmax, optionalTarget );\n\t\n\t\t},\n\t\n\t\tintersectTriangle: function () {\n\t\n\t\t\t// Compute the offset origin, edges, and normal.\n\t\t\tvar diff = new THREE.Vector3();\n\t\t\tvar edge1 = new THREE.Vector3();\n\t\t\tvar edge2 = new THREE.Vector3();\n\t\t\tvar normal = new THREE.Vector3();\n\t\n\t\t\treturn function ( a, b, c, backfaceCulling, optionalTarget ) {\n\t\n\t\t\t\t// from http://www.geometrictools.com/LibMathematics/Intersection/Wm5IntrRay3Triangle3.cpp\n\t\n\t\t\t\tedge1.subVectors( b, a );\n\t\t\t\tedge2.subVectors( c, a );\n\t\t\t\tnormal.crossVectors( edge1, edge2 );\n\t\n\t\t\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\t\t\tvar DdN = this.direction.dot( normal );\n\t\t\t\tvar sign;\n\t\n\t\t\t\tif ( DdN > 0 ) {\n\t\n\t\t\t\t\tif ( backfaceCulling ) return null;\n\t\t\t\t\tsign = 1;\n\t\n\t\t\t\t} else if ( DdN < 0 ) {\n\t\n\t\t\t\t\tsign = - 1;\n\t\t\t\t\tDdN = - DdN;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\treturn null;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tdiff.subVectors( this.origin, a );\n\t\t\t\tvar DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\n\t\n\t\t\t\t// b1 < 0, no intersection\n\t\t\t\tif ( DdQxE2 < 0 ) {\n\t\n\t\t\t\t\treturn null;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\n\t\n\t\t\t\t// b2 < 0, no intersection\n\t\t\t\tif ( DdE1xQ < 0 ) {\n\t\n\t\t\t\t\treturn null;\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// b1+b2 > 1, no intersection\n\t\t\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\t\n\t\t\t\t\treturn null;\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// Line intersects triangle, check if ray does.\n\t\t\t\tvar QdN = - sign * diff.dot( normal );\n\t\n\t\t\t\t// t < 0, no intersection\n\t\t\t\tif ( QdN < 0 ) {\n\t\n\t\t\t\t\treturn null;\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// Ray intersects triangle.\n\t\t\t\treturn this.at( QdN / DdN, optionalTarget );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tapplyMatrix4: function ( matrix4 ) {\n\t\n\t\t\tthis.direction.add( this.origin ).applyMatrix4( matrix4 );\n\t\t\tthis.origin.applyMatrix4( matrix4 );\n\t\t\tthis.direction.sub( this.origin );\n\t\t\tthis.direction.normalize();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( ray ) {\n\t\n\t\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Sphere.js\n\t\n\t/**\n\t * @author bhouston / http://clara.io\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Sphere = function ( center, radius ) {\n\t\n\t\tthis.center = ( center !== undefined ) ? center : new THREE.Vector3();\n\t\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\t\n\t};\n\t\n\tTHREE.Sphere.prototype = {\n\t\n\t\tconstructor: THREE.Sphere,\n\t\n\t\tset: function ( center, radius ) {\n\t\n\t\t\tthis.center.copy( center );\n\t\t\tthis.radius = radius;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromPoints: function () {\n\t\n\t\t\tvar box = new THREE.Box3();\n\t\n\t\t\treturn function ( points, optionalCenter ) {\n\t\n\t\t\t\tvar center = this.center;\n\t\n\t\t\t\tif ( optionalCenter !== undefined ) {\n\t\n\t\t\t\t\tcenter.copy( optionalCenter );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tbox.setFromPoints( points ).center( center );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar maxRadiusSq = 0;\n\t\n\t\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\t\n\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( sphere ) {\n\t\n\t\t\tthis.center.copy( sphere.center );\n\t\t\tthis.radius = sphere.radius;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tempty: function () {\n\t\n\t\t\treturn ( this.radius <= 0 );\n\t\n\t\t},\n\t\n\t\tcontainsPoint: function ( point ) {\n\t\n\t\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\t\n\t\t},\n\t\n\t\tdistanceToPoint: function ( point ) {\n\t\n\t\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\t\n\t\t},\n\t\n\t\tintersectsSphere: function ( sphere ) {\n\t\n\t\t\tvar radiusSum = this.radius + sphere.radius;\n\t\n\t\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\t\n\t\t},\n\t\n\t\tclampPoint: function ( point, optionalTarget ) {\n\t\n\t\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\tresult.copy( point );\n\t\n\t\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\t\n\t\t\t\tresult.sub( this.center ).normalize();\n\t\t\t\tresult.multiplyScalar( this.radius ).add( this.center );\n\t\n\t\t\t}\n\t\n\t\t\treturn result;\n\t\n\t\t},\n\t\n\t\tgetBoundingBox: function ( optionalTarget ) {\n\t\n\t\t\tvar box = optionalTarget || new THREE.Box3();\n\t\n\t\t\tbox.set( this.center, this.center );\n\t\t\tbox.expandByScalar( this.radius );\n\t\n\t\t\treturn box;\n\t\n\t\t},\n\t\n\t\tapplyMatrix4: function ( matrix ) {\n\t\n\t\t\tthis.center.applyMatrix4( matrix );\n\t\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttranslate: function ( offset ) {\n\t\n\t\t\tthis.center.add( offset );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( sphere ) {\n\t\n\t\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Frustum.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Frustum = function ( p0, p1, p2, p3, p4, p5 ) {\n\t\n\t\tthis.planes = [\n\t\n\t\t\t( p0 !== undefined ) ? p0 : new THREE.Plane(),\n\t\t\t( p1 !== undefined ) ? p1 : new THREE.Plane(),\n\t\t\t( p2 !== undefined ) ? p2 : new THREE.Plane(),\n\t\t\t( p3 !== undefined ) ? p3 : new THREE.Plane(),\n\t\t\t( p4 !== undefined ) ? p4 : new THREE.Plane(),\n\t\t\t( p5 !== undefined ) ? p5 : new THREE.Plane()\n\t\n\t\t];\n\t\n\t};\n\t\n\tTHREE.Frustum.prototype = {\n\t\n\t\tconstructor: THREE.Frustum,\n\t\n\t\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\t\n\t\t\tvar planes = this.planes;\n\t\n\t\t\tplanes[ 0 ].copy( p0 );\n\t\t\tplanes[ 1 ].copy( p1 );\n\t\t\tplanes[ 2 ].copy( p2 );\n\t\t\tplanes[ 3 ].copy( p3 );\n\t\t\tplanes[ 4 ].copy( p4 );\n\t\t\tplanes[ 5 ].copy( p5 );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( frustum ) {\n\t\n\t\t\tvar planes = this.planes;\n\t\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\t\n\t\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromMatrix: function ( m ) {\n\t\n\t\t\tvar planes = this.planes;\n\t\t\tvar me = m.elements;\n\t\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\t\n\t\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tintersectsObject: function () {\n\t\n\t\t\tvar sphere = new THREE.Sphere();\n\t\n\t\t\treturn function ( object ) {\n\t\n\t\t\t\tvar geometry = object.geometry;\n\t\n\t\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\t\n\t\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\t\tsphere.applyMatrix4( object.matrixWorld );\n\t\n\t\t\t\treturn this.intersectsSphere( sphere );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tintersectsSphere: function ( sphere ) {\n\t\n\t\t\tvar planes = this.planes;\n\t\t\tvar center = sphere.center;\n\t\t\tvar negRadius = - sphere.radius;\n\t\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\t\n\t\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\t\n\t\t\t\tif ( distance < negRadius ) {\n\t\n\t\t\t\t\treturn false;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\n\t\t},\n\t\n\t\tintersectsBox: function () {\n\t\n\t\t\tvar p1 = new THREE.Vector3(),\n\t\t\t\tp2 = new THREE.Vector3();\n\t\n\t\t\treturn function ( box ) {\n\t\n\t\t\t\tvar planes = this.planes;\n\t\n\t\t\t\tfor ( var i = 0; i < 6 ; i ++ ) {\n\t\n\t\t\t\t\tvar plane = planes[ i ];\n\t\n\t\t\t\t\tp1.x = plane.normal.x > 0 ? box.min.x : box.max.x;\n\t\t\t\t\tp2.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t\t\tp1.y = plane.normal.y > 0 ? box.min.y : box.max.y;\n\t\t\t\t\tp2.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t\t\tp1.z = plane.normal.z > 0 ? box.min.z : box.max.z;\n\t\t\t\t\tp2.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\t\n\t\t\t\t\tvar d1 = plane.distanceToPoint( p1 );\n\t\t\t\t\tvar d2 = plane.distanceToPoint( p2 );\n\t\n\t\t\t\t\t// if both outside plane, no intersection\n\t\n\t\t\t\t\tif ( d1 < 0 && d2 < 0 ) {\n\t\n\t\t\t\t\t\treturn false;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn true;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\n\t\tcontainsPoint: function ( point ) {\n\t\n\t\t\tvar planes = this.planes;\n\t\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\t\n\t\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\t\n\t\t\t\t\treturn false;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn true;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Plane.js\n\t\n\t/**\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Plane = function ( normal, constant ) {\n\t\n\t\tthis.normal = ( normal !== undefined ) ? normal : new THREE.Vector3( 1, 0, 0 );\n\t\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\t\n\t};\n\t\n\tTHREE.Plane.prototype = {\n\t\n\t\tconstructor: THREE.Plane,\n\t\n\t\tset: function ( normal, constant ) {\n\t\n\t\t\tthis.normal.copy( normal );\n\t\t\tthis.constant = constant;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetComponents: function ( x, y, z, w ) {\n\t\n\t\t\tthis.normal.set( x, y, z );\n\t\t\tthis.constant = w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\t\n\t\t\tthis.normal.copy( normal );\n\t\t\tthis.constant = - point.dot( this.normal );\t// must be this.normal, not normal, as this.normal is normalized\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromCoplanarPoints: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\t\tvar v2 = new THREE.Vector3();\n\t\n\t\t\treturn function ( a, b, c ) {\n\t\n\t\t\t\tvar normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\n\t\n\t\t\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\t\n\t\t\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( plane ) {\n\t\n\t\t\tthis.normal.copy( plane.normal );\n\t\t\tthis.constant = plane.constant;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\t\n\t\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\t\tthis.constant *= inverseNormalLength;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tnegate: function () {\n\t\n\t\t\tthis.constant *= - 1;\n\t\t\tthis.normal.negate();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdistanceToPoint: function ( point ) {\n\t\n\t\t\treturn this.normal.dot( point ) + this.constant;\n\t\n\t\t},\n\t\n\t\tdistanceToSphere: function ( sphere ) {\n\t\n\t\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\t\n\t\t},\n\t\n\t\tprojectPoint: function ( point, optionalTarget ) {\n\t\n\t\t\treturn this.orthoPoint( point, optionalTarget ).sub( point ).negate();\n\t\n\t\t},\n\t\n\t\torthoPoint: function ( point, optionalTarget ) {\n\t\n\t\t\tvar perpendicularMagnitude = this.distanceToPoint( point );\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\treturn result.copy( this.normal ).multiplyScalar( perpendicularMagnitude );\n\t\n\t\t},\n\t\n\t\tisIntersectionLine: function ( line ) {\n\t\n\t\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\t\n\t\t\tvar startSign = this.distanceToPoint( line.start );\n\t\t\tvar endSign = this.distanceToPoint( line.end );\n\t\n\t\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\t\n\t\t},\n\t\n\t\tintersectLine: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( line, optionalTarget ) {\n\t\n\t\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\t\tvar direction = line.delta( v1 );\n\t\n\t\t\t\tvar denominator = this.normal.dot( direction );\n\t\n\t\t\t\tif ( denominator === 0 ) {\n\t\n\t\t\t\t\t// line is coplanar, return origin\n\t\t\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\t\n\t\t\t\t\t\treturn result.copy( line.start );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\t\t\treturn undefined;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\t\n\t\t\t\tif ( t < 0 || t > 1 ) {\n\t\n\t\t\t\t\treturn undefined;\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn result.copy( direction ).multiplyScalar( t ).add( line.start );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\n\t\tcoplanarPoint: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\treturn result.copy( this.normal ).multiplyScalar( - this.constant );\n\t\n\t\t},\n\t\n\t\tapplyMatrix4: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\t\tvar v2 = new THREE.Vector3();\n\t\t\tvar m1 = new THREE.Matrix3();\n\t\n\t\t\treturn function ( matrix, optionalNormalMatrix ) {\n\t\n\t\t\t\t// compute new normal based on theory here:\n\t\t\t\t// http://www.songho.ca/opengl/gl_normaltransform.html\n\t\t\t\tvar normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\n\t\t\t\tvar newNormal = v1.copy( this.normal ).applyMatrix3( normalMatrix );\n\t\n\t\t\t\tvar newCoplanarPoint = this.coplanarPoint( v2 );\n\t\t\t\tnewCoplanarPoint.applyMatrix4( matrix );\n\t\n\t\t\t\tthis.setFromNormalAndCoplanarPoint( newNormal, newCoplanarPoint );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttranslate: function ( offset ) {\n\t\n\t\t\tthis.constant = this.constant - offset.dot( this.normal );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( plane ) {\n\t\n\t\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Math.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Math = {\n\t\n\t\tgenerateUUID: function () {\n\t\n\t\t\t// http://www.broofa.com/Tools/Math.uuid.htm\n\t\n\t\t\tvar chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split( '' );\n\t\t\tvar uuid = new Array( 36 );\n\t\t\tvar rnd = 0, r;\n\t\n\t\t\treturn function () {\n\t\n\t\t\t\tfor ( var i = 0; i < 36; i ++ ) {\n\t\n\t\t\t\t\tif ( i === 8 || i === 13 || i === 18 || i === 23 ) {\n\t\n\t\t\t\t\t\tuuid[ i ] = '-';\n\t\n\t\t\t\t\t} else if ( i === 14 ) {\n\t\n\t\t\t\t\t\tuuid[ i ] = '4';\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tif ( rnd <= 0x02 ) rnd = 0x2000000 + ( Math.random() * 0x1000000 ) | 0;\n\t\t\t\t\t\tr = rnd & 0xf;\n\t\t\t\t\t\trnd = rnd >> 4;\n\t\t\t\t\t\tuuid[ i ] = chars[ ( i === 19 ) ? ( r & 0x3 ) | 0x8 : r ];\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn uuid.join( '' );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tclamp: function ( value, min, max ) {\n\t\n\t\t\treturn Math.max( min, Math.min( max, value ) );\n\t\n\t\t},\n\t\n\t\t// compute euclidian modulo of m % n\n\t\t// https://en.wikipedia.org/wiki/Modulo_operation\n\t\n\t\teuclideanModulo: function ( n, m ) {\n\t\n\t\t\treturn ( ( n % m ) + m ) % m;\n\t\n\t\t},\n\t\n\t\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\t\n\t\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\t\n\t\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\t\n\t\t},\n\t\n\t\t// http://en.wikipedia.org/wiki/Smoothstep\n\t\n\t\tsmoothstep: function ( x, min, max ) {\n\t\n\t\t\tif ( x <= min ) return 0;\n\t\t\tif ( x >= max ) return 1;\n\t\n\t\t\tx = ( x - min ) / ( max - min );\n\t\n\t\t\treturn x * x * ( 3 - 2 * x );\n\t\n\t\t},\n\t\n\t\tsmootherstep: function ( x, min, max ) {\n\t\n\t\t\tif ( x <= min ) return 0;\n\t\t\tif ( x >= max ) return 1;\n\t\n\t\t\tx = ( x - min ) / ( max - min );\n\t\n\t\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\t\n\t\t},\n\t\n\t\t// Random float from <0, 1> with 16 bits of randomness\n\t\t// (standard Math.random() creates repetitive patterns when applied over larger space)\n\t\n\t\trandom16: function () {\n\t\n\t\t\treturn ( 65280 * Math.random() + 255 * Math.random() ) / 65535;\n\t\n\t\t},\n\t\n\t\t// Random integer from <low, high> interval\n\t\n\t\trandInt: function ( low, high ) {\n\t\n\t\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\t\n\t\t},\n\t\n\t\t// Random float from <low, high> interval\n\t\n\t\trandFloat: function ( low, high ) {\n\t\n\t\t\treturn low + Math.random() * ( high - low );\n\t\n\t\t},\n\t\n\t\t// Random float from <-range/2, range/2> interval\n\t\n\t\trandFloatSpread: function ( range ) {\n\t\n\t\t\treturn range * ( 0.5 - Math.random() );\n\t\n\t\t},\n\t\n\t\tdegToRad: function () {\n\t\n\t\t\tvar degreeToRadiansFactor = Math.PI / 180;\n\t\n\t\t\treturn function ( degrees ) {\n\t\n\t\t\t\treturn degrees * degreeToRadiansFactor;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tradToDeg: function () {\n\t\n\t\t\tvar radianToDegreesFactor = 180 / Math.PI;\n\t\n\t\t\treturn function ( radians ) {\n\t\n\t\t\t\treturn radians * radianToDegreesFactor;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tisPowerOfTwo: function ( value ) {\n\t\n\t\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\t\n\t\t},\n\t\n\t\tnearestPowerOfTwo: function ( value ) {\n\t\n\t\t\treturn Math.pow( 2, Math.round( Math.log( value ) / Math.LN2 ) );\n\t\n\t\t},\n\t\n\t\tnextPowerOfTwo: function ( value ) {\n\t\n\t\t\tvalue --;\n\t\t\tvalue |= value >> 1;\n\t\t\tvalue |= value >> 2;\n\t\t\tvalue |= value >> 4;\n\t\t\tvalue |= value >> 8;\n\t\t\tvalue |= value >> 16;\n\t\t\tvalue ++;\n\t\n\t\t\treturn value;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Spline.js\n\t\n\t/**\n\t * Spline from Tween.js, slightly optimized (and trashed)\n\t * http://sole.github.com/tween.js/examples/05_spline.html\n\t *\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Spline = function ( points ) {\n\t\n\t\tthis.points = points;\n\t\n\t\tvar c = [], v3 = { x: 0, y: 0, z: 0 },\n\t\tpoint, intPoint, weight, w2, w3,\n\t\tpa, pb, pc, pd;\n\t\n\t\tthis.initFromArray = function ( a ) {\n\t\n\t\t\tthis.points = [];\n\t\n\t\t\tfor ( var i = 0; i < a.length; i ++ ) {\n\t\n\t\t\t\tthis.points[ i ] = { x: a[ i ][ 0 ], y: a[ i ][ 1 ], z: a[ i ][ 2 ] };\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.getPoint = function ( k ) {\n\t\n\t\t\tpoint = ( this.points.length - 1 ) * k;\n\t\t\tintPoint = Math.floor( point );\n\t\t\tweight = point - intPoint;\n\t\n\t\t\tc[ 0 ] = intPoint === 0 ? intPoint : intPoint - 1;\n\t\t\tc[ 1 ] = intPoint;\n\t\t\tc[ 2 ] = intPoint  > this.points.length - 2 ? this.points.length - 1 : intPoint + 1;\n\t\t\tc[ 3 ] = intPoint  > this.points.length - 3 ? this.points.length - 1 : intPoint + 2;\n\t\n\t\t\tpa = this.points[ c[ 0 ] ];\n\t\t\tpb = this.points[ c[ 1 ] ];\n\t\t\tpc = this.points[ c[ 2 ] ];\n\t\t\tpd = this.points[ c[ 3 ] ];\n\t\n\t\t\tw2 = weight * weight;\n\t\t\tw3 = weight * w2;\n\t\n\t\t\tv3.x = interpolate( pa.x, pb.x, pc.x, pd.x, weight, w2, w3 );\n\t\t\tv3.y = interpolate( pa.y, pb.y, pc.y, pd.y, weight, w2, w3 );\n\t\t\tv3.z = interpolate( pa.z, pb.z, pc.z, pd.z, weight, w2, w3 );\n\t\n\t\t\treturn v3;\n\t\n\t\t};\n\t\n\t\tthis.getControlPointsArray = function () {\n\t\n\t\t\tvar i, p, l = this.points.length,\n\t\t\t\tcoords = [];\n\t\n\t\t\tfor ( i = 0; i < l; i ++ ) {\n\t\n\t\t\t\tp = this.points[ i ];\n\t\t\t\tcoords[ i ] = [ p.x, p.y, p.z ];\n\t\n\t\t\t}\n\t\n\t\t\treturn coords;\n\t\n\t\t};\n\t\n\t\t// approximate length by summing linear segments\n\t\n\t\tthis.getLength = function ( nSubDivisions ) {\n\t\n\t\t\tvar i, index, nSamples, position,\n\t\t\t\tpoint = 0, intPoint = 0, oldIntPoint = 0,\n\t\t\t\toldPosition = new THREE.Vector3(),\n\t\t\t\ttmpVec = new THREE.Vector3(),\n\t\t\t\tchunkLengths = [],\n\t\t\t\ttotalLength = 0;\n\t\n\t\t\t// first point has 0 length\n\t\n\t\t\tchunkLengths[ 0 ] = 0;\n\t\n\t\t\tif ( ! nSubDivisions ) nSubDivisions = 100;\n\t\n\t\t\tnSamples = this.points.length * nSubDivisions;\n\t\n\t\t\toldPosition.copy( this.points[ 0 ] );\n\t\n\t\t\tfor ( i = 1; i < nSamples; i ++ ) {\n\t\n\t\t\t\tindex = i / nSamples;\n\t\n\t\t\t\tposition = this.getPoint( index );\n\t\t\t\ttmpVec.copy( position );\n\t\n\t\t\t\ttotalLength += tmpVec.distanceTo( oldPosition );\n\t\n\t\t\t\toldPosition.copy( position );\n\t\n\t\t\t\tpoint = ( this.points.length - 1 ) * index;\n\t\t\t\tintPoint = Math.floor( point );\n\t\n\t\t\t\tif ( intPoint !== oldIntPoint ) {\n\t\n\t\t\t\t\tchunkLengths[ intPoint ] = totalLength;\n\t\t\t\t\toldIntPoint = intPoint;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// last point ends with total length\n\t\n\t\t\tchunkLengths[ chunkLengths.length ] = totalLength;\n\t\n\t\t\treturn { chunks: chunkLengths, total: totalLength };\n\t\n\t\t};\n\t\n\t\tthis.reparametrizeByArcLength = function ( samplingCoef ) {\n\t\n\t\t\tvar i, j,\n\t\t\t\tindex, indexCurrent, indexNext,\n\t\t\t\trealDistance,\n\t\t\t\tsampling, position,\n\t\t\t\tnewpoints = [],\n\t\t\t\ttmpVec = new THREE.Vector3(),\n\t\t\t\tsl = this.getLength();\n\t\n\t\t\tnewpoints.push( tmpVec.copy( this.points[ 0 ] ).clone() );\n\t\n\t\t\tfor ( i = 1; i < this.points.length; i ++ ) {\n\t\n\t\t\t\t//tmpVec.copy( this.points[ i - 1 ] );\n\t\t\t\t//linearDistance = tmpVec.distanceTo( this.points[ i ] );\n\t\n\t\t\t\trealDistance = sl.chunks[ i ] - sl.chunks[ i - 1 ];\n\t\n\t\t\t\tsampling = Math.ceil( samplingCoef * realDistance / sl.total );\n\t\n\t\t\t\tindexCurrent = ( i - 1 ) / ( this.points.length - 1 );\n\t\t\t\tindexNext = i / ( this.points.length - 1 );\n\t\n\t\t\t\tfor ( j = 1; j < sampling - 1; j ++ ) {\n\t\n\t\t\t\t\tindex = indexCurrent + j * ( 1 / sampling ) * ( indexNext - indexCurrent );\n\t\n\t\t\t\t\tposition = this.getPoint( index );\n\t\t\t\t\tnewpoints.push( tmpVec.copy( position ).clone() );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tnewpoints.push( tmpVec.copy( this.points[ i ] ).clone() );\n\t\n\t\t\t}\n\t\n\t\t\tthis.points = newpoints;\n\t\n\t\t};\n\t\n\t\t// Catmull-Rom\n\t\n\t\tfunction interpolate( p0, p1, p2, p3, t, t2, t3 ) {\n\t\n\t\t\tvar v0 = ( p2 - p0 ) * 0.5,\n\t\t\t\tv1 = ( p3 - p1 ) * 0.5;\n\t\n\t\t\treturn ( 2 * ( p1 - p2 ) + v0 + v1 ) * t3 + ( - 3 * ( p1 - p2 ) - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/math/Triangle.js\n\t\n\t/**\n\t * @author bhouston / http://clara.io\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Triangle = function ( a, b, c ) {\n\t\n\t\tthis.a = ( a !== undefined ) ? a : new THREE.Vector3();\n\t\tthis.b = ( b !== undefined ) ? b : new THREE.Vector3();\n\t\tthis.c = ( c !== undefined ) ? c : new THREE.Vector3();\n\t\n\t};\n\t\n\tTHREE.Triangle.normal = function () {\n\t\n\t\tvar v0 = new THREE.Vector3();\n\t\n\t\treturn function ( a, b, c, optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\tresult.subVectors( c, b );\n\t\t\tv0.subVectors( a, b );\n\t\t\tresult.cross( v0 );\n\t\n\t\t\tvar resultLengthSq = result.lengthSq();\n\t\t\tif ( resultLengthSq > 0 ) {\n\t\n\t\t\t\treturn result.multiplyScalar( 1 / Math.sqrt( resultLengthSq ) );\n\t\n\t\t\t}\n\t\n\t\t\treturn result.set( 0, 0, 0 );\n\t\n\t\t};\n\t\n\t}();\n\t\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tTHREE.Triangle.barycoordFromPoint = function () {\n\t\n\t\tvar v0 = new THREE.Vector3();\n\t\tvar v1 = new THREE.Vector3();\n\t\tvar v2 = new THREE.Vector3();\n\t\n\t\treturn function ( point, a, b, c, optionalTarget ) {\n\t\n\t\t\tv0.subVectors( c, a );\n\t\t\tv1.subVectors( b, a );\n\t\t\tv2.subVectors( point, a );\n\t\n\t\t\tvar dot00 = v0.dot( v0 );\n\t\t\tvar dot01 = v0.dot( v1 );\n\t\t\tvar dot02 = v0.dot( v2 );\n\t\t\tvar dot11 = v1.dot( v1 );\n\t\t\tvar dot12 = v1.dot( v2 );\n\t\n\t\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\t// collinear or singular triangle\n\t\t\tif ( denom === 0 ) {\n\t\n\t\t\t\t// arbitrary location outside of triangle?\n\t\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\t\treturn result.set( - 2, - 1, - 1 );\n\t\n\t\t\t}\n\t\n\t\t\tvar invDenom = 1 / denom;\n\t\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\t\n\t\t\t// barycentric coordinates must always sum to 1\n\t\t\treturn result.set( 1 - u - v, v, u );\n\t\n\t\t};\n\t\n\t}();\n\t\n\tTHREE.Triangle.containsPoint = function () {\n\t\n\t\tvar v1 = new THREE.Vector3();\n\t\n\t\treturn function ( point, a, b, c ) {\n\t\n\t\t\tvar result = THREE.Triangle.barycoordFromPoint( point, a, b, c, v1 );\n\t\n\t\t\treturn ( result.x >= 0 ) && ( result.y >= 0 ) && ( ( result.x + result.y ) <= 1 );\n\t\n\t\t};\n\t\n\t}();\n\t\n\tTHREE.Triangle.prototype = {\n\t\n\t\tconstructor: THREE.Triangle,\n\t\n\t\tset: function ( a, b, c ) {\n\t\n\t\t\tthis.a.copy( a );\n\t\t\tthis.b.copy( b );\n\t\t\tthis.c.copy( c );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\t\n\t\t\tthis.a.copy( points[ i0 ] );\n\t\t\tthis.b.copy( points[ i1 ] );\n\t\t\tthis.c.copy( points[ i2 ] );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( triangle ) {\n\t\n\t\t\tthis.a.copy( triangle.a );\n\t\t\tthis.b.copy( triangle.b );\n\t\t\tthis.c.copy( triangle.c );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tarea: function () {\n\t\n\t\t\tvar v0 = new THREE.Vector3();\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function () {\n\t\n\t\t\t\tv0.subVectors( this.c, this.b );\n\t\t\t\tv1.subVectors( this.a, this.b );\n\t\n\t\t\t\treturn v0.cross( v1 ).length() * 0.5;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tmidpoint: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\t\treturn result.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\t\n\t\t},\n\t\n\t\tnormal: function ( optionalTarget ) {\n\t\n\t\t\treturn THREE.Triangle.normal( this.a, this.b, this.c, optionalTarget );\n\t\n\t\t},\n\t\n\t\tplane: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Plane();\n\t\n\t\t\treturn result.setFromCoplanarPoints( this.a, this.b, this.c );\n\t\n\t\t},\n\t\n\t\tbarycoordFromPoint: function ( point, optionalTarget ) {\n\t\n\t\t\treturn THREE.Triangle.barycoordFromPoint( point, this.a, this.b, this.c, optionalTarget );\n\t\n\t\t},\n\t\n\t\tcontainsPoint: function ( point ) {\n\t\n\t\t\treturn THREE.Triangle.containsPoint( point, this.a, this.b, this.c );\n\t\n\t\t},\n\t\n\t\tequals: function ( triangle ) {\n\t\n\t\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/core/Channels.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Channels = function () {\n\t\n\t\tthis.mask = 1;\n\t\n\t};\n\t\n\tTHREE.Channels.prototype = {\n\t\n\t\tconstructor: THREE.Channels,\n\t\n\t\tset: function ( channel ) {\n\t\n\t\t\tthis.mask = 1 << channel;\n\t\n\t\t},\n\t\n\t\tenable: function ( channel ) {\n\t\n\t\t\tthis.mask |= 1 << channel;\n\t\n\t\t},\n\t\n\t\ttoggle: function ( channel ) {\n\t\n\t\t\tthis.mask ^= 1 << channel;\n\t\n\t\t},\n\t\n\t\tdisable: function ( channel ) {\n\t\n\t\t\tthis.mask &= ~ ( 1 << channel );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/core/Clock.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Clock = function ( autoStart ) {\n\t\n\t\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\t\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\t\n\t\tthis.running = false;\n\t\n\t};\n\t\n\tTHREE.Clock.prototype = {\n\t\n\t\tconstructor: THREE.Clock,\n\t\n\t\tstart: function () {\n\t\n\t\t\tthis.startTime = self.performance.now();\n\t\n\t\t\tthis.oldTime = this.startTime;\n\t\t\tthis.running = true;\n\t\n\t\t},\n\t\n\t\tstop: function () {\n\t\n\t\t\tthis.getElapsedTime();\n\t\t\tthis.running = false;\n\t\n\t\t},\n\t\n\t\tgetElapsedTime: function () {\n\t\n\t\t\tthis.getDelta();\n\t\t\treturn this.elapsedTime;\n\t\n\t\t},\n\t\n\t\tgetDelta: function () {\n\t\n\t\t\tvar diff = 0;\n\t\n\t\t\tif ( this.autoStart && ! this.running ) {\n\t\n\t\t\t\tthis.start();\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.running ) {\n\t\n\t\t\t\tvar newTime = self.performance.now();\n\t\n\t\t\t\tdiff = 0.001 * ( newTime - this.oldTime );\n\t\t\t\tthis.oldTime = newTime;\n\t\n\t\t\t\tthis.elapsedTime += diff;\n\t\n\t\t\t}\n\t\n\t\t\treturn diff;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/core/EventDispatcher.js\n\t\n\t/**\n\t * https://github.com/mrdoob/eventdispatcher.js/\n\t */\n\t\n\tTHREE.EventDispatcher = function () {};\n\t\n\tTHREE.EventDispatcher.prototype = {\n\t\n\t\tconstructor: THREE.EventDispatcher,\n\t\n\t\tapply: function ( object ) {\n\t\n\t\t\tobject.addEventListener = THREE.EventDispatcher.prototype.addEventListener;\n\t\t\tobject.hasEventListener = THREE.EventDispatcher.prototype.hasEventListener;\n\t\t\tobject.removeEventListener = THREE.EventDispatcher.prototype.removeEventListener;\n\t\t\tobject.dispatchEvent = THREE.EventDispatcher.prototype.dispatchEvent;\n\t\n\t\t},\n\t\n\t\taddEventListener: function ( type, listener ) {\n\t\n\t\t\tif ( this._listeners === undefined ) this._listeners = {};\n\t\n\t\t\tvar listeners = this._listeners;\n\t\n\t\t\tif ( listeners[ type ] === undefined ) {\n\t\n\t\t\t\tlisteners[ type ] = [];\n\t\n\t\t\t}\n\t\n\t\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\t\n\t\t\t\tlisteners[ type ].push( listener );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\thasEventListener: function ( type, listener ) {\n\t\n\t\t\tif ( this._listeners === undefined ) return false;\n\t\n\t\t\tvar listeners = this._listeners;\n\t\n\t\t\tif ( listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1 ) {\n\t\n\t\t\t\treturn true;\n\t\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\n\t\t},\n\t\n\t\tremoveEventListener: function ( type, listener ) {\n\t\n\t\t\tif ( this._listeners === undefined ) return;\n\t\n\t\t\tvar listeners = this._listeners;\n\t\t\tvar listenerArray = listeners[ type ];\n\t\n\t\t\tif ( listenerArray !== undefined ) {\n\t\n\t\t\t\tvar index = listenerArray.indexOf( listener );\n\t\n\t\t\t\tif ( index !== - 1 ) {\n\t\n\t\t\t\t\tlistenerArray.splice( index, 1 );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tdispatchEvent: function ( event ) {\n\t\n\t\t\tif ( this._listeners === undefined ) return;\n\t\n\t\t\tvar listeners = this._listeners;\n\t\t\tvar listenerArray = listeners[ event.type ];\n\t\n\t\t\tif ( listenerArray !== undefined ) {\n\t\n\t\t\t\tevent.target = this;\n\t\n\t\t\t\tvar array = [];\n\t\t\t\tvar length = listenerArray.length;\n\t\n\t\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\t\n\t\t\t\t\tarray[ i ] = listenerArray[ i ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\t\n\t\t\t\t\tarray[ i ].call( this, event );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/core/Raycaster.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author bhouston / http://clara.io/\n\t * @author stephomi / http://stephaneginier.com/\n\t */\n\t\n\t( function ( THREE ) {\n\t\n\t\tTHREE.Raycaster = function ( origin, direction, near, far ) {\n\t\n\t\t\tthis.ray = new THREE.Ray( origin, direction );\n\t\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\t\n\t\t\tthis.near = near || 0;\n\t\t\tthis.far = far || Infinity;\n\t\n\t\t\tthis.params = {\n\t\t\t\tMesh: {},\n\t\t\t\tLine: {},\n\t\t\t\tLOD: {},\n\t\t\t\tPoints: { threshold: 1 },\n\t\t\t\tSprite: {}\n\t\t\t};\n\t\n\t\t\tObject.defineProperties( this.params, {\n\t\t\t\tPointCloud: {\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\t\t\treturn this.Points;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} );\n\t\n\t\t};\n\t\n\t\tfunction descSort( a, b ) {\n\t\n\t\t\treturn a.distance - b.distance;\n\t\n\t\t}\n\t\n\t\tfunction intersectObject( object, raycaster, intersects, recursive ) {\n\t\n\t\t\tif ( object.visible === false ) return;\n\t\n\t\t\tobject.raycast( raycaster, intersects );\n\t\n\t\t\tif ( recursive === true ) {\n\t\n\t\t\t\tvar children = object.children;\n\t\n\t\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t//\n\t\n\t\tTHREE.Raycaster.prototype = {\n\t\n\t\t\tconstructor: THREE.Raycaster,\n\t\n\t\t\tlinePrecision: 1,\n\t\n\t\t\tset: function ( origin, direction ) {\n\t\n\t\t\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\t\n\t\t\t\tthis.ray.set( origin, direction );\n\t\n\t\t\t},\n\t\n\t\t\tsetFromCamera: function ( coords, camera ) {\n\t\n\t\t\t\tif ( camera instanceof THREE.PerspectiveCamera ) {\n\t\n\t\t\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\n\t\t\t\t} else if ( camera instanceof THREE.OrthographicCamera ) {\n\t\n\t\t\t\t\tthis.ray.origin.set( coords.x, coords.y, - 1 ).unproject( camera );\n\t\t\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t},\n\t\n\t\t\tintersectObject: function ( object, recursive ) {\n\t\n\t\t\t\tvar intersects = [];\n\t\n\t\t\t\tintersectObject( object, this, intersects, recursive );\n\t\n\t\t\t\tintersects.sort( descSort );\n\t\n\t\t\t\treturn intersects;\n\t\n\t\t\t},\n\t\n\t\t\tintersectObjects: function ( objects, recursive ) {\n\t\n\t\t\t\tvar intersects = [];\n\t\n\t\t\t\tif ( Array.isArray( objects ) === false ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\t\t\treturn intersects;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tintersects.sort( descSort );\n\t\n\t\t\t\treturn intersects;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t}( THREE ) );\n\t\n\t// File:src/core/Object3D.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author elephantatwork / www.elephantatwork.ch\n\t */\n\t\n\tTHREE.Object3D = function () {\n\t\n\t\tObject.defineProperty( this, 'id', { value: THREE.Object3DIdCount ++ } );\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\t\n\t\tthis.parent = null;\n\t\tthis.channels = new THREE.Channels();\n\t\tthis.children = [];\n\t\n\t\tthis.up = THREE.Object3D.DefaultUp.clone();\n\t\n\t\tvar position = new THREE.Vector3();\n\t\tvar rotation = new THREE.Euler();\n\t\tvar quaternion = new THREE.Quaternion();\n\t\tvar scale = new THREE.Vector3( 1, 1, 1 );\n\t\n\t\tfunction onRotationChange() {\n\t\n\t\t\tquaternion.setFromEuler( rotation, false );\n\t\n\t\t}\n\t\n\t\tfunction onQuaternionChange() {\n\t\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\t\n\t\t}\n\t\n\t\trotation.onChange( onRotationChange );\n\t\tquaternion.onChange( onQuaternionChange );\n\t\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new THREE.Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new THREE.Matrix3()\n\t\t\t}\n\t\t} );\n\t\n\t\tthis.rotationAutoUpdate = true;\n\t\n\t\tthis.matrix = new THREE.Matrix4();\n\t\tthis.matrixWorld = new THREE.Matrix4();\n\t\n\t\tthis.matrixAutoUpdate = THREE.Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\t\n\t\tthis.visible = true;\n\t\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\t\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\t\n\t\tthis.userData = {};\n\t\n\t};\n\t\n\tTHREE.Object3D.DefaultUp = new THREE.Vector3( 0, 1, 0 );\n\tTHREE.Object3D.DefaultMatrixAutoUpdate = true;\n\t\n\tTHREE.Object3D.prototype = {\n\t\n\t\tconstructor: THREE.Object3D,\n\t\n\t\tget eulerOrder () {\n\t\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\n\t\t\treturn this.rotation.order;\n\t\n\t\t},\n\t\n\t\tset eulerOrder ( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\n\t\t\tthis.rotation.order = value;\n\t\n\t\t},\n\t\n\t\tget useQuaternion () {\n\t\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\t\n\t\t},\n\t\n\t\tset useQuaternion ( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\t\n\t\t},\n\t\n\t\tset renderDepth ( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\t\n\t\t},\n\t\n\t\t//\n\t\n\t\tapplyMatrix: function ( matrix ) {\n\t\n\t\t\tthis.matrix.multiplyMatrices( matrix, this.matrix );\n\t\n\t\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\t\n\t\t},\n\t\n\t\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\t\n\t\t\t// assumes axis is normalized\n\t\n\t\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\t\n\t\t},\n\t\n\t\tsetRotationFromEuler: function ( euler ) {\n\t\n\t\t\tthis.quaternion.setFromEuler( euler, true );\n\t\n\t\t},\n\t\n\t\tsetRotationFromMatrix: function ( m ) {\n\t\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\n\t\t\tthis.quaternion.setFromRotationMatrix( m );\n\t\n\t\t},\n\t\n\t\tsetRotationFromQuaternion: function ( q ) {\n\t\n\t\t\t// assumes q is normalized\n\t\n\t\t\tthis.quaternion.copy( q );\n\t\n\t\t},\n\t\n\t\trotateOnAxis: function () {\n\t\n\t\t\t// rotate object on axis in object space\n\t\t\t// axis is assumed to be normalized\n\t\n\t\t\tvar q1 = new THREE.Quaternion();\n\t\n\t\t\treturn function ( axis, angle ) {\n\t\n\t\t\t\tq1.setFromAxisAngle( axis, angle );\n\t\n\t\t\t\tthis.quaternion.multiply( q1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\trotateX: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3( 1, 0, 0 );\n\t\n\t\t\treturn function ( angle ) {\n\t\n\t\t\t\treturn this.rotateOnAxis( v1, angle );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\trotateY: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3( 0, 1, 0 );\n\t\n\t\t\treturn function ( angle ) {\n\t\n\t\t\t\treturn this.rotateOnAxis( v1, angle );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\trotateZ: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3( 0, 0, 1 );\n\t\n\t\t\treturn function ( angle ) {\n\t\n\t\t\t\treturn this.rotateOnAxis( v1, angle );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttranslateOnAxis: function () {\n\t\n\t\t\t// translate object by distance along axis in object space\n\t\t\t// axis is assumed to be normalized\n\t\n\t\t\tvar v1 = new THREE.Vector3();\n\t\n\t\t\treturn function ( axis, distance ) {\n\t\n\t\t\t\tv1.copy( axis ).applyQuaternion( this.quaternion );\n\t\n\t\t\t\tthis.position.add( v1.multiplyScalar( distance ) );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttranslate: function ( distance, axis ) {\n\t\n\t\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\t\treturn this.translateOnAxis( axis, distance );\n\t\n\t\t},\n\t\n\t\ttranslateX: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3( 1, 0, 0 );\n\t\n\t\t\treturn function ( distance ) {\n\t\n\t\t\t\treturn this.translateOnAxis( v1, distance );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttranslateY: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3( 0, 1, 0 );\n\t\n\t\t\treturn function ( distance ) {\n\t\n\t\t\t\treturn this.translateOnAxis( v1, distance );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttranslateZ: function () {\n\t\n\t\t\tvar v1 = new THREE.Vector3( 0, 0, 1 );\n\t\n\t\t\treturn function ( distance ) {\n\t\n\t\t\t\treturn this.translateOnAxis( v1, distance );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tlocalToWorld: function ( vector ) {\n\t\n\t\t\treturn vector.applyMatrix4( this.matrixWorld );\n\t\n\t\t},\n\t\n\t\tworldToLocal: function () {\n\t\n\t\t\tvar m1 = new THREE.Matrix4();\n\t\n\t\t\treturn function ( vector ) {\n\t\n\t\t\t\treturn vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tlookAt: function () {\n\t\n\t\t\t// This routine does not support objects with rotated and/or translated parent(s)\n\t\n\t\t\tvar m1 = new THREE.Matrix4();\n\t\n\t\t\treturn function ( vector ) {\n\t\n\t\t\t\tm1.lookAt( vector, this.position, this.up );\n\t\n\t\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tadd: function ( object ) {\n\t\n\t\t\tif ( arguments.length > 1 ) {\n\t\n\t\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\t\n\t\t\t\t\tthis.add( arguments[ i ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t\tif ( object === this ) {\n\t\n\t\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t\tif ( object instanceof THREE.Object3D ) {\n\t\n\t\t\t\tif ( object.parent !== null ) {\n\t\n\t\t\t\t\tobject.parent.remove( object );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tobject.parent = this;\n\t\t\t\tobject.dispatchEvent( { type: 'added' } );\n\t\n\t\t\t\tthis.children.push( object );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tremove: function ( object ) {\n\t\n\t\t\tif ( arguments.length > 1 ) {\n\t\n\t\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\t\n\t\t\t\t\tthis.remove( arguments[ i ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar index = this.children.indexOf( object );\n\t\n\t\t\tif ( index !== - 1 ) {\n\t\n\t\t\t\tobject.parent = null;\n\t\n\t\t\t\tobject.dispatchEvent( { type: 'removed' } );\n\t\n\t\t\t\tthis.children.splice( index, 1 );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tgetChildByName: function ( name ) {\n\t\n\t\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\t\treturn this.getObjectByName( name );\n\t\n\t\t},\n\t\n\t\tgetObjectById: function ( id ) {\n\t\n\t\t\treturn this.getObjectByProperty( 'id', id );\n\t\n\t\t},\n\t\n\t\tgetObjectByName: function ( name ) {\n\t\n\t\t\treturn this.getObjectByProperty( 'name', name );\n\t\n\t\t},\n\t\n\t\tgetObjectByProperty: function ( name, value ) {\n\t\n\t\t\tif ( this[ name ] === value ) return this;\n\t\n\t\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar child = this.children[ i ];\n\t\t\t\tvar object = child.getObjectByProperty( name, value );\n\t\n\t\t\t\tif ( object !== undefined ) {\n\t\n\t\t\t\t\treturn object;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn undefined;\n\t\n\t\t},\n\t\n\t\tgetWorldPosition: function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\tthis.updateMatrixWorld( true );\n\t\n\t\t\treturn result.setFromMatrixPosition( this.matrixWorld );\n\t\n\t\t},\n\t\n\t\tgetWorldQuaternion: function () {\n\t\n\t\t\tvar position = new THREE.Vector3();\n\t\t\tvar scale = new THREE.Vector3();\n\t\n\t\t\treturn function ( optionalTarget ) {\n\t\n\t\t\t\tvar result = optionalTarget || new THREE.Quaternion();\n\t\n\t\t\t\tthis.updateMatrixWorld( true );\n\t\n\t\t\t\tthis.matrixWorld.decompose( position, result, scale );\n\t\n\t\t\t\treturn result;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tgetWorldRotation: function () {\n\t\n\t\t\tvar quaternion = new THREE.Quaternion();\n\t\n\t\t\treturn function ( optionalTarget ) {\n\t\n\t\t\t\tvar result = optionalTarget || new THREE.Euler();\n\t\n\t\t\t\tthis.getWorldQuaternion( quaternion );\n\t\n\t\t\t\treturn result.setFromQuaternion( quaternion, this.rotation.order, false );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tgetWorldScale: function () {\n\t\n\t\t\tvar position = new THREE.Vector3();\n\t\t\tvar quaternion = new THREE.Quaternion();\n\t\n\t\t\treturn function ( optionalTarget ) {\n\t\n\t\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\t\tthis.updateMatrixWorld( true );\n\t\n\t\t\t\tthis.matrixWorld.decompose( position, quaternion, result );\n\t\n\t\t\t\treturn result;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tgetWorldDirection: function () {\n\t\n\t\t\tvar quaternion = new THREE.Quaternion();\n\t\n\t\t\treturn function ( optionalTarget ) {\n\t\n\t\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\t\tthis.getWorldQuaternion( quaternion );\n\t\n\t\t\t\treturn result.set( 0, 0, 1 ).applyQuaternion( quaternion );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\traycast: function () {},\n\t\n\t\ttraverse: function ( callback ) {\n\t\n\t\t\tcallback( this );\n\t\n\t\t\tvar children = this.children;\n\t\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\t\n\t\t\t\tchildren[ i ].traverse( callback );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\ttraverseVisible: function ( callback ) {\n\t\n\t\t\tif ( this.visible === false ) return;\n\t\n\t\t\tcallback( this );\n\t\n\t\t\tvar children = this.children;\n\t\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\t\n\t\t\t\tchildren[ i ].traverseVisible( callback );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\ttraverseAncestors: function ( callback ) {\n\t\n\t\t\tvar parent = this.parent;\n\t\n\t\t\tif ( parent !== null ) {\n\t\n\t\t\t\tcallback( parent );\n\t\n\t\t\t\tparent.traverseAncestors( callback );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tupdateMatrix: function () {\n\t\n\t\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\t\n\t\t\tthis.matrixWorldNeedsUpdate = true;\n\t\n\t\t},\n\t\n\t\tupdateMatrixWorld: function ( force ) {\n\t\n\t\t\tif ( this.matrixAutoUpdate === true ) this.updateMatrix();\n\t\n\t\t\tif ( this.matrixWorldNeedsUpdate === true || force === true ) {\n\t\n\t\t\t\tif ( this.parent === null ) {\n\t\n\t\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.matrixWorldNeedsUpdate = false;\n\t\n\t\t\t\tforce = true;\n\t\n\t\t\t}\n\t\n\t\t\t// update children\n\t\n\t\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\t\n\t\t\t\tthis.children[ i ].updateMatrixWorld( force );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\ttoJSON: function ( meta ) {\n\t\n\t\t\tvar isRootObject = ( meta === undefined );\n\t\n\t\t\tvar output = {};\n\t\n\t\t\t// meta is a hash used to collect geometries, materials.\n\t\t\t// not providing it implies that this is the root object\n\t\t\t// being serialized.\n\t\t\tif ( isRootObject ) {\n\t\n\t\t\t\t// initialize meta obj\n\t\t\t\tmeta = {\n\t\t\t\t\tgeometries: {},\n\t\t\t\t\tmaterials: {},\n\t\t\t\t\ttextures: {},\n\t\t\t\t\timages: {}\n\t\t\t\t};\n\t\n\t\t\t\toutput.metadata = {\n\t\t\t\t\tversion: 4.4,\n\t\t\t\t\ttype: 'Object',\n\t\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t\t// standard Object3D serialization\n\t\n\t\t\tvar object = {};\n\t\n\t\t\tobject.uuid = this.uuid;\n\t\t\tobject.type = this.type;\n\t\n\t\t\tif ( this.name !== '' ) object.name = this.name;\n\t\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\t\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\t\tif ( this.visible === false ) object.visible = false;\n\t\n\t\t\tobject.matrix = this.matrix.toArray();\n\t\n\t\t\t//\n\t\n\t\t\tif ( this.geometry !== undefined ) {\n\t\n\t\t\t\tif ( meta.geometries[ this.geometry.uuid ] === undefined ) {\n\t\n\t\t\t\t\tmeta.geometries[ this.geometry.uuid ] = this.geometry.toJSON( meta );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tobject.geometry = this.geometry.uuid;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.material !== undefined ) {\n\t\n\t\t\t\tif ( meta.materials[ this.material.uuid ] === undefined ) {\n\t\n\t\t\t\t\tmeta.materials[ this.material.uuid ] = this.material.toJSON( meta );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tobject.material = this.material.uuid;\n\t\n\t\t\t}\n\t\n\t\t\t//\n\t\n\t\t\tif ( this.children.length > 0 ) {\n\t\n\t\t\t\tobject.children = [];\n\t\n\t\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\t\n\t\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( isRootObject ) {\n\t\n\t\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\t\tvar images = extractFromCache( meta.images );\n\t\n\t\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\t\tif ( images.length > 0 ) output.images = images;\n\t\n\t\t\t}\n\t\n\t\t\toutput.object = object;\n\t\n\t\t\treturn output;\n\t\n\t\t\t// extract data from the cache hash\n\t\t\t// remove metadata on each item\n\t\t\t// and return as array\n\t\t\tfunction extractFromCache ( cache ) {\n\t\n\t\t\t\tvar values = [];\n\t\t\t\tfor ( var key in cache ) {\n\t\n\t\t\t\t\tvar data = cache[ key ];\n\t\t\t\t\tdelete data.metadata;\n\t\t\t\t\tvalues.push( data );\n\t\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tclone: function ( recursive ) {\n\t\n\t\t\treturn new this.constructor().copy( this, recursive );\n\t\n\t\t},\n\t\n\t\tcopy: function ( source, recursive ) {\n\t\n\t\t\tif ( recursive === undefined ) recursive = true;\n\t\n\t\t\tthis.name = source.name;\n\t\n\t\t\tthis.up.copy( source.up );\n\t\n\t\t\tthis.position.copy( source.position );\n\t\t\tthis.quaternion.copy( source.quaternion );\n\t\t\tthis.scale.copy( source.scale );\n\t\n\t\t\tthis.rotationAutoUpdate = source.rotationAutoUpdate;\n\t\n\t\t\tthis.matrix.copy( source.matrix );\n\t\t\tthis.matrixWorld.copy( source.matrixWorld );\n\t\n\t\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\t\n\t\t\tthis.visible = source.visible;\n\t\n\t\t\tthis.castShadow = source.castShadow;\n\t\t\tthis.receiveShadow = source.receiveShadow;\n\t\n\t\t\tthis.frustumCulled = source.frustumCulled;\n\t\t\tthis.renderOrder = source.renderOrder;\n\t\n\t\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\t\n\t\t\tif ( recursive === true ) {\n\t\n\t\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\t\n\t\t\t\t\tvar child = source.children[ i ];\n\t\t\t\t\tthis.add( child.clone() );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.Object3D.prototype );\n\t\n\tTHREE.Object3DIdCount = 0;\n\t\n\t// File:src/core/Face3.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Face3 = function ( a, b, c, normal, color, materialIndex ) {\n\t\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\t\n\t\tthis.normal = normal instanceof THREE.Vector3 ? normal : new THREE.Vector3();\n\t\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\t\n\t\tthis.color = color instanceof THREE.Color ? color : new THREE.Color();\n\t\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\t\n\t\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\t\n\t};\n\t\n\tTHREE.Face3.prototype = {\n\t\n\t\tconstructor: THREE.Face3,\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tthis.a = source.a;\n\t\t\tthis.b = source.b;\n\t\t\tthis.c = source.c;\n\t\n\t\t\tthis.normal.copy( source.normal );\n\t\t\tthis.color.copy( source.color );\n\t\n\t\t\tthis.materialIndex = source.materialIndex;\n\t\n\t\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\t\n\t\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\t\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\t\n\t\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/core/Face4.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Face4 = function ( a, b, c, d, normal, color, materialIndex ) {\n\t\n\t\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\t\treturn new THREE.Face3( a, b, c, normal, color, materialIndex );\n\t\n\t};\n\t\n\t// File:src/core/BufferAttribute.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.BufferAttribute = function ( array, itemSize ) {\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\n\t\tthis.dynamic = false;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\t\n\t\tthis.version = 0;\n\t\n\t};\n\t\n\tTHREE.BufferAttribute.prototype = {\n\t\n\t\tconstructor: THREE.BufferAttribute,\n\t\n\t\tget length() {\n\t\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Please use .count.' );\n\t\t\treturn this.array.length;\n\t\n\t\t},\n\t\n\t\tget count() {\n\t\n\t\t\treturn this.array.length / this.itemSize;\n\t\n\t\t},\n\t\n\t\tset needsUpdate( value ) {\n\t\n\t\t\tif ( value === true ) this.version ++;\n\t\n\t\t},\n\t\n\t\tsetDynamic: function ( value ) {\n\t\n\t\t\tthis.dynamic = value;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tthis.array = new source.array.constructor( source.array );\n\t\t\tthis.itemSize = source.itemSize;\n\t\n\t\t\tthis.dynamic = source.dynamic;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyAt: function ( index1, attribute, index2 ) {\n\t\n\t\t\tindex1 *= this.itemSize;\n\t\t\tindex2 *= attribute.itemSize;\n\t\n\t\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\t\n\t\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyArray: function ( array ) {\n\t\n\t\t\tthis.array.set( array );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyColorsArray: function ( colors ) {\n\t\n\t\t\tvar array = this.array, offset = 0;\n\t\n\t\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar color = colors[ i ];\n\t\n\t\t\t\tif ( color === undefined ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\t\tcolor = new THREE.Color();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tarray[ offset ++ ] = color.r;\n\t\t\t\tarray[ offset ++ ] = color.g;\n\t\t\t\tarray[ offset ++ ] = color.b;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyIndicesArray: function ( indices ) {\n\t\n\t\t\tvar array = this.array, offset = 0;\n\t\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar index = indices[ i ];\n\t\n\t\t\t\tarray[ offset ++ ] = index.a;\n\t\t\t\tarray[ offset ++ ] = index.b;\n\t\t\t\tarray[ offset ++ ] = index.c;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyVector2sArray: function ( vectors ) {\n\t\n\t\t\tvar array = this.array, offset = 0;\n\t\n\t\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar vector = vectors[ i ];\n\t\n\t\t\t\tif ( vector === undefined ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\t\tvector = new THREE.Vector2();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\t\tarray[ offset ++ ] = vector.y;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyVector3sArray: function ( vectors ) {\n\t\n\t\t\tvar array = this.array, offset = 0;\n\t\n\t\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar vector = vectors[ i ];\n\t\n\t\t\t\tif ( vector === undefined ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\t\tvector = new THREE.Vector3();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\t\tarray[ offset ++ ] = vector.z;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopyVector4sArray: function ( vectors ) {\n\t\n\t\t\tvar array = this.array, offset = 0;\n\t\n\t\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar vector = vectors[ i ];\n\t\n\t\t\t\tif ( vector === undefined ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\t\tvector = new THREE.Vector4();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\t\tarray[ offset ++ ] = vector.w;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tset: function ( value, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis.array.set( value, offset );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tgetX: function ( index ) {\n\t\n\t\t\treturn this.array[ index * this.itemSize ];\n\t\n\t\t},\n\t\n\t\tsetX: function ( index, x ) {\n\t\n\t\t\tthis.array[ index * this.itemSize ] = x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tgetY: function ( index ) {\n\t\n\t\t\treturn this.array[ index * this.itemSize + 1 ];\n\t\n\t\t},\n\t\n\t\tsetY: function ( index, y ) {\n\t\n\t\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tgetZ: function ( index ) {\n\t\n\t\t\treturn this.array[ index * this.itemSize + 2 ];\n\t\n\t\t},\n\t\n\t\tsetZ: function ( index, z ) {\n\t\n\t\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tgetW: function ( index ) {\n\t\n\t\t\treturn this.array[ index * this.itemSize + 3 ];\n\t\n\t\t},\n\t\n\t\tsetW: function ( index, w ) {\n\t\n\t\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetXY: function ( index, x, y ) {\n\t\n\t\t\tindex *= this.itemSize;\n\t\n\t\t\tthis.array[ index + 0 ] = x;\n\t\t\tthis.array[ index + 1 ] = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetXYZ: function ( index, x, y, z ) {\n\t\n\t\t\tindex *= this.itemSize;\n\t\n\t\t\tthis.array[ index + 0 ] = x;\n\t\t\tthis.array[ index + 1 ] = y;\n\t\t\tthis.array[ index + 2 ] = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetXYZW: function ( index, x, y, z, w ) {\n\t\n\t\t\tindex *= this.itemSize;\n\t\n\t\t\tthis.array[ index + 0 ] = x;\n\t\t\tthis.array[ index + 1 ] = y;\n\t\t\tthis.array[ index + 2 ] = z;\n\t\t\tthis.array[ index + 3 ] = w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t}\n\t\n\t};\n\t\n\t//\n\t\n\tTHREE.Int8Attribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Int8Array( array ), itemSize );\n\t\n\t};\n\t\n\tTHREE.Uint8Attribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Uint8Array( array ), itemSize );\n\t\n\t};\n\t\n\tTHREE.Uint8ClampedAttribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Uint8ClampedArray( array ), itemSize );\n\t\n\t};\n\t\n\tTHREE.Int16Attribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Int16Array( array ), itemSize );\n\t\n\t};\n\t\n\tTHREE.Uint16Attribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Uint16Array( array ), itemSize );\n\t\n\t};\n\t\n\tTHREE.Int32Attribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Int32Array( array ), itemSize );\n\t\n\t};\n\t\n\tTHREE.Uint32Attribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Uint32Array( array ), itemSize );\n\t\n\t};\n\t\n\tTHREE.Float32Attribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Float32Array( array ), itemSize );\n\t\n\t};\n\t\n\tTHREE.Float64Attribute = function ( array, itemSize ) {\n\t\n\t\treturn new THREE.BufferAttribute( new Float64Array( array ), itemSize );\n\t\n\t};\n\t\n\t\n\t// Deprecated\n\t\n\tTHREE.DynamicBufferAttribute = function ( array, itemSize ) {\n\t\n\t\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\n\t\treturn new THREE.BufferAttribute( array, itemSize ).setDynamic( true );\n\t\n\t};\n\t\n\t// File:src/core/InstancedBufferAttribute.js\n\t\n\t/**\n\t * @author benaadams / https://twitter.com/ben_a_adams\n\t */\n\t\n\tTHREE.InstancedBufferAttribute = function ( array, itemSize, meshPerAttribute ) {\n\t\n\t\tTHREE.BufferAttribute.call( this, array, itemSize );\n\t\n\t\tthis.meshPerAttribute = meshPerAttribute || 1;\n\t\n\t};\n\t\n\tTHREE.InstancedBufferAttribute.prototype = Object.create( THREE.BufferAttribute.prototype );\n\tTHREE.InstancedBufferAttribute.prototype.constructor = THREE.InstancedBufferAttribute;\n\t\n\tTHREE.InstancedBufferAttribute.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.BufferAttribute.prototype.copy.call( this, source );\n\t\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/core/InterleavedBuffer.js\n\t\n\t/**\n\t * @author benaadams / https://twitter.com/ben_a_adams\n\t */\n\t\n\tTHREE.InterleavedBuffer = function ( array, stride ) {\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\n\t\tthis.dynamic = false;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\t\n\t\tthis.version = 0;\n\t\n\t};\n\t\n\tTHREE.InterleavedBuffer.prototype = {\n\t\n\t\tconstructor: THREE.InterleavedBuffer,\n\t\n\t\tget length () {\n\t\n\t\t\treturn this.array.length;\n\t\n\t\t},\n\t\n\t\tget count () {\n\t\n\t\t\treturn this.array.length / this.stride;\n\t\n\t\t},\n\t\n\t\tset needsUpdate( value ) {\n\t\n\t\t\tif ( value === true ) this.version ++;\n\t\n\t\t},\n\t\n\t\tsetDynamic: function ( value ) {\n\t\n\t\t\tthis.dynamic = value;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tthis.array = new source.array.constructor( source.array );\n\t\t\tthis.stride = source.stride;\n\t\t\tthis.dynamic = source.dynamic;\n\t\n\t\t},\n\t\n\t\tcopyAt: function ( index1, attribute, index2 ) {\n\t\n\t\t\tindex1 *= this.stride;\n\t\t\tindex2 *= attribute.stride;\n\t\n\t\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\t\n\t\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tset: function ( value, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis.array.set( value, offset );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/core/InstancedInterleavedBuffer.js\n\t\n\t/**\n\t * @author benaadams / https://twitter.com/ben_a_adams\n\t */\n\t\n\tTHREE.InstancedInterleavedBuffer = function ( array, stride, meshPerAttribute ) {\n\t\n\t\tTHREE.InterleavedBuffer.call( this, array, stride );\n\t\n\t\tthis.meshPerAttribute = meshPerAttribute || 1;\n\t\n\t};\n\t\n\tTHREE.InstancedInterleavedBuffer.prototype = Object.create( THREE.InterleavedBuffer.prototype );\n\tTHREE.InstancedInterleavedBuffer.prototype.constructor = THREE.InstancedInterleavedBuffer;\n\t\n\tTHREE.InstancedInterleavedBuffer.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.InterleavedBuffer.prototype.copy.call( this, source );\n\t\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/core/InterleavedBufferAttribute.js\n\t\n\t/**\n\t * @author benaadams / https://twitter.com/ben_a_adams\n\t */\n\t\n\tTHREE.InterleavedBufferAttribute = function ( interleavedBuffer, itemSize, offset ) {\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\t\n\t};\n\t\n\t\n\tTHREE.InterleavedBufferAttribute.prototype = {\n\t\n\t\tconstructor: THREE.InterleavedBufferAttribute,\n\t\n\t\tget length() {\n\t\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Please use .count.' );\n\t\t\treturn this.array.length;\n\t\n\t\t},\n\t\n\t\tget count() {\n\t\n\t\t\treturn this.data.array.length / this.data.stride;\n\t\n\t\t},\n\t\n\t\tsetX: function ( index, x ) {\n\t\n\t\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetY: function ( index, y ) {\n\t\n\t\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetZ: function ( index, z ) {\n\t\n\t\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetW: function ( index, w ) {\n\t\n\t\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tgetX: function ( index ) {\n\t\n\t\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\t\n\t\t},\n\t\n\t\tgetY: function ( index ) {\n\t\n\t\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\t\n\t\t},\n\t\n\t\tgetZ: function ( index ) {\n\t\n\t\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\t\n\t\t},\n\t\n\t\tgetW: function ( index ) {\n\t\n\t\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\t\n\t\t},\n\t\n\t\tsetXY: function ( index, x, y ) {\n\t\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\n\t\t\tthis.data.array[ index + 0 ] = x;\n\t\t\tthis.data.array[ index + 1 ] = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetXYZ: function ( index, x, y, z ) {\n\t\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\n\t\t\tthis.data.array[ index + 0 ] = x;\n\t\t\tthis.data.array[ index + 1 ] = y;\n\t\t\tthis.data.array[ index + 2 ] = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetXYZW: function ( index, x, y, z, w ) {\n\t\n\t\t\tindex = index * this.data.stride + this.offset;\n\t\n\t\t\tthis.data.array[ index + 0 ] = x;\n\t\t\tthis.data.array[ index + 1 ] = y;\n\t\t\tthis.data.array[ index + 2 ] = z;\n\t\t\tthis.data.array[ index + 3 ] = w;\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/core/Geometry.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author kile / http://kile.stravaganza.org/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\tTHREE.Geometry = function () {\n\t\n\t\tObject.defineProperty( this, 'id', { value: THREE.GeometryIdCount ++ } );\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.name = '';\n\t\tthis.type = 'Geometry';\n\t\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [ [] ];\n\t\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\n\t\tthis.lineDistances = [];\n\t\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\t\n\t\t// update flags\n\t\n\t\tthis.verticesNeedUpdate = false;\n\t\tthis.elementsNeedUpdate = false;\n\t\tthis.uvsNeedUpdate = false;\n\t\tthis.normalsNeedUpdate = false;\n\t\tthis.colorsNeedUpdate = false;\n\t\tthis.lineDistancesNeedUpdate = false;\n\t\tthis.groupsNeedUpdate = false;\n\t\n\t};\n\t\n\tTHREE.Geometry.prototype = {\n\t\n\t\tconstructor: THREE.Geometry,\n\t\n\t\tapplyMatrix: function ( matrix ) {\n\t\n\t\t\tvar normalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\n\t\n\t\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\t\n\t\t\t\tvar vertex = this.vertices[ i ];\n\t\t\t\tvertex.applyMatrix4( matrix );\n\t\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\t\n\t\t\t\tvar face = this.faces[ i ];\n\t\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\t\n\t\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.boundingBox !== null ) {\n\t\n\t\t\t\tthis.computeBoundingBox();\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.boundingSphere !== null ) {\n\t\n\t\t\t\tthis.computeBoundingSphere();\n\t\n\t\t\t}\n\t\n\t\t\tthis.verticesNeedUpdate = true;\n\t\t\tthis.normalsNeedUpdate = true;\n\t\n\t\t},\n\t\n\t\trotateX: function () {\n\t\n\t\t\t// rotate geometry around world x-axis\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function rotateX( angle ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeRotationX( angle );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\trotateY: function () {\n\t\n\t\t\t// rotate geometry around world y-axis\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function rotateY( angle ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeRotationY( angle );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\trotateZ: function () {\n\t\n\t\t\t// rotate geometry around world z-axis\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function rotateZ( angle ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeRotationZ( angle );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttranslate: function () {\n\t\n\t\t\t// translate geometry\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function translate( x, y, z ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeTranslation( x, y, z );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tscale: function () {\n\t\n\t\t\t// scale geometry\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function scale( x, y, z ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeScale( x, y, z );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tlookAt: function () {\n\t\n\t\t\tvar obj;\n\t\n\t\t\treturn function lookAt( vector ) {\n\t\n\t\t\t\tif ( obj === undefined ) obj = new THREE.Object3D();\n\t\n\t\t\t\tobj.lookAt( vector );\n\t\n\t\t\t\tobj.updateMatrix();\n\t\n\t\t\t\tthis.applyMatrix( obj.matrix );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tfromBufferGeometry: function ( geometry ) {\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\t\tvar attributes = geometry.attributes;\n\t\n\t\t\tvar vertices = attributes.position.array;\n\t\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\t\n\t\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\t\n\t\t\tvar tempNormals = [];\n\t\t\tvar tempUVs = [];\n\t\t\tvar tempUVs2 = [];\n\t\n\t\t\tfor ( var i = 0, j = 0, k = 0; i < vertices.length; i += 3, j += 2, k += 4 ) {\n\t\n\t\t\t\tscope.vertices.push( new THREE.Vector3( vertices[ i ], vertices[ i + 1 ], vertices[ i + 2 ] ) );\n\t\n\t\t\t\tif ( normals !== undefined ) {\n\t\n\t\t\t\t\ttempNormals.push( new THREE.Vector3( normals[ i ], normals[ i + 1 ], normals[ i + 2 ] ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( colors !== undefined ) {\n\t\n\t\t\t\t\tscope.colors.push( new THREE.Color( colors[ i ], colors[ i + 1 ], colors[ i + 2 ] ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( uvs !== undefined ) {\n\t\n\t\t\t\t\ttempUVs.push( new THREE.Vector2( uvs[ j ], uvs[ j + 1 ] ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( uvs2 !== undefined ) {\n\t\n\t\t\t\t\ttempUVs2.push( new THREE.Vector2( uvs2[ j ], uvs2[ j + 1 ] ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction addFace( a, b, c ) {\n\t\n\t\t\t\tvar vertexNormals = normals !== undefined ? [ tempNormals[ a ].clone(), tempNormals[ b ].clone(), tempNormals[ c ].clone() ] : [];\n\t\t\t\tvar vertexColors = colors !== undefined ? [ scope.colors[ a ].clone(), scope.colors[ b ].clone(), scope.colors[ c ].clone() ] : [];\n\t\n\t\t\t\tvar face = new THREE.Face3( a, b, c, vertexNormals, vertexColors );\n\t\n\t\t\t\tscope.faces.push( face );\n\t\n\t\t\t\tif ( uvs !== undefined ) {\n\t\n\t\t\t\t\tscope.faceVertexUvs[ 0 ].push( [ tempUVs[ a ].clone(), tempUVs[ b ].clone(), tempUVs[ c ].clone() ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( uvs2 !== undefined ) {\n\t\n\t\t\t\t\tscope.faceVertexUvs[ 1 ].push( [ tempUVs2[ a ].clone(), tempUVs2[ b ].clone(), tempUVs2[ c ].clone() ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tif ( indices !== undefined ) {\n\t\n\t\t\t\tvar groups = geometry.groups;\n\t\n\t\t\t\tif ( groups.length > 0 ) {\n\t\n\t\t\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\t\n\t\t\t\t\t\tvar group = groups[ i ];\n\t\n\t\t\t\t\t\tvar start = group.start;\n\t\t\t\t\t\tvar count = group.count;\n\t\n\t\t\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\t\n\t\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ] );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\t\n\t\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tfor ( var i = 0; i < vertices.length / 3; i += 3 ) {\n\t\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tthis.computeFaceNormals();\n\t\n\t\t\tif ( geometry.boundingBox !== null ) {\n\t\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\t\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcenter: function () {\n\t\n\t\t\tthis.computeBoundingBox();\n\t\n\t\t\tvar offset = this.boundingBox.center().negate();\n\t\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\t\n\t\t\treturn offset;\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\tthis.computeBoundingSphere();\n\t\n\t\t\tvar center = this.boundingSphere.center;\n\t\t\tvar radius = this.boundingSphere.radius;\n\t\n\t\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\t\n\t\t\tvar matrix = new THREE.Matrix4();\n\t\t\tmatrix.set(\n\t\t\t\ts, 0, 0, - s * center.x,\n\t\t\t\t0, s, 0, - s * center.y,\n\t\t\t\t0, 0, s, - s * center.z,\n\t\t\t\t0, 0, 0, 1\n\t\t\t);\n\t\n\t\t\tthis.applyMatrix( matrix );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcomputeFaceNormals: function () {\n\t\n\t\t\tvar cb = new THREE.Vector3(), ab = new THREE.Vector3();\n\t\n\t\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\tvar face = this.faces[ f ];\n\t\n\t\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\t\tvar vC = this.vertices[ face.c ];\n\t\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\t\n\t\t\t\tcb.normalize();\n\t\n\t\t\t\tface.normal.copy( cb );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tcomputeVertexNormals: function ( areaWeighted ) {\n\t\n\t\t\tvar v, vl, f, fl, face, vertices;\n\t\n\t\t\tvertices = new Array( this.vertices.length );\n\t\n\t\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\t\n\t\t\t\tvertices[ v ] = new THREE.Vector3();\n\t\n\t\t\t}\n\t\n\t\t\tif ( areaWeighted ) {\n\t\n\t\t\t\t// vertex normals weighted by triangle areas\n\t\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\t\n\t\t\t\tvar vA, vB, vC;\n\t\t\t\tvar cb = new THREE.Vector3(), ab = new THREE.Vector3();\n\t\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\t\tface = this.faces[ f ];\n\t\n\t\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\t\tvC = this.vertices[ face.c ];\n\t\n\t\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\t\tcb.cross( ab );\n\t\n\t\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\t\tvertices[ face.c ].add( cb );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\t\tface = this.faces[ f ];\n\t\n\t\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\t\tvertices[ face.c ].add( face.normal );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\t\n\t\t\t\tvertices[ v ].normalize();\n\t\n\t\t\t}\n\t\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\tface = this.faces[ f ];\n\t\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\t\n\t\t\t\tif ( vertexNormals.length === 3 ) {\n\t\n\t\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tcomputeMorphNormals: function () {\n\t\n\t\t\tvar i, il, f, fl, face;\n\t\n\t\t\t// save original normals\n\t\t\t// - create temp variables on first access\n\t\t\t//   otherwise just copy (for faster repeated calls)\n\t\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\tface = this.faces[ f ];\n\t\n\t\t\t\tif ( ! face.__originalFaceNormal ) {\n\t\n\t\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\t\n\t\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\t\n\t\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\t\n\t\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// use temp geometry to compute face and vertex normals for each morph\n\t\n\t\t\tvar tmpGeo = new THREE.Geometry();\n\t\t\ttmpGeo.faces = this.faces;\n\t\n\t\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\t\n\t\t\t\t// create on first access\n\t\n\t\t\t\tif ( ! this.morphNormals[ i ] ) {\n\t\n\t\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\t\n\t\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\t\n\t\t\t\t\tvar faceNormal, vertexNormals;\n\t\n\t\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\t\t\tfaceNormal = new THREE.Vector3();\n\t\t\t\t\t\tvertexNormals = { a: new THREE.Vector3(), b: new THREE.Vector3(), c: new THREE.Vector3() };\n\t\n\t\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar morphNormals = this.morphNormals[ i ];\n\t\n\t\t\t\t// set vertices to morph target\n\t\n\t\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\t\n\t\t\t\t// compute morph normals\n\t\n\t\t\t\ttmpGeo.computeFaceNormals();\n\t\t\t\ttmpGeo.computeVertexNormals();\n\t\n\t\t\t\t// store morph normals\n\t\n\t\t\t\tvar faceNormal, vertexNormals;\n\t\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\t\tface = this.faces[ f ];\n\t\n\t\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\t\n\t\t\t\t\tfaceNormal.copy( face.normal );\n\t\n\t\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// restore original normals\n\t\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\tface = this.faces[ f ];\n\t\n\t\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tcomputeTangents: function () {\n\t\n\t\t\tconsole.warn( 'THREE.Geometry: .computeTangents() has been removed.' );\n\t\n\t\t},\n\t\n\t\tcomputeLineDistances: function () {\n\t\n\t\t\tvar d = 0;\n\t\t\tvar vertices = this.vertices;\n\t\n\t\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\n\t\n\t\t\t\tif ( i > 0 ) {\n\t\n\t\t\t\t\td += vertices[ i ].distanceTo( vertices[ i - 1 ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.lineDistances[ i ] = d;\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tcomputeBoundingBox: function () {\n\t\n\t\t\tif ( this.boundingBox === null ) {\n\t\n\t\t\t\tthis.boundingBox = new THREE.Box3();\n\t\n\t\t\t}\n\t\n\t\t\tthis.boundingBox.setFromPoints( this.vertices );\n\t\n\t\t},\n\t\n\t\tcomputeBoundingSphere: function () {\n\t\n\t\t\tif ( this.boundingSphere === null ) {\n\t\n\t\t\t\tthis.boundingSphere = new THREE.Sphere();\n\t\n\t\t\t}\n\t\n\t\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\t\n\t\t},\n\t\n\t\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\t\n\t\t\tif ( geometry instanceof THREE.Geometry === false ) {\n\t\n\t\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tuvs1 = this.faceVertexUvs[ 0 ],\n\t\t\tuvs2 = geometry.faceVertexUvs[ 0 ];\n\t\n\t\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\t\n\t\t\tif ( matrix !== undefined ) {\n\t\n\t\t\t\tnormalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\n\t\n\t\t\t}\n\t\n\t\t\t// vertices\n\t\n\t\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\t\n\t\t\t\tvar vertex = vertices2[ i ];\n\t\n\t\t\t\tvar vertexCopy = vertex.clone();\n\t\n\t\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\t\n\t\t\t\tvertices1.push( vertexCopy );\n\t\n\t\t\t}\n\t\n\t\t\t// faces\n\t\n\t\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\t\n\t\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\t\n\t\t\t\tfaceCopy = new THREE.Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\t\tfaceCopy.normal.copy( face.normal );\n\t\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\t\n\t\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\t\n\t\t\t\t\tif ( normalMatrix !== undefined ) {\n\t\n\t\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfaceCopy.color.copy( face.color );\n\t\n\t\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\t\n\t\t\t\tfaces1.push( faceCopy );\n\t\n\t\t\t}\n\t\n\t\t\t// uvs\n\t\n\t\t\tfor ( i = 0, il = uvs2.length; i < il; i ++ ) {\n\t\n\t\t\t\tvar uv = uvs2[ i ], uvCopy = [];\n\t\n\t\t\t\tif ( uv === undefined ) {\n\t\n\t\t\t\t\tcontinue;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var j = 0, jl = uv.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\tuvCopy.push( uv[ j ].clone() );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tuvs1.push( uvCopy );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tmergeMesh: function ( mesh ) {\n\t\n\t\t\tif ( mesh instanceof THREE.Mesh === false ) {\n\t\n\t\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tmesh.matrixAutoUpdate && mesh.updateMatrix();\n\t\n\t\t\tthis.merge( mesh.geometry, mesh.matrix );\n\t\n\t\t},\n\t\n\t\t/*\n\t\t * Checks for duplicate vertices with hashmap.\n\t\t * Duplicated vertices are removed\n\t\t * and faces' vertices are updated.\n\t\t */\n\t\n\t\tmergeVertices: function () {\n\t\n\t\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\t\tvar unique = [], changes = [];\n\t\n\t\t\tvar v, key;\n\t\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\t\tvar i, il, face;\n\t\t\tvar indices, j, jl;\n\t\n\t\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\t\n\t\t\t\tv = this.vertices[ i ];\n\t\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\t\n\t\t\t\tif ( verticesMap[ key ] === undefined ) {\n\t\n\t\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\t\tchanges[ i ] = unique.length - 1;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\n\t\t\t// if faces are completely degenerate after merging vertices, we\n\t\t\t// have to remove them from the geometry.\n\t\t\tvar faceIndicesToRemove = [];\n\t\n\t\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\t\n\t\t\t\tface = this.faces[ i ];\n\t\n\t\t\t\tface.a = changes[ face.a ];\n\t\t\t\tface.b = changes[ face.b ];\n\t\t\t\tface.c = changes[ face.c ];\n\t\n\t\t\t\tindices = [ face.a, face.b, face.c ];\n\t\n\t\t\t\tvar dupIndex = - 1;\n\t\n\t\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t\t// we have to remove the face as nothing can be saved\n\t\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\t\n\t\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\t\n\t\t\t\t\t\tdupIndex = n;\n\t\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\t\n\t\t\t\tvar idx = faceIndicesToRemove[ i ];\n\t\n\t\t\t\tthis.faces.splice( idx, 1 );\n\t\n\t\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// Use unique set of vertices\n\t\n\t\t\tvar diff = this.vertices.length - unique.length;\n\t\t\tthis.vertices = unique;\n\t\t\treturn diff;\n\t\n\t\t},\n\t\n\t\tsortFacesByMaterialIndex: function () {\n\t\n\t\t\tvar faces = this.faces;\n\t\t\tvar length = faces.length;\n\t\n\t\t\t// tag faces\n\t\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\t\n\t\t\t\tfaces[ i ]._id = i;\n\t\n\t\t\t}\n\t\n\t\t\t// sort faces\n\t\n\t\t\tfunction materialIndexSort( a, b ) {\n\t\n\t\t\t\treturn a.materialIndex - b.materialIndex;\n\t\n\t\t\t}\n\t\n\t\t\tfaces.sort( materialIndexSort );\n\t\n\t\t\t// sort uvs\n\t\n\t\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\t\n\t\t\tvar newUvs1, newUvs2;\n\t\n\t\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\t\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\t\n\t\t\t\tvar id = faces[ i ]._id;\n\t\n\t\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\t\n\t\t\t}\n\t\n\t\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\t\n\t\t},\n\t\n\t\ttoJSON: function () {\n\t\n\t\t\tvar data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.4,\n\t\t\t\t\ttype: 'Geometry',\n\t\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\t// standard Geometry serialization\n\t\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.type = this.type;\n\t\t\tif ( this.name !== '' ) data.name = this.name;\n\t\n\t\t\tif ( this.parameters !== undefined ) {\n\t\n\t\t\t\tvar parameters = this.parameters;\n\t\n\t\t\t\tfor ( var key in parameters ) {\n\t\n\t\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn data;\n\t\n\t\t\t}\n\t\n\t\t\tvar vertices = [];\n\t\n\t\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\t\n\t\t\t\tvar vertex = this.vertices[ i ];\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\t\n\t\t\t}\n\t\n\t\t\tvar faces = [];\n\t\t\tvar normals = [];\n\t\t\tvar normalsHash = {};\n\t\t\tvar colors = [];\n\t\t\tvar colorsHash = {};\n\t\t\tvar uvs = [];\n\t\t\tvar uvsHash = {};\n\t\n\t\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\t\n\t\t\t\tvar face = this.faces[ i ];\n\t\n\t\t\t\tvar hasMaterial = false; // face.materialIndex !== undefined;\n\t\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\t\n\t\t\t\tvar faceType = 0;\n\t\n\t\t\t\tfaceType = setBit( faceType, 0, 0 );\n\t\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\t\n\t\t\t\tfaces.push( faceType );\n\t\t\t\tfaces.push( face.a, face.b, face.c );\n\t\n\t\t\t\tif ( hasFaceVertexUv ) {\n\t\n\t\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\t\n\t\t\t\t\tfaces.push(\n\t\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t\t);\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( hasFaceNormal ) {\n\t\n\t\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( hasFaceVertexNormal ) {\n\t\n\t\t\t\t\tvar vertexNormals = face.vertexNormals;\n\t\n\t\t\t\t\tfaces.push(\n\t\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t\t);\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( hasFaceColor ) {\n\t\n\t\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( hasFaceVertexColor ) {\n\t\n\t\t\t\t\tvar vertexColors = face.vertexColors;\n\t\n\t\t\t\t\tfaces.push(\n\t\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t\t);\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction setBit( value, position, enabled ) {\n\t\n\t\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\t\n\t\t\t}\n\t\n\t\t\tfunction getNormalIndex( normal ) {\n\t\n\t\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\t\n\t\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\t\n\t\t\t\t\treturn normalsHash[ hash ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\t\n\t\t\t\treturn normalsHash[ hash ];\n\t\n\t\t\t}\n\t\n\t\t\tfunction getColorIndex( color ) {\n\t\n\t\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\t\n\t\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\t\n\t\t\t\t\treturn colorsHash[ hash ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\t\tcolors.push( color.getHex() );\n\t\n\t\t\t\treturn colorsHash[ hash ];\n\t\n\t\t\t}\n\t\n\t\t\tfunction getUvIndex( uv ) {\n\t\n\t\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\t\n\t\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\t\n\t\t\t\t\treturn uvsHash[ hash ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\t\n\t\t\t\treturn uvsHash[ hash ];\n\t\n\t\t\t}\n\t\n\t\t\tdata.data = {};\n\t\n\t\t\tdata.data.vertices = vertices;\n\t\t\tdata.data.normals = normals;\n\t\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\t\tdata.data.faces = faces;\n\t\n\t\t\treturn data;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tthis.vertices = [];\n\t\t\tthis.faces = [];\n\t\t\tthis.faceVertexUvs = [ [] ];\n\t\n\t\t\tvar vertices = source.vertices;\n\t\n\t\t\tfor ( var i = 0, il = vertices.length; i < il; i ++ ) {\n\t\n\t\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\t\n\t\t\t}\n\t\n\t\t\tvar faces = source.faces;\n\t\n\t\t\tfor ( var i = 0, il = faces.length; i < il; i ++ ) {\n\t\n\t\t\t\tthis.faces.push( faces[ i ].clone() );\n\t\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\t\n\t\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\t\n\t\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\t\n\t\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\t\n\t\t\t\t\tfor ( var k = 0, kl = uvs.length; k < kl; k ++ ) {\n\t\n\t\t\t\t\t\tvar uv = uvs[ k ];\n\t\n\t\t\t\t\t\tuvsCopy.push( uv.clone() );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdispose: function () {\n\t\n\t\t\tthis.dispatchEvent( { type: 'dispose' } );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.Geometry.prototype );\n\t\n\tTHREE.GeometryIdCount = 0;\n\t\n\t// File:src/core/DirectGeometry.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.DirectGeometry = function () {\n\t\n\t\tObject.defineProperty( this, 'id', { value: THREE.GeometryIdCount ++ } );\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.name = '';\n\t\tthis.type = 'DirectGeometry';\n\t\n\t\tthis.indices = [];\n\t\tthis.vertices = [];\n\t\tthis.normals = [];\n\t\tthis.colors = [];\n\t\tthis.uvs = [];\n\t\tthis.uvs2 = [];\n\t\n\t\tthis.groups = [];\n\t\n\t\tthis.morphTargets = {};\n\t\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\n\t\t// this.lineDistances = [];\n\t\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\t\n\t\t// update flags\n\t\n\t\tthis.verticesNeedUpdate = false;\n\t\tthis.normalsNeedUpdate = false;\n\t\tthis.colorsNeedUpdate = false;\n\t\tthis.uvsNeedUpdate = false;\n\t\tthis.groupsNeedUpdate = false;\n\t\n\t};\n\t\n\tTHREE.DirectGeometry.prototype = {\n\t\n\t\tconstructor: THREE.DirectGeometry,\n\t\n\t\tcomputeBoundingBox: THREE.Geometry.prototype.computeBoundingBox,\n\t\tcomputeBoundingSphere: THREE.Geometry.prototype.computeBoundingSphere,\n\t\n\t\tcomputeFaceNormals: function () {\n\t\n\t\t\tconsole.warn( 'THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.' );\n\t\n\t\t},\n\t\n\t\tcomputeVertexNormals: function () {\n\t\n\t\t\tconsole.warn( 'THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.' );\n\t\n\t\t},\n\t\n\t\tcomputeGroups: function ( geometry ) {\n\t\n\t\t\tvar group;\n\t\t\tvar groups = [];\n\t\t\tvar materialIndex;\n\t\n\t\t\tvar faces = geometry.faces;\n\t\n\t\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\t\n\t\t\t\tvar face = faces[ i ];\n\t\n\t\t\t\t// materials\n\t\n\t\t\t\tif ( face.materialIndex !== materialIndex ) {\n\t\n\t\t\t\t\tmaterialIndex = face.materialIndex;\n\t\n\t\t\t\t\tif ( group !== undefined ) {\n\t\n\t\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\t\tgroups.push( group );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tgroup = {\n\t\t\t\t\t\tstart: i * 3,\n\t\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t\t};\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( group !== undefined ) {\n\t\n\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\tgroups.push( group );\n\t\n\t\t\t}\n\t\n\t\t\tthis.groups = groups;\n\t\n\t\t},\n\t\n\t\tfromGeometry: function ( geometry ) {\n\t\n\t\t\tvar faces = geometry.faces;\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\t\n\t\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\t\n\t\t\t// morphs\n\t\n\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\tvar morphTargetsLength = morphTargets.length;\n\t\n\t\t\tif ( morphTargetsLength > 0 ) {\n\t\n\t\t\t\tvar morphTargetsPosition = [];\n\t\n\t\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\t\n\t\t\t\t\tmorphTargetsPosition[ i ] = [];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\t\n\t\t\t}\n\t\n\t\t\tvar morphNormals = geometry.morphNormals;\n\t\t\tvar morphNormalsLength = morphNormals.length;\n\t\n\t\t\tif ( morphNormalsLength > 0 ) {\n\t\n\t\t\t\tvar morphTargetsNormal = [];\n\t\n\t\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\t\n\t\t\t\t\tmorphTargetsNormal[ i ] = [];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\t\n\t\t\t}\n\t\n\t\t\t// skins\n\t\n\t\t\tvar skinIndices = geometry.skinIndices;\n\t\t\tvar skinWeights = geometry.skinWeights;\n\t\n\t\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\t\n\t\t\t//\n\t\n\t\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\t\n\t\t\t\tvar face = faces[ i ];\n\t\n\t\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\t\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\t\n\t\t\t\tif ( vertexNormals.length === 3 ) {\n\t\n\t\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tvar normal = face.normal;\n\t\n\t\t\t\t\tthis.normals.push( normal, normal, normal );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar vertexColors = face.vertexColors;\n\t\n\t\t\t\tif ( vertexColors.length === 3 ) {\n\t\n\t\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tvar color = face.color;\n\t\n\t\t\t\t\tthis.colors.push( color, color, color );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( hasFaceVertexUv === true ) {\n\t\n\t\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\t\n\t\t\t\t\tif ( vertexUvs !== undefined ) {\n\t\n\t\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\t\n\t\t\t\t\t\tthis.uvs.push( new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2() );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( hasFaceVertexUv2 === true ) {\n\t\n\t\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\t\n\t\t\t\t\tif ( vertexUvs !== undefined ) {\n\t\n\t\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\t\n\t\t\t\t\t\tthis.uvs2.push( new THREE.Vector2(), new THREE.Vector2(), new THREE.Vector2() );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// morphs\n\t\n\t\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\t\n\t\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\t\n\t\t\t\t\tmorphTargetsPosition[ j ].push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\t\n\t\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\t\n\t\t\t\t\tmorphTargetsNormal[ j ].push( morphNormal.a, morphNormal.b, morphNormal.c );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// skins\n\t\n\t\t\t\tif ( hasSkinIndices ) {\n\t\n\t\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( hasSkinWeights ) {\n\t\n\t\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tthis.computeGroups( geometry );\n\t\n\t\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdispose: function () {\n\t\n\t\t\tthis.dispatchEvent( { type: 'dispose' } );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.DirectGeometry.prototype );\n\t\n\t// File:src/core/BufferGeometry.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.BufferGeometry = function () {\n\t\n\t\tObject.defineProperty( this, 'id', { value: THREE.GeometryIdCount ++ } );\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\t\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\n\t\tthis.morphAttributes = {};\n\t\n\t\tthis.groups = [];\n\t\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\t\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\t\n\t};\n\t\n\tTHREE.BufferGeometry.prototype = {\n\t\n\t\tconstructor: THREE.BufferGeometry,\n\t\n\t\taddIndex: function ( index ) {\n\t\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\t\tthis.setIndex( index );\n\t\n\t\t},\n\t\n\t\tgetIndex: function () {\n\t\n\t\t\treturn this.index;\n\t\n\t\t},\n\t\n\t\tsetIndex: function ( index ) {\n\t\n\t\t\tthis.index = index;\n\t\n\t\t},\n\t\n\t\taddAttribute: function ( name, attribute ) {\n\t\n\t\t\tif ( attribute instanceof THREE.BufferAttribute === false && attribute instanceof THREE.InterleavedBufferAttribute === false ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\t\n\t\t\t\tthis.addAttribute( name, new THREE.BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\t\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tif ( name === 'index' ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\t\tthis.setIndex( attribute );\n\t\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tthis.attributes[ name ] = attribute;\n\t\n\t\t},\n\t\n\t\tgetAttribute: function ( name ) {\n\t\n\t\t\treturn this.attributes[ name ];\n\t\n\t\t},\n\t\n\t\tremoveAttribute: function ( name ) {\n\t\n\t\t\tdelete this.attributes[ name ];\n\t\n\t\t},\n\t\n\t\tget drawcalls() {\n\t\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\t\n\t\t},\n\t\n\t\tget offsets() {\n\t\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\t\n\t\t},\n\t\n\t\taddDrawCall: function ( start, count, indexOffset ) {\n\t\n\t\t\tif ( indexOffset !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\t\n\t\t\t}\n\t\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\t\tthis.addGroup( start, count );\n\t\n\t\t},\n\t\n\t\tclearDrawCalls: function () {\n\t\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\t\tthis.clearGroups();\n\t\n\t\t},\n\t\n\t\taddGroup: function ( start, count, materialIndex ) {\n\t\n\t\t\tthis.groups.push( {\n\t\n\t\t\t\tstart: start,\n\t\t\t\tcount: count,\n\t\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\t\n\t\t\t} );\n\t\n\t\t},\n\t\n\t\tclearGroups: function () {\n\t\n\t\t\tthis.groups = [];\n\t\n\t\t},\n\t\n\t\tsetDrawRange: function ( start, count ) {\n\t\n\t\t\tthis.drawRange.start = start;\n\t\t\tthis.drawRange.count = count;\n\t\n\t\t},\n\t\n\t\tapplyMatrix: function ( matrix ) {\n\t\n\t\t\tvar position = this.attributes.position;\n\t\n\t\t\tif ( position !== undefined ) {\n\t\n\t\t\t\tmatrix.applyToVector3Array( position.array );\n\t\t\t\tposition.needsUpdate = true;\n\t\n\t\t\t}\n\t\n\t\t\tvar normal = this.attributes.normal;\n\t\n\t\t\tif ( normal !== undefined ) {\n\t\n\t\t\t\tvar normalMatrix = new THREE.Matrix3().getNormalMatrix( matrix );\n\t\n\t\t\t\tnormalMatrix.applyToVector3Array( normal.array );\n\t\t\t\tnormal.needsUpdate = true;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.boundingBox !== null ) {\n\t\n\t\t\t\tthis.computeBoundingBox();\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.boundingSphere !== null ) {\n\t\n\t\t\t\tthis.computeBoundingSphere();\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\trotateX: function () {\n\t\n\t\t\t// rotate geometry around world x-axis\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function rotateX( angle ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeRotationX( angle );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\trotateY: function () {\n\t\n\t\t\t// rotate geometry around world y-axis\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function rotateY( angle ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeRotationY( angle );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\trotateZ: function () {\n\t\n\t\t\t// rotate geometry around world z-axis\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function rotateZ( angle ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeRotationZ( angle );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttranslate: function () {\n\t\n\t\t\t// translate geometry\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function translate( x, y, z ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeTranslation( x, y, z );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tscale: function () {\n\t\n\t\t\t// scale geometry\n\t\n\t\t\tvar m1;\n\t\n\t\t\treturn function scale( x, y, z ) {\n\t\n\t\t\t\tif ( m1 === undefined ) m1 = new THREE.Matrix4();\n\t\n\t\t\t\tm1.makeScale( x, y, z );\n\t\n\t\t\t\tthis.applyMatrix( m1 );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tlookAt: function () {\n\t\n\t\t\tvar obj;\n\t\n\t\t\treturn function lookAt( vector ) {\n\t\n\t\t\t\tif ( obj === undefined ) obj = new THREE.Object3D();\n\t\n\t\t\t\tobj.lookAt( vector );\n\t\n\t\t\t\tobj.updateMatrix();\n\t\n\t\t\t\tthis.applyMatrix( obj.matrix );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tcenter: function () {\n\t\n\t\t\tthis.computeBoundingBox();\n\t\n\t\t\tvar offset = this.boundingBox.center().negate();\n\t\n\t\t\tthis.translate( offset.x, offset.y, offset.z );\n\t\n\t\t\treturn offset;\n\t\n\t\t},\n\t\n\t\tsetFromObject: function ( object ) {\n\t\n\t\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\t\n\t\t\tvar geometry = object.geometry;\n\t\n\t\t\tif ( object instanceof THREE.Points || object instanceof THREE.Line ) {\n\t\n\t\t\t\tvar positions = new THREE.Float32Attribute( geometry.vertices.length * 3, 3 );\n\t\t\t\tvar colors = new THREE.Float32Attribute( geometry.colors.length * 3, 3 );\n\t\n\t\t\t\tthis.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\t\tthis.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\t\n\t\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\t\n\t\t\t\t\tvar lineDistances = new THREE.Float32Attribute( geometry.lineDistances.length, 1 );\n\t\n\t\t\t\t\tthis.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( geometry.boundingSphere !== null ) {\n\t\n\t\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( geometry.boundingBox !== null ) {\n\t\n\t\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( object instanceof THREE.Mesh ) {\n\t\n\t\t\t\tif ( geometry instanceof THREE.Geometry ) {\n\t\n\t\t\t\t\tthis.fromGeometry( geometry );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tupdateFromObject: function ( object ) {\n\t\n\t\t\tvar geometry = object.geometry;\n\t\n\t\t\tif ( object instanceof THREE.Mesh ) {\n\t\n\t\t\t\tvar direct = geometry.__directGeometry;\n\t\n\t\t\t\tif ( direct === undefined ) {\n\t\n\t\t\t\t\treturn this.fromGeometry( geometry );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\t\n\t\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\t\tgeometry.groupsNeedUpdate = false;\n\t\n\t\t\t\tgeometry = direct;\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.verticesNeedUpdate === true ) {\n\t\n\t\t\t\tvar attribute = this.attributes.position;\n\t\n\t\t\t\tif ( attribute !== undefined ) {\n\t\n\t\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\t\tattribute.needsUpdate = true;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tgeometry.verticesNeedUpdate = false;\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.normalsNeedUpdate === true ) {\n\t\n\t\t\t\tvar attribute = this.attributes.normal;\n\t\n\t\t\t\tif ( attribute !== undefined ) {\n\t\n\t\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\t\tattribute.needsUpdate = true;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tgeometry.normalsNeedUpdate = false;\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.colorsNeedUpdate === true ) {\n\t\n\t\t\t\tvar attribute = this.attributes.color;\n\t\n\t\t\t\tif ( attribute !== undefined ) {\n\t\n\t\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\t\tattribute.needsUpdate = true;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tgeometry.colorsNeedUpdate = false;\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.uvsNeedUpdate ) {\n\t\n\t\t\t\t\tvar attribute = this.attributes.uv;\n\t\n\t\t\t\t\tif ( attribute !== undefined ) {\n\t\n\t\t\t\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\t\t\t\tattribute.needsUpdate = true;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tgeometry.uvsNeedUpdate = false;\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\t\n\t\t\t\tvar attribute = this.attributes.lineDistance;\n\t\n\t\t\t\tif ( attribute !== undefined ) {\n\t\n\t\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\t\tattribute.needsUpdate = true;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.groupsNeedUpdate ) {\n\t\n\t\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\t\tthis.groups = geometry.groups;\n\t\n\t\t\t\tgeometry.groupsNeedUpdate = false;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tfromGeometry: function ( geometry ) {\n\t\n\t\t\tgeometry.__directGeometry = new THREE.DirectGeometry().fromGeometry( geometry );\n\t\n\t\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\t\n\t\t},\n\t\n\t\tfromDirectGeometry: function ( geometry ) {\n\t\n\t\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\t\n\t\t\tif ( geometry.normals.length > 0 ) {\n\t\n\t\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\t\tthis.addAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.colors.length > 0 ) {\n\t\n\t\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\t\tthis.addAttribute( 'color', new THREE.BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.uvs.length > 0 ) {\n\t\n\t\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\t\tthis.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.uvs2.length > 0 ) {\n\t\n\t\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\t\tthis.addAttribute( 'uv2', new THREE.BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.indices.length > 0 ) {\n\t\n\t\t\t\tvar TypeArray = geometry.vertices.length > 65535 ? Uint32Array : Uint16Array;\n\t\t\t\tvar indices = new TypeArray( geometry.indices.length * 3 );\n\t\t\t\tthis.setIndex( new THREE.BufferAttribute( indices, 1 ).copyIndicesArray( geometry.indices ) );\n\t\n\t\t\t}\n\t\n\t\t\t// groups\n\t\n\t\t\tthis.groups = geometry.groups;\n\t\n\t\t\t// morphs\n\t\n\t\t\tfor ( var name in geometry.morphTargets ) {\n\t\n\t\t\t\tvar array = [];\n\t\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\t\n\t\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tvar morphTarget = morphTargets[ i ];\n\t\n\t\t\t\t\tvar attribute = new THREE.Float32Attribute( morphTarget.length * 3, 3 );\n\t\n\t\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.morphAttributes[ name ] = array;\n\t\n\t\t\t}\n\t\n\t\t\t// skinning\n\t\n\t\t\tif ( geometry.skinIndices.length > 0 ) {\n\t\n\t\t\t\tvar skinIndices = new THREE.Float32Attribute( geometry.skinIndices.length * 4, 4 );\n\t\t\t\tthis.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.skinWeights.length > 0 ) {\n\t\n\t\t\t\tvar skinWeights = new THREE.Float32Attribute( geometry.skinWeights.length * 4, 4 );\n\t\t\t\tthis.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\t\n\t\t\t}\n\t\n\t\t\t//\n\t\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\t\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry.boundingBox !== null ) {\n\t\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcomputeBoundingBox: function () {\n\t\n\t\t\tvar vector = new THREE.Vector3();\n\t\n\t\t\treturn function () {\n\t\n\t\t\t\tif ( this.boundingBox === null ) {\n\t\n\t\t\t\t\tthis.boundingBox = new THREE.Box3();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar positions = this.attributes.position.array;\n\t\n\t\t\t\tif ( positions ) {\n\t\n\t\t\t\t\tvar bb = this.boundingBox;\n\t\t\t\t\tbb.makeEmpty();\n\t\n\t\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 3 ) {\n\t\n\t\t\t\t\t\tvector.fromArray( positions, i );\n\t\t\t\t\t\tbb.expandByPoint( vector );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( positions === undefined || positions.length === 0 ) {\n\t\n\t\t\t\t\tthis.boundingBox.min.set( 0, 0, 0 );\n\t\t\t\t\tthis.boundingBox.max.set( 0, 0, 0 );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\t\n\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tcomputeBoundingSphere: function () {\n\t\n\t\t\tvar box = new THREE.Box3();\n\t\t\tvar vector = new THREE.Vector3();\n\t\n\t\t\treturn function () {\n\t\n\t\t\t\tif ( this.boundingSphere === null ) {\n\t\n\t\t\t\t\tthis.boundingSphere = new THREE.Sphere();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar positions = this.attributes.position.array;\n\t\n\t\t\t\tif ( positions ) {\n\t\n\t\t\t\t\tbox.makeEmpty();\n\t\n\t\t\t\t\tvar center = this.boundingSphere.center;\n\t\n\t\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 3 ) {\n\t\n\t\t\t\t\t\tvector.fromArray( positions, i );\n\t\t\t\t\t\tbox.expandByPoint( vector );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tbox.center( center );\n\t\n\t\t\t\t\t// hoping to find a boundingSphere with a radius smaller than the\n\t\t\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\t\n\t\t\t\t\tvar maxRadiusSq = 0;\n\t\n\t\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 3 ) {\n\t\n\t\t\t\t\t\tvector.fromArray( positions, i );\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\t\n\t\t\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\t\n\t\t\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tcomputeFaceNormals: function () {\n\t\n\t\t\t// backwards compatibility\n\t\n\t\t},\n\t\n\t\tcomputeVertexNormals: function () {\n\t\n\t\t\tvar index = this.index;\n\t\t\tvar attributes = this.attributes;\n\t\t\tvar groups = this.groups;\n\t\n\t\t\tif ( attributes.position ) {\n\t\n\t\t\t\tvar positions = attributes.position.array;\n\t\n\t\t\t\tif ( attributes.normal === undefined ) {\n\t\n\t\t\t\t\tthis.addAttribute( 'normal', new THREE.BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// reset existing normals to zero\n\t\n\t\t\t\t\tvar normals = attributes.normal.array;\n\t\n\t\t\t\t\tfor ( var i = 0, il = normals.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\tnormals[ i ] = 0;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar normals = attributes.normal.array;\n\t\n\t\t\t\tvar vA, vB, vC,\n\t\n\t\t\t\tpA = new THREE.Vector3(),\n\t\t\t\tpB = new THREE.Vector3(),\n\t\t\t\tpC = new THREE.Vector3(),\n\t\n\t\t\t\tcb = new THREE.Vector3(),\n\t\t\t\tab = new THREE.Vector3();\n\t\n\t\t\t\t// indexed elements\n\t\n\t\t\t\tif ( index ) {\n\t\n\t\t\t\t\tvar indices = index.array;\n\t\n\t\t\t\t\tif ( groups.length === 0 ) {\n\t\n\t\t\t\t\t\tthis.addGroup( 0, indices.length );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor ( var j = 0, jl = groups.length; j < jl; ++ j ) {\n\t\n\t\t\t\t\t\tvar group = groups[ j ];\n\t\n\t\t\t\t\t\tvar start = group.start;\n\t\t\t\t\t\tvar count = group.count;\n\t\n\t\t\t\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\n\t\n\t\t\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\t\n\t\t\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\t\t\tpC.fromArray( positions, vC );\n\t\n\t\t\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\t\t\tcb.cross( ab );\n\t\n\t\t\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\t\n\t\t\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\t\n\t\t\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\t\n\t\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\t\n\t\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\t\n\t\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\t\tcb.cross( ab );\n\t\n\t\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\t\n\t\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\t\n\t\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.normalizeNormals();\n\t\n\t\t\t\tattributes.normal.needsUpdate = true;\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tcomputeTangents: function () {\n\t\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\t\n\t\t},\n\t\n\t\tcomputeOffsets: function ( size ) {\n\t\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.')\n\t\n\t\t},\n\t\n\t\tmerge: function ( geometry, offset ) {\n\t\n\t\t\tif ( geometry instanceof THREE.BufferGeometry === false ) {\n\t\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tvar attributes = this.attributes;\n\t\n\t\t\tfor ( var key in attributes ) {\n\t\n\t\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\t\n\t\t\t\tvar attribute1 = attributes[ key ];\n\t\t\t\tvar attributeArray1 = attribute1.array;\n\t\n\t\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\t\tvar attributeArray2 = attribute2.array;\n\t\n\t\t\t\tvar attributeSize = attribute2.itemSize;\n\t\n\t\t\t\tfor ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\n\t\n\t\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tnormalizeNormals: function () {\n\t\n\t\t\tvar normals = this.attributes.normal.array;\n\t\n\t\t\tvar x, y, z, n;\n\t\n\t\t\tfor ( var i = 0, il = normals.length; i < il; i += 3 ) {\n\t\n\t\t\t\tx = normals[ i ];\n\t\t\t\ty = normals[ i + 1 ];\n\t\t\t\tz = normals[ i + 2 ];\n\t\n\t\t\t\tn = 1.0 / Math.sqrt( x * x + y * y + z * z );\n\t\n\t\t\t\tnormals[ i ] *= n;\n\t\t\t\tnormals[ i + 1 ] *= n;\n\t\t\t\tnormals[ i + 2 ] *= n;\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\ttoJSON: function () {\n\t\n\t\t\tvar data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.4,\n\t\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\t// standard BufferGeometry serialization\n\t\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.type = this.type;\n\t\t\tif ( this.name !== '' ) data.name = this.name;\n\t\n\t\t\tif ( this.parameters !== undefined ) {\n\t\n\t\t\t\tvar parameters = this.parameters;\n\t\n\t\t\t\tfor ( var key in parameters ) {\n\t\n\t\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn data;\n\t\n\t\t\t}\n\t\n\t\t\tdata.data = { attributes: {} };\n\t\n\t\t\tvar index = this.index;\n\t\n\t\t\tif ( index !== null ) {\n\t\n\t\t\t\tvar array = Array.prototype.slice.call( index.array );\n\t\n\t\t\t\tdata.data.index = {\n\t\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\t\tarray: array\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t\tvar attributes = this.attributes;\n\t\n\t\t\tfor ( var key in attributes ) {\n\t\n\t\t\t\tvar attribute = attributes[ key ];\n\t\n\t\t\t\tvar array = Array.prototype.slice.call( attribute.array );\n\t\n\t\t\t\tdata.data.attributes[ key ] = {\n\t\t\t\t\titemSize: attribute.itemSize,\n\t\t\t\t\ttype: attribute.array.constructor.name,\n\t\t\t\t\tarray: array\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t\tvar groups = this.groups;\n\t\n\t\t\tif ( groups.length > 0 ) {\n\t\n\t\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\t\n\t\t\t}\n\t\n\t\t\tvar boundingSphere = this.boundingSphere;\n\t\n\t\t\tif ( boundingSphere !== null ) {\n\t\n\t\t\t\tdata.data.boundingSphere = {\n\t\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\t\tradius: boundingSphere.radius\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t\treturn data;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tvar index = source.index;\n\t\n\t\t\tif ( index !== null ) {\n\t\n\t\t\t\tthis.setIndex( index.clone() );\n\t\n\t\t\t}\n\t\n\t\t\tvar attributes = source.attributes;\n\t\n\t\t\tfor ( var name in attributes ) {\n\t\n\t\t\t\tvar attribute = attributes[ name ];\n\t\t\t\tthis.addAttribute( name, attribute.clone() );\n\t\n\t\t\t}\n\t\n\t\t\tvar groups = source.groups;\n\t\n\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar group = groups[ i ];\n\t\t\t\tthis.addGroup( group.start, group.count );\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdispose: function () {\n\t\n\t\t\tthis.dispatchEvent( { type: 'dispose' } );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.BufferGeometry.prototype );\n\t\n\tTHREE.BufferGeometry.MaxIndex = 65535;\n\t\n\t// File:src/core/InstancedBufferGeometry.js\n\t\n\t/**\n\t * @author benaadams / https://twitter.com/ben_a_adams\n\t */\n\t\n\tTHREE.InstancedBufferGeometry = function () {\n\t\n\t\tTHREE.BufferGeometry.call( this );\n\t\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.maxInstancedCount = undefined;\n\t\n\t};\n\t\n\tTHREE.InstancedBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\n\tTHREE.InstancedBufferGeometry.prototype.constructor = THREE.InstancedBufferGeometry;\n\t\n\tTHREE.InstancedBufferGeometry.prototype.addGroup = function ( start, count, instances ) {\n\t\n\t\tthis.groups.push( {\n\t\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tinstances: instances\n\t\n\t\t} );\n\t\n\t};\n\t\n\tTHREE.InstancedBufferGeometry.prototype.copy = function ( source ) {\n\t\n\t\tvar index = source.index;\n\t\n\t\tif ( index !== null ) {\n\t\n\t\t\tthis.setIndex( index.clone() );\n\t\n\t\t}\n\t\n\t\tvar attributes = source.attributes;\n\t\n\t\tfor ( var name in attributes ) {\n\t\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.addAttribute( name, attribute.clone() );\n\t\n\t\t}\n\t\n\t\tvar groups = source.groups;\n\t\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\t\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.instances );\n\t\n\t\t}\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.InstancedBufferGeometry.prototype );\n\t\n\t// File:src/animation/AnimationAction.js\n\t\n\t/**\n\t *\n\t * A clip that has been explicitly scheduled.\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.AnimationAction = function ( clip, startTime, timeScale, weight, loop ) {\n\t\n\t\tif ( clip === undefined ) throw new Error( 'clip is null' );\n\t\tthis.clip = clip;\n\t\tthis.localRoot = null;\n\t\tthis.startTime = startTime || 0;\n\t\tthis.timeScale = timeScale || 1;\n\t\tthis.weight = weight || 1;\n\t\tthis.loop = loop || THREE.LoopRepeat;\n\t\tthis.loopCount = 0;\n\t\tthis.enabled = true;\t// allow for easy disabling of the action.\n\t\n\t\tthis.actionTime = - this.startTime;\n\t\tthis.clipTime = 0;\n\t\n\t\tthis.propertyBindings = [];\n\t};\n\t\n\t/*\n\tTHREE.LoopOnce = 2200;\n\tTHREE.LoopRepeat = 2201;\n\tTHREE.LoopPingPing = 2202;\n\t*/\n\t\n\tTHREE.AnimationAction.prototype = {\n\t\n\t\tconstructor: THREE.AnimationAction,\n\t\n\t\tsetLocalRoot: function( localRoot ) {\n\t\n\t\t\tthis.localRoot = localRoot;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tupdateTime: function( clipDeltaTime ) {\n\t\n\t\t\tvar previousClipTime = this.clipTime;\n\t   \t\tvar previousLoopCount = this.loopCount;\n\t   \t\tvar previousActionTime = this.actionTime;\n\t\n\t\t\tvar duration = this.clip.duration;\n\t\n\t\t\tthis.actionTime = this.actionTime + clipDeltaTime;\n\t\n\t\t\tif ( this.loop === THREE.LoopOnce ) {\n\t\n\t\t\t\tthis.loopCount = 0;\n\t\t\t\tthis.clipTime = Math.min( Math.max( this.actionTime, 0 ), duration );\n\t\n\t\t\t\t// if time is changed since last time, see if we have hit a start/end limit\n\t\t\t\tif ( this.clipTime !== previousClipTime ) {\n\t\n\t\t\t\t\tif ( this.clipTime === duration ) {\n\t\n\t\t\t\t\t\tthis.mixer.dispatchEvent( { type: 'finished', action: this, direction: 1 } );\n\t\n\t\t\t\t\t} else if ( this.clipTime === 0 ) {\n\t\n\t\t\t\t\t\tthis.mixer.dispatchEvent( { type: 'finished', action: this, direction: -1 } );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\n\t\t\t\treturn this.clipTime;\n\t\n\t\t\t}\n\t\n\t\t\tthis.loopCount = Math.floor( this.actionTime / duration );\n\t\n\t\t\tvar newClipTime = this.actionTime - this.loopCount * duration;\n\t\t\tnewClipTime = newClipTime % duration;\n\t\n\t\t\t// if we are ping pong looping, ensure that we go backwards when appropriate\n\t\t\tif ( this.loop == THREE.LoopPingPong ) {\n\t\n\t\t\t\tif ( Math.abs( this.loopCount % 2 ) === 1 ) {\n\t\n\t\t\t\t\tnewClipTime = duration - newClipTime;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tthis.clipTime = newClipTime;\n\t\n\t\t\tif ( this.loopCount !== previousLoopCount ) {\n\t\n\t   \t\t\tthis.mixer.dispatchEvent( { type: 'loop', action: this, loopDelta: ( this.loopCount - this.loopCount ) } );\n\t\n\t   \t\t}\n\t\n\t\t   \treturn this.clipTime;\n\t\n\t\t},\n\t\n\t\tsyncWith: function( action ) {\n\t\n\t\t\tthis.actionTime = action.actionTime;\n\t\t\tthis.timeScale = action.timeScale;\n\t\n\t\t\treturn this;\n\t\t},\n\t\n\t\twarpToDuration: function( duration ) {\n\t\n\t\t\tthis.timeScale = this.clip.duration / duration;\n\t\n\t\t\treturn this;\n\t\t},\n\t\n\t\tinit: function( time ) {\n\t\n\t\t\tthis.clipTime = time - this.startTime;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tupdate: function( clipDeltaTime ) {\n\t\n\t\t\tthis.updateTime( clipDeltaTime );\n\t\n\t\t\tvar clipResults = this.clip.getAt( this.clipTime );\n\t\n\t\t\treturn clipResults;\n\t\n\t\t},\n\t\n\t\tgetTimeScaleAt: function( time ) {\n\t\n\t\t\tif ( this.timeScale.getAt ) {\n\t\t\t\t// pass in time, not clip time, allows for fadein/fadeout across multiple loops of the clip\n\t\t\t\treturn this.timeScale.getAt( time );\n\t\n\t\t\t}\n\t\n\t\t\treturn this.timeScale;\n\t\n\t\t},\n\t\n\t\tgetWeightAt: function( time ) {\n\t\n\t\t\tif ( this.weight.getAt ) {\n\t\t\t\t// pass in time, not clip time, allows for fadein/fadeout across multiple loops of the clip\n\t\t\t\treturn this.weight.getAt( time );\n\t\n\t\t\t}\n\t\n\t\t\treturn this.weight;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/animation/AnimationClip.js\n\t\n\t/**\n\t *\n\t * Reusable set of Tracks that represent an animation.\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.AnimationClip = function ( name, duration, tracks ) {\n\t\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = ( duration !== undefined ) ? duration : -1;\n\t\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\t\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\t\t\t\tvar track = this.tracks[i];\n\t\t\t\tthis.duration = Math.max( track.keys[ track.keys.length - 1 ].time );\n\t\t\t}\n\t\t}\n\t\n\t\t// maybe only do these on demand, as doing them here could potentially slow down loading\n\t\t// but leaving these here during development as this ensures a lot of testing of these functions\n\t\tthis.trim();\n\t\tthis.optimize();\n\t\n\t\tthis.results = [];\n\t\n\t};\n\t\n\tTHREE.AnimationClip.prototype = {\n\t\n\t\tconstructor: THREE.AnimationClip,\n\t\n\t\tgetAt: function( clipTime ) {\n\t\n\t\t\tclipTime = Math.max( 0, Math.min( clipTime, this.duration ) );\n\t\n\t\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\t\n\t\t\t\tvar track = this.tracks[ i ];\n\t\n\t\t\t\tthis.results[ i ] = track.getAt( clipTime );\n\t\n\t\t\t}\n\t\n\t\t\treturn this.results;\n\t\t},\n\t\n\t\ttrim: function() {\n\t\n\t\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\t\n\t\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\toptimize: function() {\n\t\n\t\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\t\n\t\t\t\tthis.tracks[ i ].optimize();\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\t\n\tTHREE.AnimationClip.CreateFromMorphTargetSequence = function( name, morphTargetSequence, fps ) {\n\t\n\t\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\t\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\t\n\t\t\tvar keys = [];\n\t\n\t\t\tkeys.push( { time: ( i + numMorphTargets - 1 ) % numMorphTargets, value: 0 } );\n\t\t\tkeys.push( { time: i, value: 1 } );\n\t\t\tkeys.push( { time: ( i + 1 ) % numMorphTargets, value: 0 } );\n\t\n\t\t\tkeys.sort( THREE.KeyframeTrack.keyComparer );\n\t\n\t\t\t// if there is a key at the first frame, duplicate it as the last frame as well for perfect loop.\n\t\t\tif ( keys[0].time === 0 ) {\n\t\t\t\tkeys.push( {\n\t\t\t\t\ttime: numMorphTargets,\n\t\t\t\t\tvalue: keys[0].value\n\t\t\t\t});\n\t\t\t}\n\t\n\t\t\ttracks.push( new THREE.NumberKeyframeTrack( '.morphTargetInfluences[' + morphTargetSequence[i].name + ']', keys ).scale( 1.0 / fps ) );\n\t\t}\n\t\n\t\treturn new THREE.AnimationClip( name, -1, tracks );\n\t\n\t};\n\t\n\tTHREE.AnimationClip.findByName = function( clipArray, name ) {\n\t\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\t\n\t\t\tif ( clipArray[i].name === name ) {\n\t\n\t\t\t\treturn clipArray[i];\n\t\n\t\t\t}\n\t\t}\n\t\n\t\treturn null;\n\t\n\t};\n\t\n\tTHREE.AnimationClip.CreateClipsFromMorphTargetSequences = function( morphTargets, fps ) {\n\t\n\t\tvar animationToMorphTargets = {};\n\t\n\t\t// tested with https://regex101.com/ on trick sequences such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\t\n\t\t// sort morph target names into animation groups based patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\t\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\t\n\t\t\tif ( parts && parts.length > 1 ) {\n\t\n\t\t\t\tvar name = parts[ 1 ];\n\t\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\t\t\t\t}\n\t\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tvar clips = [];\n\t\n\t\tfor ( var name in animationToMorphTargets ) {\n\t\n\t\t\tclips.push( THREE.AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps ) );\n\t\t}\n\t\n\t\treturn clips;\n\t\n\t};\n\t\n\t// parse the standard JSON format for clips\n\tTHREE.AnimationClip.parse = function( json ) {\n\t\n\t\tvar tracks = [];\n\t\n\t\tfor ( var i = 0; i < json.tracks.length; i ++ ) {\n\t\n\t\t\ttracks.push( THREE.KeyframeTrack.parse( json.tracks[i] ).scale( 1.0 / json.fps ) );\n\t\n\t\t}\n\t\n\t\treturn new THREE.AnimationClip( json.name, json.duration, tracks );\n\t\n\t};\n\t\n\t\n\t// parse the animation.hierarchy format\n\tTHREE.AnimationClip.parseAnimation = function( animation, bones, nodeName ) {\n\t\n\t\tif ( ! animation ) {\n\t\t\tconsole.error( \"  no animation in JSONLoader data\" );\n\t\t\treturn null;\n\t\t}\n\t\n\t\tvar convertTrack = function( trackName, animationKeys, propertyName, trackType, animationKeyToValueFunc ) {\n\t\n\t\t\tvar keys = [];\n\t\n\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\t\n\t\t\t\tvar animationKey = animationKeys[k];\n\t\n\t\t\t\tif ( animationKey[propertyName] !== undefined ) {\n\t\n\t\t\t\t\tkeys.push( { time: animationKey.time, value: animationKeyToValueFunc( animationKey ) } );\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( keys.length > 0 ) {\n\t\n\t\t\t\treturn new trackType( trackName, keys );\n\t\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\n\t\t};\n\t\n\t\tvar tracks = [];\n\t\n\t\tvar clipName = animation.name || 'default';\n\t\tvar duration = animation.length || -1; // automatic length determination in AnimationClip.\n\t\tvar fps = animation.fps || 30;\n\t\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\t\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\t\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\t\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length == 0 ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\n\t\t\t// process morph targets in a way exactly compatible with AnimationHandler.init( animation )\n\t\t\tif ( animationKeys[0].morphTargets ) {\n\t\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\t\n\t\t\t\t\tif ( animationKeys[k].morphTargets ) {\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[k].morphTargets.length; m ++ ) {\n\t\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[k].morphTargets[m] ] = -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// create a track for each morph target with all zero morphTargetInfluences except for the keys in which the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\t\n\t\t\t\t\tvar keys = [];\n\t\n\t\t\t\t\tfor ( var m = 0; m < animationKeys[k].morphTargets.length; m ++ ) {\n\t\n\t\t\t\t\t\tvar animationKey = animationKeys[k];\n\t\n\t\t\t\t\t\tkeys.push( {\n\t\t\t\t\t\t\t\ttime: animationKey.time,\n\t\t\t\t\t\t\t\tvalue: (( animationKey.morphTarget === morphTargetName ) ? 1 : 0 )\n\t\t\t\t\t\t\t});\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttracks.push( new THREE.NumberKeyframeTrack( nodeName + '.morphTargetInfluence[' + morphTargetName + ']', keys ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tvar boneName = nodeName + '.bones[' + bones[ h ].name + ']';\n\t\n\t\t\t\t// track contains positions...\n\t\t\t\tvar positionTrack = convertTrack( boneName + '.position', animationKeys, 'pos', THREE.VectorKeyframeTrack, function( animationKey ) {\n\t\t\t\t\t\treturn new THREE.Vector3().fromArray( animationKey.pos )\n\t\t\t\t\t} );\n\t\n\t\t\t\tif ( positionTrack ) tracks.push( positionTrack );\n\t\n\t\t\t\t// track contains quaternions...\n\t\t\t\tvar quaternionTrack = convertTrack( boneName + '.quaternion', animationKeys, 'rot', THREE.QuaternionKeyframeTrack, function( animationKey ) {\n\t\t\t\t\t\tif ( animationKey.rot.slerp ) {\n\t\t\t\t\t\t\treturn animationKey.rot.clone();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn new THREE.Quaternion().fromArray( animationKey.rot );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\n\t\t\t\tif ( quaternionTrack ) tracks.push( quaternionTrack );\n\t\n\t\t\t\t// track contains quaternions...\n\t\t\t\tvar scaleTrack = convertTrack( boneName + '.scale', animationKeys, 'scl', THREE.VectorKeyframeTrack, function( animationKey ) {\n\t\t\t\t\t\treturn new THREE.Vector3().fromArray( animationKey.scl )\n\t\t\t\t\t} );\n\t\n\t\t\t\tif ( scaleTrack ) tracks.push( scaleTrack );\n\t\n\t\t\t}\n\t\t}\n\t\n\t\tif ( tracks.length === 0 ) {\n\t\n\t\t\treturn null;\n\t\n\t\t}\n\t\n\t\tvar clip = new THREE.AnimationClip( clipName, duration, tracks );\n\t\n\t\treturn clip;\n\t\n\t};\n\t\n\t// File:src/animation/AnimationMixer.js\n\t\n\t/**\n\t *\n\t * Mixes together the AnimationClips scheduled by AnimationActions and applies them to the root and subtree\n\t *\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.AnimationMixer = function( root ) {\n\t\n\t\tthis.root = root;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\t\tthis.actions = [];\n\t\tthis.propertyBindingMap = {};\n\t\n\t};\n\t\n\tTHREE.AnimationMixer.prototype = {\n\t\n\t\tconstructor: THREE.AnimationMixer,\n\t\n\t\taddAction: function( action ) {\n\t\n\t\t\t// TODO: check for duplicate action names?  Or provide each action with a UUID?\n\t\n\t\t\tthis.actions.push( action );\n\t\t\taction.init( this.time );\n\t\t\taction.mixer = this;\n\t\n\t\t\tvar tracks = action.clip.tracks;\n\t\n\t\t\tvar root = action.localRoot || this.root;\n\t\n\t\t\tfor ( var i = 0; i < tracks.length; i ++ ) {\n\t\n\t\t\t\tvar track = tracks[ i ];\n\t\n\t\t\t\tvar propertyBindingKey = root.uuid + '-' + track.name;\n\t\t\t\tvar propertyBinding = this.propertyBindingMap[ propertyBindingKey ];\n\t\n\t\t\t\tif ( propertyBinding === undefined ) {\n\t\n\t\t\t\t\tpropertyBinding = new THREE.PropertyBinding( root, track.name );\n\t\t\t\t\tthis.propertyBindingMap[ propertyBindingKey ] = propertyBinding;\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// push in the same order as the tracks.\n\t\t\t\taction.propertyBindings.push( propertyBinding );\n\t\n\t\t\t\t// track usages of shared property bindings, because if we leave too many around, the mixer can get slow\n\t\t\t\tpropertyBinding.referenceCount += 1;\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tremoveAllActions: function() {\n\t\n\t\t\tfor ( var i = 0; i < this.actions.length; i ++ ) {\n\t\n\t\t\t\tthis.actions[i].mixer = null;\n\t\n\t\t\t}\n\t\n\t\t\t// unbind all property bindings\n\t\t\tfor ( var properyBindingKey in this.propertyBindingMap ) {\n\t\n\t\t\t\tthis.propertyBindingMap[ properyBindingKey ].unbind();\n\t\n\t\t\t}\n\t\n\t\t\tthis.actions = [];\n\t\t\tthis.propertyBindingMap = {};\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tremoveAction: function( action ) {\n\t\n\t\t\tvar index = this.actions.indexOf( action );\n\t\n\t\t\tif ( index !== - 1 ) {\n\t\n\t\t\t\tthis.actions.splice( index, 1 );\n\t\t\t\taction.mixer = null;\n\t\n\t\t\t}\n\t\n\t\n\t\t\t// remove unused property bindings because if we leave them around the mixer can get slow\n\t\t\tvar root = action.localRoot || this.root;\n\t\t\tvar tracks = action.clip.tracks;\n\t\n\t\t\tfor ( var i = 0; i < tracks.length; i ++ ) {\n\t\n\t\t\t\tvar track = tracks[ i ];\n\t\n\t\t\t\tvar propertyBindingKey = root.uuid + '-' + track.name;\n\t\t\t\tvar propertyBinding = this.propertyBindingMap[ propertyBindingKey ];\n\t\n\t\t\t\tpropertyBinding.referenceCount -= 1;\n\t\n\t\t\t\tif ( propertyBinding.referenceCount <= 0 ) {\n\t\n\t\t\t\t\tpropertyBinding.unbind();\n\t\n\t\t\t\t\tdelete this.propertyBindingMap[ propertyBindingKey ];\n\t\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\t// can be optimized if needed\n\t\tfindActionByName: function( name ) {\n\t\n\t\t\tfor ( var i = 0; i < this.actions.length; i ++ ) {\n\t\n\t\t\t\tif ( this.actions[i].name === name ) return this.actions[i];\n\t\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\n\t\t},\n\t\n\t\tplay: function( action, optionalFadeInDuration ) {\n\t\n\t\t\taction.startTime = this.time;\n\t\t\tthis.addAction( action );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tfadeOut: function( action, duration ) {\n\t\n\t\t\tvar keys = [];\n\t\n\t\t\tkeys.push( { time: this.time, value: 1 } );\n\t\t\tkeys.push( { time: this.time + duration, value: 0 } );\n\t\n\t\t\taction.weight = new THREE.NumberKeyframeTrack( \"weight\", keys );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tfadeIn: function( action, duration ) {\n\t\n\t\t\tvar keys = [];\n\t\n\t\t\tkeys.push( { time: this.time, value: 0 } );\n\t\t\tkeys.push( { time: this.time + duration, value: 1 } );\n\t\n\t\t\taction.weight = new THREE.NumberKeyframeTrack( \"weight\", keys );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\twarp: function( action, startTimeScale, endTimeScale, duration ) {\n\t\n\t\t\tvar keys = [];\n\t\n\t\t\tkeys.push( { time: this.time, value: startTimeScale } );\n\t\t\tkeys.push( { time: this.time + duration, value: endTimeScale } );\n\t\n\t\t\taction.timeScale = new THREE.NumberKeyframeTrack( \"timeScale\", keys );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcrossFade: function( fadeOutAction, fadeInAction, duration, warp ) {\n\t\n\t\t\tthis.fadeOut( fadeOutAction, duration );\n\t\t\tthis.fadeIn( fadeInAction, duration );\n\t\n\t\t\tif ( warp ) {\n\t\n\t\t\t\tvar startEndRatio = fadeOutAction.clip.duration / fadeInAction.clip.duration;\n\t\t\t\tvar endStartRatio = 1.0 / startEndRatio;\n\t\n\t\t\t\tthis.warp( fadeOutAction, 1.0, startEndRatio, duration );\n\t\t\t\tthis.warp( fadeInAction, endStartRatio, 1.0, duration );\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tupdate: function( deltaTime ) {\n\t\n\t\t\tvar mixerDeltaTime = deltaTime * this.timeScale;\n\t\t\tthis.time += mixerDeltaTime;\n\t\n\t\t\tfor ( var i = 0; i < this.actions.length; i ++ ) {\n\t\n\t\t\t\tvar action = this.actions[i];\n\t\n\t\t\t\tvar weight = action.getWeightAt( this.time );\n\t\n\t\t\t\tvar actionTimeScale = action.getTimeScaleAt( this.time );\n\t\t\t\tvar actionDeltaTime = mixerDeltaTime * actionTimeScale;\n\t\n\t\t\t\tvar actionResults = action.update( actionDeltaTime );\n\t\n\t\t\t\tif ( action.weight <= 0 || ! action.enabled ) continue;\n\t\n\t\t\t\tfor ( var j = 0; j < actionResults.length; j ++ ) {\n\t\n\t\t\t\t\tvar name = action.clip.tracks[j].name;\n\t\n\t\t\t\t\taction.propertyBindings[ j ].accumulate( actionResults[j], weight );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// apply to nodes\n\t\t\tfor ( var propertyBindingKey in this.propertyBindingMap ) {\n\t\n\t\t\t\tthis.propertyBindingMap[ propertyBindingKey ].apply();\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.AnimationMixer.prototype );\n\t\n\t// File:src/animation/AnimationUtils.js\n\t\n\t/**\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.AnimationUtils = {\n\t\n\t\tgetEqualsFunc: function( exemplarValue ) {\n\t\n\t\t\tif ( exemplarValue.equals ) {\n\t\t\t\treturn function equals_object( a, b ) {\n\t\t\t\t\treturn a.equals( b );\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn function equals_primitive( a, b ) {\n\t\t\t\treturn ( a === b );\n\t\t\t};\n\t\n\t\t},\n\t\n\t\tclone: function( exemplarValue ) {\n\t\n\t\t\tvar typeName = typeof exemplarValue;\n\t\t\tif ( typeName === \"object\" ) {\n\t\t\t\tif ( exemplarValue.clone ) {\n\t\t\t\t\treturn exemplarValue.clone();\n\t\t\t\t}\n\t\t\t\tconsole.error( \"can not figure out how to copy exemplarValue\", exemplarValue );\n\t\t\t}\n\t\n\t\t\treturn exemplarValue;\n\t\n\t\t},\n\t\n\t\tlerp: function( a, b, alpha, interTrack ) {\n\t\n\t\t\tvar lerpFunc = THREE.AnimationUtils.getLerpFunc( a, interTrack );\n\t\n\t\t\treturn lerpFunc( a, b, alpha );\n\t\n\t\t},\n\t\n\t\tlerp_object: function( a, b, alpha ) {\n\t\t\treturn a.lerp( b, alpha );\n\t\t},\n\t\n\t\tslerp_object: function( a, b, alpha ) {\n\t\t\treturn a.slerp( b, alpha );\n\t\t},\n\t\n\t\tlerp_number: function( a, b, alpha ) {\n\t\t\treturn a * ( 1 - alpha ) + b * alpha;\n\t\t},\n\t\n\t\tlerp_boolean: function( a, b, alpha ) {\n\t\t\treturn ( alpha < 0.5 ) ? a : b;\n\t\t},\n\t\n\t\tlerp_boolean_immediate: function( a, b, alpha ) {\n\t\t\treturn a;\n\t\t},\n\t\n\t\tlerp_string: function( a, b, alpha ) {\n\t\t\treturn ( alpha < 0.5 ) ? a : b;\n\t\t},\n\t\n\t\tlerp_string_immediate: function( a, b, alpha ) {\n\t \t\treturn a;\n\t \t},\n\t\n\t\t// NOTE: this is an accumulator function that modifies the first argument (e.g. a).\tThis is to minimize memory alocations.\n\t\tgetLerpFunc: function( exemplarValue, interTrack ) {\n\t\n\t\t\tif ( exemplarValue === undefined || exemplarValue === null ) throw new Error( \"examplarValue is null\" );\n\t\n\t\t\tvar typeName = typeof exemplarValue;\n\t\n\t\t\tswitch( typeName ) {\n\t\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif ( exemplarValue.lerp ) {\n\t\t\t\t\t\treturn THREE.AnimationUtils.lerp_object;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( exemplarValue.slerp ) {\n\t\t\t\t\t\treturn THREE.AnimationUtils.slerp_object;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase \"number\":\n\t\t\t\t\treturn THREE.AnimationUtils.lerp_number;\n\t\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tif ( interTrack ) {\n\t\t\t\t\t\treturn THREE.AnimationUtils.lerp_boolean;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn THREE.AnimationUtils.lerp_boolean_immediate;\n\t\t\t\t\t}\n\t\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif ( interTrack ) {\n\t\t\t\t\t\treturn THREE.AnimationUtils.lerp_string;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn THREE.AnimationUtils.lerp_string_immediate;\n\t\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/animation/KeyframeTrack.js\n\t\n\t/**\n\t *\n\t * A Track that returns a keyframe interpolated value, currently linearly interpolated\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.KeyframeTrack = function ( name, keys ) {\n\t\n\t\tif ( name === undefined ) throw new Error( \"track name is undefined\" );\n\t\tif ( keys === undefined || keys.length === 0 ) throw new Error( \"no keys in track named \" + name );\n\t\n\t\tthis.name = name;\n\t\tthis.keys = keys;\t// time in seconds, value as value\n\t\n\t\t// the index of the last result, used as a starting point for local search.\n\t\tthis.lastIndex = 0;\n\t\n\t\tthis.validate();\n\t\tthis.optimize();\n\t\n\t};\n\t\n\tTHREE.KeyframeTrack.prototype = {\n\t\n\t\tconstructor: THREE.KeyframeTrack,\n\t\n\t\tgetAt: function( time ) {\n\t\n\t\n\t\t\t// this can not go higher than this.keys.length.\n\t\t\twhile( ( this.lastIndex < this.keys.length ) && ( time >= this.keys[this.lastIndex].time ) ) {\n\t\t\t\tthis.lastIndex ++;\n\t\t\t};\n\t\n\t\t\t// this can not go lower than 0.\n\t\t\twhile( ( this.lastIndex > 0 ) && ( time < this.keys[this.lastIndex - 1].time ) ) {\n\t\t\t\tthis.lastIndex --;\n\t\t\t}\n\t\n\t\t\tif ( this.lastIndex >= this.keys.length ) {\n\t\n\t\t\t\tthis.setResult( this.keys[ this.keys.length - 1 ].value );\n\t\n\t\t\t\treturn this.result;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.lastIndex === 0 ) {\n\t\n\t\t\t\tthis.setResult( this.keys[ 0 ].value );\n\t\n\t\t\t\treturn this.result;\n\t\n\t\t\t}\n\t\n\t\t\tvar prevKey = this.keys[ this.lastIndex - 1 ];\n\t\t\tthis.setResult( prevKey.value );\n\t\n\t\t\t// if true, means that prev/current keys are identical, thus no interpolation required.\n\t\t\tif ( prevKey.constantToNext ) {\n\t\n\t\t\t\treturn this.result;\n\t\n\t\t\t}\n\t\n\t\t\t// linear interpolation to start with\n\t\t\tvar currentKey = this.keys[ this.lastIndex ];\n\t\t\tvar alpha = ( time - prevKey.time ) / ( currentKey.time - prevKey.time );\n\t\t\tthis.result = this.lerpValues( this.result, currentKey.value, alpha );\n\t\n\t\t\treturn this.result;\n\t\n\t\t},\n\t\n\t\t// move all keyframes either forwards or backwards in time\n\t\tshift: function( timeOffset ) {\n\t\n\t\t\tif ( timeOffset !== 0.0 ) {\n\t\n\t\t\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\t\t\t\tthis.keys[i].time += timeOffset;\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\t\tscale: function( timeScale ) {\n\t\n\t\t\tif ( timeScale !== 1.0 ) {\n\t\n\t\t\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\t\t\t\tthis.keys[i].time *= timeScale;\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\t \ttrim: function( startTime, endTime ) {\n\t\n\t\t\tvar firstKeysToRemove = 0;\n\t\t\tfor ( var i = 1; i < this.keys.length; i ++ ) {\n\t\t\t\tif ( this.keys[i] <= startTime ) {\n\t\t\t\t\tfirstKeysToRemove ++;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tvar lastKeysToRemove = 0;\n\t\t\tfor ( var i = this.keys.length - 2; i > 0; i ++ ) {\n\t\t\t\tif ( this.keys[i] >= endTime ) {\n\t\t\t\t\tlastKeysToRemove ++;\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// remove last keys first because it doesn't affect the position of the first keys (the otherway around doesn't work as easily)\n\t\t\tif ( ( firstKeysToRemove + lastKeysToRemove ) > 0 ) {\n\t\t\t\tthis.keys = this.keys.splice( firstKeysToRemove, this.keys.length - lastKeysToRemove - firstKeysToRemove );;\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\t/* NOTE: This is commented out because we really shouldn't have to handle unsorted key lists\n\t\t         Tracks with out of order keys should be considered to be invalid.  - bhouston\n\t\tsort: function() {\n\t\n\t\t\tthis.keys.sort( THREE.KeyframeTrack.keyComparer );\n\t\n\t\t\treturn this;\n\t\n\t\t},*/\n\t\n\t\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\t\t// One could eventually ensure that all key.values in a track are all of the same type (otherwise interpolation makes no sense.)\n\t\tvalidate: function() {\n\t\n\t\t\tvar prevKey = null;\n\t\n\t\t\tif ( this.keys.length === 0 ) {\n\t\t\t\tconsole.error( \"  track is empty, no keys\", this );\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\n\t\t\t\tvar currKey = this.keys[i];\n\t\n\t\t\t\tif ( ! currKey ) {\n\t\t\t\t\tconsole.error( \"  key is null in track\", this, i );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif ( ( typeof currKey.time ) !== 'number' || isNaN( currKey.time ) ) {\n\t\t\t\t\tconsole.error( \"  key.time is not a valid number\", this, i, currKey );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif ( currKey.value === undefined || currKey.value === null) {\n\t\t\t\t\tconsole.error( \"  key.value is null in track\", this, i, currKey );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif ( prevKey && prevKey.time > currKey.time ) {\n\t\t\t\t\tconsole.error( \"  key.time is less than previous key time, out of order keys\", this, i, currKey, prevKey );\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tprevKey = currKey;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\t// currently only removes equivalent sequential keys (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0), which are common in morph target animations\n\t\toptimize: function() {\n\t\n\t\t\tvar newKeys = [];\n\t\t\tvar prevKey = this.keys[0];\n\t\t\tnewKeys.push( prevKey );\n\t\n\t\t\tvar equalsFunc = THREE.AnimationUtils.getEqualsFunc( prevKey.value );\n\t\n\t\t\tfor ( var i = 1; i < this.keys.length - 1; i ++ ) {\n\t\t\t\tvar currKey = this.keys[i];\n\t\t\t\tvar nextKey = this.keys[i+1];\n\t\n\t\t\t\t// if prevKey & currKey are the same time, remove currKey.  If you want immediate adjacent keys, use an epsilon offset\n\t\t\t\t// it is not possible to have two keys at the same time as we sort them.  The sort is not stable on keys with the same time.\n\t\t\t\tif ( ( prevKey.time === currKey.time ) ) {\n\t\n\t\t\t\t\tcontinue;\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// remove completely unnecessary keyframes that are the same as their prev and next keys\n\t\t\t\tif ( this.compareValues( prevKey.value, currKey.value ) && this.compareValues( currKey.value, nextKey.value ) ) {\n\t\n\t\t\t\t\tcontinue;\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// determine if interpolation is required\n\t\t\t\tprevKey.constantToNext = this.compareValues( prevKey.value, currKey.value );\n\t\n\t\t\t\tnewKeys.push( currKey );\n\t\t\t\tprevKey = currKey;\n\t\t\t}\n\t\t\tnewKeys.push( this.keys[ this.keys.length - 1 ] );\n\t\n\t\t\tthis.keys = newKeys;\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.KeyframeTrack.keyComparer = function keyComparator(key0, key1) {\n\t\treturn key0.time - key1.time;\n\t};\n\t\n\tTHREE.KeyframeTrack.parse = function( json ) {\n\t\n\t\tif ( json.type === undefined ) throw new Error( \"track type undefined, can not parse\" );\n\t\n\t\tvar trackType = THREE.KeyframeTrack.GetTrackTypeForTypeName( json.type );\n\t\n\t\treturn trackType.parse( json );\n\t\n\t};\n\t\n\tTHREE.KeyframeTrack.GetTrackTypeForTypeName = function( typeName ) {\n\t\tswitch( typeName.toLowerCase() ) {\n\t\t \tcase \"vector\":\n\t\t \tcase \"vector2\":\n\t\t \tcase \"vector3\":\n\t\t \tcase \"vector4\":\n\t\t\t\treturn THREE.VectorKeyframeTrack;\n\t\n\t\t \tcase \"quaternion\":\n\t\t\t\treturn THREE.QuaternionKeyframeTrack;\n\t\n\t\t \tcase \"integer\":\n\t\t \tcase \"scalar\":\n\t\t \tcase \"double\":\n\t\t \tcase \"float\":\n\t\t \tcase \"number\":\n\t\t\t\treturn THREE.NumberKeyframeTrack;\n\t\n\t\t \tcase \"bool\":\n\t\t \tcase \"boolean\":\n\t\t\t\treturn THREE.BooleanKeyframeTrack;\n\t\n\t\t \tcase \"string\":\n\t\t \t\treturn THREE.StringKeyframeTrack;\n\t\t};\n\t\n\t\tthrow new Error( \"Unsupported typeName: \" + typeName );\n\t};\n\t\n\t// File:src/animation/PropertyBinding.js\n\t\n\t/**\n\t *\n\t * A track bound to a real value in the scene graph.\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.PropertyBinding = function ( rootNode, trackName ) {\n\t\n\t\tthis.rootNode = rootNode;\n\t\tthis.trackName = trackName;\n\t\tthis.referenceCount = 0;\n\t\tthis.originalValue = null; // the value of the property before it was controlled by this binding\n\t\n\t\tvar parseResults = THREE.PropertyBinding.parseTrackName( trackName );\n\t\n\t\tthis.directoryName = parseResults.directoryName;\n\t\tthis.nodeName = parseResults.nodeName;\n\t\tthis.objectName = parseResults.objectName;\n\t\tthis.objectIndex = parseResults.objectIndex;\n\t\tthis.propertyName = parseResults.propertyName;\n\t\tthis.propertyIndex = parseResults.propertyIndex;\n\t\n\t\tthis.node = THREE.PropertyBinding.findNode( rootNode, this.nodeName ) || rootNode;\n\t\n\t\tthis.cumulativeValue = null;\n\t\tthis.cumulativeWeight = 0;\n\t};\n\t\n\tTHREE.PropertyBinding.prototype = {\n\t\n\t\tconstructor: THREE.PropertyBinding,\n\t\n\t\treset: function() {\n\t\n\t\t\tthis.cumulativeValue = null;\n\t\t\tthis.cumulativeWeight = 0;\n\t\n\t\t},\n\t\n\t\taccumulate: function( value, weight ) {\n\t\n\t\t\tif ( ! this.isBound ) this.bind();\n\t\n\t\t\tif ( this.cumulativeWeight === 0 ) {\n\t\n\t\t\t\tif ( weight > 0 ) {\n\t\n\t\t\t\t\tif ( this.cumulativeValue === null ) {\n\t\t\t\t\t\tthis.cumulativeValue = THREE.AnimationUtils.clone( value );\n\t\t\t\t\t}\n\t\t\t\t\tthis.cumulativeWeight = weight;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tvar lerpAlpha = weight / ( this.cumulativeWeight + weight );\n\t\t\t\tthis.cumulativeValue = this.lerpValue( this.cumulativeValue, value, lerpAlpha );\n\t\t\t\tthis.cumulativeWeight += weight;\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tunbind: function() {\n\t\n\t\t\tif ( ! this.isBound ) return;\n\t\n\t\t\tthis.setValue( this.originalValue );\n\t\n\t\t\tthis.setValue = null;\n\t\t\tthis.getValue = null;\n\t\t\tthis.lerpValue = null;\n\t\t\tthis.equalsValue = null;\n\t\t\tthis.triggerDirty = null;\n\t\t\tthis.isBound = false;\n\t\n\t\t},\n\t\n\t\t// bind to the real property in the scene graph, remember original value, memorize various accessors for speed/inefficiency\n\t\tbind: function() {\n\t\n\t\t\tif ( this.isBound ) return;\n\t\n\t\t\tvar targetObject = this.node;\n\t\n\t \t\t// ensure there is a value node\n\t\t\tif ( ! targetObject ) {\n\t\t\t\tconsole.error( \"  trying to update node for track: \" + this.trackName + \" but it wasn't found.\" );\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\tif ( this.objectName ) {\n\t\t\t\t// special case were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\t\tif ( this.objectName === \"materials\" ) {\n\t\t\t\t\tif ( ! targetObject.material ) {\n\t\t\t\t\t\tconsole.error( '  can not bind to material as node does not have a material', this );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\t\t\t\t\t\tconsole.error( '  can not bind to material.materials as node.material does not have a materials array', this );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\t\t\t\t} else if ( this.objectName === \"bones\" ) {\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\t\t\t\t\t\tconsole.error( '  can not bind to bones as node does not have a skeleton', this );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\t\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\t\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\t\t\t\t\t\tif ( targetObject[i].name === this.objectIndex ) {\n\t\t\t\t\t\t\tthis.objectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\n\t\t\t\t\tif ( targetObject[ this.objectName ] === undefined ) {\n\t\t\t\t\t\tconsole.error( '  can not bind to objectName of node, undefined', this );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\ttargetObject = targetObject[ this.objectName ];\n\t\t\t\t}\n\t\n\t\t\t\tif ( this.objectIndex !== undefined ) {\n\t\t\t\t\tif ( targetObject[ this.objectIndex ] === undefined ) {\n\t\t\t\t\t\tconsole.error( \"  trying to bind to objectIndex of objectName, but is undefined:\", this, targetObject );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttargetObject = targetObject[ this.objectIndex ];\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t \t\t// special case mappings\n\t \t\tvar nodeProperty = targetObject[ this.propertyName ];\n\t\t\tif ( ! nodeProperty ) {\n\t\t\t\tconsole.error( \"  trying to update property for track: \" + this.nodeName + '.' + this.propertyName + \" but it wasn't found.\", targetObject );\n\t\t\t\treturn;\n\t\t\t}\n\t\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\t\t\tif ( this.propertyIndex !== undefined ) {\n\t\n\t\t\t\tif ( this.propertyName === \"morphTargetInfluences\" ) {\n\t\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\t\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tif ( ! targetObject.geometry ) {\n\t\t\t\t\t\tconsole.error( '  can not bind to morphTargetInfluences becasuse node does not have a geometry', this );\n\t\t\t\t\t}\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\t\t\t\t\t\tconsole.error( '  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets', this );\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[i].name === this.propertyIndex ) {\n\t\t\t\t\t\t\tthis.propertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tthis.setValue = function setValue_propertyIndexed( value ) {\n\t\t\t\t\tif ( ! this.equalsValue( nodeProperty[ this.propertyIndex ], value ) ) {\n\t\t\t\t\t\tnodeProperty[ this.propertyIndex ] = value;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\n\t\t\t\tthis.getValue = function getValue_propertyIndexed() {\n\t\t\t\t\treturn nodeProperty[ this.propertyIndex ];\n\t\t\t\t};\n\t\n\t\t\t}\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\t\t\telse if ( nodeProperty.copy ) {\n\t\n\t\t\t\tthis.setValue = function setValue_propertyObject( value ) {\n\t\t\t\t\tif ( ! this.equalsValue( nodeProperty, value ) ) {\n\t\t\t\t\t\tnodeProperty.copy( value );\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\tthis.getValue = function getValue_propertyObject() {\n\t\t\t\t\treturn nodeProperty;\n\t\t\t\t};\n\t\n\t\t\t}\n\t\t\t// otherwise just set the property directly on the node (do not use nodeProperty as it may not be a reference object)\n\t\t\telse {\n\t\n\t\t\t\tthis.setValue = function setValue_property( value ) {\n\t\t\t\t\tif ( ! this.equalsValue( targetObject[ this.propertyName ], value ) ) {\n\t\t\t\t\t\ttargetObject[ this.propertyName ] = value;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\tthis.getValue = function getValue_property() {\n\t\t\t\t\treturn targetObject[ this.propertyName ];\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t\t// trigger node dirty\n\t\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\t\n\t\t\t\tthis.triggerDirty = function triggerDirty_needsUpdate() {\n\t\t\t\t\tthis.node.needsUpdate = true;\n\t\t\t\t}\n\t\n\t\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\t\n\t\t\t\tthis.triggerDirty = function triggerDirty_matrixWorldNeedsUpdate() {\n\t\t\t\t\ttargetObject.matrixWorldNeedsUpdate = true;\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tthis.originalValue = this.getValue();\n\t\n\t\t\tthis.equalsValue = THREE.AnimationUtils.getEqualsFunc( this.originalValue );\n\t\t\tthis.lerpValue = THREE.AnimationUtils.getLerpFunc( this.originalValue, true );\n\t\n\t\t\tthis.isBound = true;\n\t\n\t\t},\n\t\n\t\tapply: function() {\n\t\n\t\t\t// for speed capture the setter pattern as a closure (sort of a memoization pattern: https://en.wikipedia.org/wiki/Memoization)\n\t\t\tif ( ! this.isBound ) this.bind();\n\t\n\t\t\t// early exit if there is nothing to apply.\n\t\t\tif ( this.cumulativeWeight > 0 ) {\n\t\n\t\t\t\t// blend with original value\n\t\t\t\tif ( this.cumulativeWeight < 1 ) {\n\t\n\t\t\t\t\tvar remainingWeight = 1 - this.cumulativeWeight;\n\t\t\t\t\tvar lerpAlpha = remainingWeight / ( this.cumulativeWeight + remainingWeight );\n\t\t\t\t\tthis.cumulativeValue = this.lerpValue( this.cumulativeValue, this.originalValue, lerpAlpha );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar valueChanged = this.setValue( this.cumulativeValue );\n\t\n\t\t\t\tif ( valueChanged && this.triggerDirty ) {\n\t\t\t\t\tthis.triggerDirty();\n\t\t\t\t}\n\t\n\t\t\t\t// reset accumulator\n\t\t\t\tthis.cumulativeValue = null;\n\t\t\t\tthis.cumulativeWeight = 0;\n\t\n\t\t\t}\n\t\t}\n\t\n\t};\n\t\n\t\n\tTHREE.PropertyBinding.parseTrackName = function( trackName ) {\n\t\n\t\t// matches strings in the form of:\n\t\t//    nodeName.property\n\t\t//    nodeName.property[accessor]\n\t\t//    nodeName.material.property[accessor]\n\t\t//    uuid.property[accessor]\n\t\t//    uuid.objectName[objectIndex].propertyName[propertyIndex]\n\t\t//    parentName/nodeName.property\n\t\t//    parentName/parentName/nodeName.property[index]\n\t\t//\t  .bone[Armature.DEF_cog].position\n\t\t// created and tested via https://regex101.com/#javascript\n\t\n\t\tvar re = /^(([\\w]+\\/)*)([\\w-\\d]+)?(\\.([\\w]+)(\\[([\\w\\d\\[\\]\\_. ]+)\\])?)?(\\.([\\w.]+)(\\[([\\w\\d\\[\\]\\_. ]+)\\])?)$/;\n\t\tvar matches = re.exec(trackName);\n\t\n\t\tif ( ! matches ) {\n\t\t\tthrow new Error( \"cannot parse trackName at all: \" + trackName );\n\t\t}\n\t\n\t    if (matches.index === re.lastIndex) {\n\t        re.lastIndex++;\n\t    }\n\t\n\t\tvar results = {\n\t\t\tdirectoryName: matches[1],\n\t\t\tnodeName: matches[3], \t// allowed to be null, specified root node.\n\t\t\tobjectName: matches[5],\n\t\t\tobjectIndex: matches[7],\n\t\t\tpropertyName: matches[9],\n\t\t\tpropertyIndex: matches[11]\t// allowed to be null, specifies that the whole property is set.\n\t\t};\n\t\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\t\t\tthrow new Error( \"can not parse propertyName from trackName: \" + trackName );\n\t\t}\n\t\n\t\treturn results;\n\t\n\t};\n\t\n\tTHREE.PropertyBinding.findNode = function( root, nodeName ) {\n\t\n\t\tfunction searchSkeleton( skeleton ) {\n\t\n\t\t\tfor ( var i = 0; i < skeleton.bones.length; i ++ ) {\n\t\n\t\t\t\tvar bone = skeleton.bones[i];\n\t\n\t\t\t\tif ( bone.name === nodeName ) {\n\t\n\t\t\t\t\treturn bone;\n\t\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\n\t\t}\n\t\n\t\tfunction searchNodeSubtree( children ) {\n\t\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\t\n\t\t\t\tvar childNode = children[i];\n\t\n\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\t\n\t\t\t\t\treturn childNode;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\t\n\t\t\t\tif ( result ) return result;\n\t\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\n\t\t}\n\t\n\t\t//\n\t\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \"root\" || nodeName === \".\" || nodeName === -1 || nodeName === root.name || nodeName === root.uuid ) {\n\t\n\t\t\treturn root;\n\t\n\t\t}\n\t\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\t\n\t\t\tvar bone = searchSkeleton( root.skeleton );\n\t\n\t\t\tif ( bone ) {\n\t\n\t\t\t\treturn bone;\n\t\n\t\t\t}\n\t\t}\n\t\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\t\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\t\n\t\t\tif ( subTreeNode ) {\n\t\n\t\t\t\treturn subTreeNode;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\treturn null;\n\t}\n\t\n\t// File:src/animation/tracks/VectorKeyframeTrack.js\n\t\n\t/**\n\t *\n\t * A Track that interpolates Vectors\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.VectorKeyframeTrack = function ( name, keys ) {\n\t\n\t\tTHREE.KeyframeTrack.call( this, name, keys );\n\t\n\t\t// local cache of value type to avoid allocations during runtime.\n\t\tthis.result = this.keys[0].value.clone();\n\t\n\t};\n\t\n\tTHREE.VectorKeyframeTrack.prototype = Object.create( THREE.KeyframeTrack.prototype );\n\t\n\tTHREE.VectorKeyframeTrack.prototype.constructor = THREE.VectorKeyframeTrack;\n\t\n\tTHREE.VectorKeyframeTrack.prototype.setResult = function( value ) {\n\t\n\t\tthis.result.copy( value );\n\t\n\t};\n\t\n\t// memoization of the lerp function for speed.\n\t// NOTE: Do not optimize as a prototype initialization closure, as value0 will be different on a per class basis.\n\tTHREE.VectorKeyframeTrack.prototype.lerpValues = function( value0, value1, alpha ) {\n\t\n\t\treturn value0.lerp( value1, alpha );\n\t\n\t};\n\t\n\tTHREE.VectorKeyframeTrack.prototype.compareValues = function( value0, value1 ) {\n\t\n\t\treturn value0.equals( value1 );\n\t\n\t};\n\t\n\tTHREE.VectorKeyframeTrack.prototype.clone = function() {\n\t\n\t\tvar clonedKeys = [];\n\t\n\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\n\t\t\tvar key = this.keys[i];\n\t\t\tclonedKeys.push( {\n\t\t\t\ttime: key.time,\n\t\t\t\tvalue: key.value.clone()\n\t\t\t} );\n\t\t}\n\t\n\t\treturn new THREE.VectorKeyframeTrack( this.name, clonedKeys );\n\t\n\t};\n\t\n\tTHREE.VectorKeyframeTrack.parse = function( json ) {\n\t\n\t\tvar elementCount = json.keys[0].value.length;\n\t\tvar valueType = THREE[ 'Vector' + elementCount ];\n\t\n\t\tvar keys = [];\n\t\n\t\tfor ( var i = 0; i < json.keys.length; i ++ ) {\n\t\t\tvar jsonKey = json.keys[i];\n\t\t\tkeys.push( {\n\t\t\t\tvalue: new valueType().fromArray( jsonKey.value ),\n\t\t\t\ttime: jsonKey.time\n\t\t\t} );\n\t\t}\n\t\n\t\treturn new THREE.VectorKeyframeTrack( json.name, keys );\n\t\n\t};\n\t\n\t// File:src/animation/tracks/QuaternionKeyframeTrack.js\n\t\n\t/**\n\t *\n\t * A Track that interpolates Quaternion\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.QuaternionKeyframeTrack = function ( name, keys ) {\n\t\n\t\tTHREE.KeyframeTrack.call( this, name, keys );\n\t\n\t\t// local cache of value type to avoid allocations during runtime.\n\t\tthis.result = this.keys[0].value.clone();\n\t\n\t};\n\t\n\tTHREE.QuaternionKeyframeTrack.prototype = Object.create( THREE.KeyframeTrack.prototype );\n\t\n\tTHREE.QuaternionKeyframeTrack.prototype.constructor = THREE.QuaternionKeyframeTrack;\n\t\n\tTHREE.QuaternionKeyframeTrack.prototype.setResult = function( value ) {\n\t\n\t\tthis.result.copy( value );\n\t\n\t};\n\t\n\t// memoization of the lerp function for speed.\n\t// NOTE: Do not optimize as a prototype initialization closure, as value0 will be different on a per class basis.\n\tTHREE.QuaternionKeyframeTrack.prototype.lerpValues = function( value0, value1, alpha ) {\n\t\n\t\treturn value0.slerp( value1, alpha );\n\t\n\t};\n\t\n\tTHREE.QuaternionKeyframeTrack.prototype.compareValues = function( value0, value1 ) {\n\t\n\t\treturn value0.equals( value1 );\n\t\n\t};\n\t\n\tTHREE.QuaternionKeyframeTrack.prototype.multiply = function( quat ) {\n\t\n\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\n\t\t\tthis.keys[i].value.multiply( quat );\n\t\n\t\t}\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\tTHREE.QuaternionKeyframeTrack.prototype.clone = function() {\n\t\n\t\tvar clonedKeys = [];\n\t\n\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\n\t\t\tvar key = this.keys[i];\n\t\t\tclonedKeys.push( {\n\t\t\t\ttime: key.time,\n\t\t\t\tvalue: key.value.clone()\n\t\t\t} );\n\t\t}\n\t\n\t\treturn new THREE.QuaternionKeyframeTrack( this.name, clonedKeys );\n\t\n\t};\n\t\n\tTHREE.QuaternionKeyframeTrack.parse = function( json ) {\n\t\n\t\tvar keys = [];\n\t\n\t\tfor ( var i = 0; i < json.keys.length; i ++ ) {\n\t\t\tvar jsonKey = json.keys[i];\n\t\t\tkeys.push( {\n\t\t\t\tvalue: new THREE.Quaternion().fromArray( jsonKey.value ),\n\t\t\t\ttime: jsonKey.time\n\t\t\t} );\n\t\t}\n\t\n\t\treturn new THREE.QuaternionKeyframeTrack( json.name, keys );\n\t\n\t};\n\t\n\t// File:src/animation/tracks/StringKeyframeTrack.js\n\t\n\t/**\n\t *\n\t * A Track that interpolates Strings\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.StringKeyframeTrack = function ( name, keys ) {\n\t\n\t\tTHREE.KeyframeTrack.call( this, name, keys );\n\t\n\t\t// local cache of value type to avoid allocations during runtime.\n\t\tthis.result = this.keys[0].value;\n\t\n\t};\n\t\n\tTHREE.StringKeyframeTrack.prototype = Object.create( THREE.KeyframeTrack.prototype );\n\t\n\tTHREE.StringKeyframeTrack.prototype.constructor = THREE.StringKeyframeTrack;\n\t\n\tTHREE.StringKeyframeTrack.prototype.setResult = function( value ) {\n\t\n\t\tthis.result = value;\n\t\n\t};\n\t\n\t// memoization of the lerp function for speed.\n\t// NOTE: Do not optimize as a prototype initialization closure, as value0 will be different on a per class basis.\n\tTHREE.StringKeyframeTrack.prototype.lerpValues = function( value0, value1, alpha ) {\n\t\n\t\treturn ( alpha < 1.0 ) ? value0 : value1;\n\t\n\t};\n\t\n\tTHREE.StringKeyframeTrack.prototype.compareValues = function( value0, value1 ) {\n\t\n\t\treturn ( value0 === value1 );\n\t\n\t};\n\t\n\tTHREE.StringKeyframeTrack.prototype.clone = function() {\n\t\n\t\tvar clonedKeys = [];\n\t\n\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\n\t\t\tvar key = this.keys[i];\n\t\t\tclonedKeys.push( {\n\t\t\t\ttime: key.time,\n\t\t\t\tvalue: key.value\n\t\t\t} );\n\t\t}\n\t\n\t\treturn new THREE.StringKeyframeTrack( this.name, clonedKeys );\n\t\n\t};\n\t\n\tTHREE.StringKeyframeTrack.parse = function( json ) {\n\t\n\t\treturn new THREE.StringKeyframeTrack( json.name, json.keys );\n\t\n\t};\n\t\n\t// File:src/animation/tracks/BooleanKeyframeTrack.js\n\t\n\t/**\n\t *\n\t * A Track that interpolates Boolean\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.BooleanKeyframeTrack = function ( name, keys ) {\n\t\n\t\tTHREE.KeyframeTrack.call( this, name, keys );\n\t\n\t\t// local cache of value type to avoid allocations during runtime.\n\t\tthis.result = this.keys[0].value;\n\t\n\t};\n\t\n\tTHREE.BooleanKeyframeTrack.prototype = Object.create( THREE.KeyframeTrack.prototype );\n\t\n\tTHREE.BooleanKeyframeTrack.prototype.constructor = THREE.BooleanKeyframeTrack;\n\t\n\tTHREE.BooleanKeyframeTrack.prototype.setResult = function( value ) {\n\t\n\t\tthis.result = value;\n\t\n\t};\n\t\n\t// memoization of the lerp function for speed.\n\t// NOTE: Do not optimize as a prototype initialization closure, as value0 will be different on a per class basis.\n\tTHREE.BooleanKeyframeTrack.prototype.lerpValues = function( value0, value1, alpha ) {\n\t\n\t\treturn ( alpha < 1.0 ) ? value0 : value1;\n\t\n\t};\n\t\n\tTHREE.BooleanKeyframeTrack.prototype.compareValues = function( value0, value1 ) {\n\t\n\t\treturn ( value0 === value1 );\n\t\n\t};\n\t\n\tTHREE.BooleanKeyframeTrack.prototype.clone = function() {\n\t\n\t\tvar clonedKeys = [];\n\t\n\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\n\t\t\tvar key = this.keys[i];\n\t\t\tclonedKeys.push( {\n\t\t\t\ttime: key.time,\n\t\t\t\tvalue: key.value\n\t\t\t} );\n\t\t}\n\t\n\t\treturn new THREE.BooleanKeyframeTrack( this.name, clonedKeys );\n\t\n\t};\n\t\n\tTHREE.BooleanKeyframeTrack.parse = function( json ) {\n\t\n\t\treturn new THREE.BooleanKeyframeTrack( json.name, json.keys );\n\t\n\t};\n\t\n\t// File:src/animation/tracks/NumberKeyframeTrack.js\n\t\n\t/**\n\t *\n\t * A Track that interpolates Numbers\n\t *\n\t * @author Ben Houston / http://clara.io/\n\t * @author David Sarno / http://lighthaus.us/\n\t */\n\t\n\tTHREE.NumberKeyframeTrack = function ( name, keys ) {\n\t\n\t\tTHREE.KeyframeTrack.call( this, name, keys );\n\t\n\t\t// local cache of value type to avoid allocations during runtime.\n\t\tthis.result = this.keys[0].value;\n\t\n\t};\n\t\n\tTHREE.NumberKeyframeTrack.prototype = Object.create( THREE.KeyframeTrack.prototype );\n\t\n\tTHREE.NumberKeyframeTrack.prototype.constructor = THREE.NumberKeyframeTrack;\n\t\n\tTHREE.NumberKeyframeTrack.prototype.setResult = function( value ) {\n\t\n\t\tthis.result = value;\n\t\n\t};\n\t\n\t// memoization of the lerp function for speed.\n\t// NOTE: Do not optimize as a prototype initialization closure, as value0 will be different on a per class basis.\n\tTHREE.NumberKeyframeTrack.prototype.lerpValues = function( value0, value1, alpha ) {\n\t\n\t\treturn value0 * ( 1 - alpha ) + value1 * alpha;\n\t\n\t};\n\t\n\tTHREE.NumberKeyframeTrack.prototype.compareValues = function( value0, value1 ) {\n\t\n\t\treturn ( value0 === value1 );\n\t\n\t};\n\t\n\tTHREE.NumberKeyframeTrack.prototype.clone = function() {\n\t\n\t\tvar clonedKeys = [];\n\t\n\t\tfor ( var i = 0; i < this.keys.length; i ++ ) {\n\t\n\t\t\tvar key = this.keys[i];\n\t\t\tclonedKeys.push( {\n\t\t\t\ttime: key.time,\n\t\t\t\tvalue: key.value\n\t\t\t} );\n\t\t}\n\t\n\t\treturn new THREE.NumberKeyframeTrack( this.name, clonedKeys );\n\t\n\t};\n\t\n\tTHREE.NumberKeyframeTrack.parse = function( json ) {\n\t\n\t\treturn new THREE.NumberKeyframeTrack( json.name, json.keys );\n\t\n\t};\n\t\n\t// File:src/cameras/Camera.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author WestLangley / http://github.com/WestLangley\n\t*/\n\t\n\tTHREE.Camera = function () {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Camera';\n\t\n\t\tthis.matrixWorldInverse = new THREE.Matrix4();\n\t\tthis.projectionMatrix = new THREE.Matrix4();\n\t\n\t};\n\t\n\tTHREE.Camera.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Camera.prototype.constructor = THREE.Camera;\n\t\n\tTHREE.Camera.prototype.getWorldDirection = function () {\n\t\n\t\tvar quaternion = new THREE.Quaternion();\n\t\n\t\treturn function ( optionalTarget ) {\n\t\n\t\t\tvar result = optionalTarget || new THREE.Vector3();\n\t\n\t\t\tthis.getWorldQuaternion( quaternion );\n\t\n\t\t\treturn result.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\t\n\t\t};\n\t\n\t}();\n\t\n\tTHREE.Camera.prototype.lookAt = function () {\n\t\n\t\t// This routine does not support cameras with rotated and/or translated parent(s)\n\t\n\t\tvar m1 = new THREE.Matrix4();\n\t\n\t\treturn function ( vector ) {\n\t\n\t\t\tm1.lookAt( this.position, vector, this.up );\n\t\n\t\t\tthis.quaternion.setFromRotationMatrix( m1 );\n\t\n\t\t};\n\t\n\t}();\n\t\n\tTHREE.Camera.prototype.clone = function () {\n\t\n\t\treturn new this.constructor().copy( this );\n\t\n\t};\n\t\n\tTHREE.Camera.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Object3D.prototype.copy.call( this, source );\n\t\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/cameras/CubeCamera.js\n\t\n\t/**\n\t * Camera for rendering cube maps\n\t *\t- renders scene into axis-aligned cube\n\t *\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.CubeCamera = function ( near, far, cubeResolution ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'CubeCamera';\n\t\n\t\tvar fov = 90, aspect = 1;\n\t\n\t\tvar cameraPX = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new THREE.Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\t\n\t\tvar cameraNX = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new THREE.Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\t\n\t\tvar cameraPY = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new THREE.Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\t\n\t\tvar cameraNY = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new THREE.Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\t\n\t\tvar cameraPZ = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new THREE.Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\t\n\t\tvar cameraNZ = new THREE.PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new THREE.Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\t\n\t\tthis.renderTarget = new THREE.WebGLRenderTargetCube( cubeResolution, cubeResolution, { format: THREE.RGBFormat, magFilter: THREE.LinearFilter, minFilter: THREE.LinearFilter } );\n\t\n\t\tthis.updateCubeMap = function ( renderer, scene ) {\n\t\n\t\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\t\n\t\t\tvar renderTarget = this.renderTarget;\n\t\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\t\n\t\t\trenderTarget.texture.generateMipmaps = false;\n\t\n\t\t\trenderTarget.activeCubeFace = 0;\n\t\t\trenderer.render( scene, cameraPX, renderTarget );\n\t\n\t\t\trenderTarget.activeCubeFace = 1;\n\t\t\trenderer.render( scene, cameraNX, renderTarget );\n\t\n\t\t\trenderTarget.activeCubeFace = 2;\n\t\t\trenderer.render( scene, cameraPY, renderTarget );\n\t\n\t\t\trenderTarget.activeCubeFace = 3;\n\t\t\trenderer.render( scene, cameraNY, renderTarget );\n\t\n\t\t\trenderTarget.activeCubeFace = 4;\n\t\t\trenderer.render( scene, cameraPZ, renderTarget );\n\t\n\t\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\t\n\t\t\trenderTarget.activeCubeFace = 5;\n\t\t\trenderer.render( scene, cameraNZ, renderTarget );\n\t\n\t\t\trenderer.setRenderTarget( null );\n\t\n\t\t};\n\t\n\t};\n\t\n\tTHREE.CubeCamera.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.CubeCamera.prototype.constructor = THREE.CubeCamera;\n\t\n\t// File:src/cameras/OrthographicCamera.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.OrthographicCamera = function ( left, right, top, bottom, near, far ) {\n\t\n\t\tTHREE.Camera.call( this );\n\t\n\t\tthis.type = 'OrthographicCamera';\n\t\n\t\tthis.zoom = 1;\n\t\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\t\n\t\tthis.near = ( near !== undefined ) ? near : 0.1;\n\t\tthis.far = ( far !== undefined ) ? far : 2000;\n\t\n\t\tthis.updateProjectionMatrix();\n\t\n\t};\n\t\n\tTHREE.OrthographicCamera.prototype = Object.create( THREE.Camera.prototype );\n\tTHREE.OrthographicCamera.prototype.constructor = THREE.OrthographicCamera;\n\t\n\tTHREE.OrthographicCamera.prototype.updateProjectionMatrix = function () {\n\t\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\t\n\t\tthis.projectionMatrix.makeOrthographic( cx - dx, cx + dx, cy + dy, cy - dy, this.near, this.far );\n\t\n\t};\n\t\n\tTHREE.OrthographicCamera.prototype.copy = function ( source ) {\n\t\t\n\t\tTHREE.Camera.prototype.copy.call( this, source );\n\t\t\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\t\n\t\tthis.zoom = source.zoom;\n\t\t\n\t\treturn this;\n\t\t\t\n\t};\n\t\n\tTHREE.OrthographicCamera.prototype.toJSON = function ( meta ) {\n\t\n\t\tvar data = THREE.Object3D.prototype.toJSON.call( this, meta );\n\t\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\n\t\treturn data;\n\t\n\t};\n\t\n\t// File:src/cameras/PerspectiveCamera.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author greggman / http://games.greggman.com/\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t */\n\t\n\tTHREE.PerspectiveCamera = function ( fov, aspect, near, far ) {\n\t\n\t\tTHREE.Camera.call( this );\n\t\n\t\tthis.type = 'PerspectiveCamera';\n\t\n\t\tthis.zoom = 1;\n\t\n\t\tthis.fov = fov !== undefined ? fov : 50;\n\t\tthis.aspect = aspect !== undefined ? aspect : 1;\n\t\tthis.near = near !== undefined ? near : 0.1;\n\t\tthis.far = far !== undefined ? far : 2000;\n\t\n\t\tthis.updateProjectionMatrix();\n\t\n\t};\n\t\n\tTHREE.PerspectiveCamera.prototype = Object.create( THREE.Camera.prototype );\n\tTHREE.PerspectiveCamera.prototype.constructor = THREE.PerspectiveCamera;\n\t\n\t\n\t/**\n\t * Uses Focal Length (in mm) to estimate and set FOV\n\t * 35mm (full-frame) camera is used if frame size is not specified;\n\t * Formula based on http://www.bobatkins.com/photography/technical/field_of_view.html\n\t */\n\t\n\tTHREE.PerspectiveCamera.prototype.setLens = function ( focalLength, frameHeight ) {\n\t\n\t\tif ( frameHeight === undefined ) frameHeight = 24;\n\t\n\t\tthis.fov = 2 * THREE.Math.radToDeg( Math.atan( frameHeight / ( focalLength * 2 ) ) );\n\t\tthis.updateProjectionMatrix();\n\t\n\t};\n\t\n\t\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\t\n\tTHREE.PerspectiveCamera.prototype.setViewOffset = function ( fullWidth, fullHeight, x, y, width, height ) {\n\t\n\t\tthis.fullWidth = fullWidth;\n\t\tthis.fullHeight = fullHeight;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\n\t\tthis.updateProjectionMatrix();\n\t\n\t};\n\t\n\t\n\tTHREE.PerspectiveCamera.prototype.updateProjectionMatrix = function () {\n\t\n\t\tvar fov = THREE.Math.radToDeg( 2 * Math.atan( Math.tan( THREE.Math.degToRad( this.fov ) * 0.5 ) / this.zoom ) );\n\t\n\t\tif ( this.fullWidth ) {\n\t\n\t\t\tvar aspect = this.fullWidth / this.fullHeight;\n\t\t\tvar top = Math.tan( THREE.Math.degToRad( fov * 0.5 ) ) * this.near;\n\t\t\tvar bottom = - top;\n\t\t\tvar left = aspect * bottom;\n\t\t\tvar right = aspect * top;\n\t\t\tvar width = Math.abs( right - left );\n\t\t\tvar height = Math.abs( top - bottom );\n\t\n\t\t\tthis.projectionMatrix.makeFrustum(\n\t\t\t\tleft + this.x * width / this.fullWidth,\n\t\t\t\tleft + ( this.x + this.width ) * width / this.fullWidth,\n\t\t\t\ttop - ( this.y + this.height ) * height / this.fullHeight,\n\t\t\t\ttop - this.y * height / this.fullHeight,\n\t\t\t\tthis.near,\n\t\t\t\tthis.far\n\t\t\t);\n\t\n\t\t} else {\n\t\n\t\t\tthis.projectionMatrix.makePerspective( fov, this.aspect, this.near, this.far );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.PerspectiveCamera.prototype.copy = function ( source ) {\n\t\t\n\t\tTHREE.Camera.prototype.copy.call( this, source );\n\t\t\n\t\tthis.fov = source.fov;\n\t\tthis.aspect = source.aspect;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\t\n\t\tthis.zoom = source.zoom;\n\t\t\n\t\treturn this;\n\t\t\t\n\t};\n\t\n\tTHREE.PerspectiveCamera.prototype.toJSON = function ( meta ) {\n\t\n\t\tvar data = THREE.Object3D.prototype.toJSON.call( this, meta );\n\t\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.aspect = this.aspect;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\n\t\treturn data;\n\t\n\t};\n\t\n\t// File:src/lights/Light.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Light = function ( color ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Light';\n\t\n\t\tthis.color = new THREE.Color( color );\n\t\n\t\tthis.receiveShadow = undefined;\n\t\n\t};\n\t\n\tTHREE.Light.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Light.prototype.constructor = THREE.Light;\n\t\n\tObject.defineProperties( THREE.Light.prototype, {\n\t\tonlyShadow: {\n\t\t\tset: function ( value ) {\n\t\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\t\t\t}\n\t\t},\n\t\tshadowCameraFov: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.camera.fov = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraLeft: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.camera.left = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraRight: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.camera.right = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraTop: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.camera.top = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraBottom: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.camera.bottom = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraNear: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.camera.near = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraFar: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.camera.far = value;\n\t\t\t}\n\t\t},\n\t\tshadowCameraVisible: {\n\t\t\tset: function ( value ) {\n\t\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow ) instead.' );\n\t\t\t}\n\t\t},\n\t\tshadowBias: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.bias = value;\n\t\t\t}\n\t\t},\n\t\tshadowDarkness: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.darkness = value;\n\t\t\t}\n\t\t},\n\t\tshadowMapWidth: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.mapSize.width = value;\n\t\t\t}\n\t\t},\n\t\tshadowMapHeight: {\n\t\t\tset: function ( value ) {\n\t\t\t\tthis.shadow.mapSize.height = value;\n\t\t\t}\n\t\t}\n\t} );\n\t\n\tTHREE.Light.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Object3D.prototype.copy.call( this, source );\n\t\n\t\tthis.color.copy( source.color );\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\tTHREE.Light.prototype.toJSON = function ( meta ) {\n\t\n\t\tvar data = THREE.Object3D.prototype.toJSON.call( this, meta );\n\t\n\t\tdata.object.color = this.color.getHex();\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\t\n\t\tif ( this.intensity !== undefined ) data.object.intensity = this.intensity;\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.exponent !== undefined ) data.object.exponent = this.exponent;\n\t\n\t\treturn data;\n\t\n\t};\n\t\n\t// File:src/lights/LightShadow.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.LightShadow = function ( camera ) {\n\t\n\t\tthis.camera = camera;\n\t\n\t\tthis.bias = 0;\n\t\tthis.darkness = 1;\n\t\n\t\tthis.mapSize = new THREE.Vector2( 512, 512 );\n\t\n\t\tthis.map = null;\n\t\tthis.matrix = null;\n\t\n\t};\n\t\n\tTHREE.LightShadow.prototype = {\n\t\n\t\tconstructor: THREE.LightShadow,\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tthis.camera = source.camera.clone();\n\t\n\t\t\tthis.bias = source.bias;\n\t\t\tthis.darkness = source.darkness;\n\t\n\t\t\tthis.mapSize.copy( source.mapSize );\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/lights/AmbientLight.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.AmbientLight = function ( color ) {\n\t\n\t\tTHREE.Light.call( this, color );\n\t\n\t\tthis.type = 'AmbientLight';\n\t\n\t\tthis.castShadow = undefined;\n\t\n\t};\n\t\n\tTHREE.AmbientLight.prototype = Object.create( THREE.Light.prototype );\n\tTHREE.AmbientLight.prototype.constructor = THREE.AmbientLight;\n\t\n\t// File:src/lights/DirectionalLight.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.DirectionalLight = function ( color, intensity ) {\n\t\n\t\tTHREE.Light.call( this, color );\n\t\n\t\tthis.type = 'DirectionalLight';\n\t\n\t\tthis.position.set( 0, 1, 0 );\n\t\tthis.updateMatrix();\n\t\n\t\tthis.target = new THREE.Object3D();\n\t\n\t\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\t\n\t\tthis.shadow = new THREE.LightShadow( new THREE.OrthographicCamera( - 500, 500, 500, - 500, 50, 5000 ) );\n\t\n\t};\n\t\n\tTHREE.DirectionalLight.prototype = Object.create( THREE.Light.prototype );\n\tTHREE.DirectionalLight.prototype.constructor = THREE.DirectionalLight;\n\t\n\tTHREE.DirectionalLight.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Light.prototype.copy.call( this, source );\n\t\n\t\tthis.intensity = source.intensity;\n\t\tthis.target = source.target.clone();\n\t\n\t\tthis.shadow = source.shadow.clone();\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/lights/HemisphereLight.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.HemisphereLight = function ( skyColor, groundColor, intensity ) {\n\t\n\t\tTHREE.Light.call( this, skyColor );\n\t\n\t\tthis.type = 'HemisphereLight';\n\t\n\t\tthis.castShadow = undefined;\n\t\n\t\tthis.position.set( 0, 1, 0 );\n\t\tthis.updateMatrix();\n\t\n\t\tthis.groundColor = new THREE.Color( groundColor );\n\t\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\t\n\t};\n\t\n\tTHREE.HemisphereLight.prototype = Object.create( THREE.Light.prototype );\n\tTHREE.HemisphereLight.prototype.constructor = THREE.HemisphereLight;\n\t\n\tTHREE.HemisphereLight.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Light.prototype.copy.call( this, source );\n\t\n\t\tthis.groundColor.copy( source.groundColor );\n\t\tthis.intensity = source.intensity;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/lights/PointLight.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\t\n\tTHREE.PointLight = function ( color, intensity, distance, decay ) {\n\t\n\t\tTHREE.Light.call( this, color );\n\t\n\t\tthis.type = 'PointLight';\n\t\n\t\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\t\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\t\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\t\n\t\tthis.shadow = new THREE.LightShadow( new THREE.PerspectiveCamera( 90, 1, 1, 500 ) );\n\t\n\t};\n\t\n\tTHREE.PointLight.prototype = Object.create( THREE.Light.prototype );\n\tTHREE.PointLight.prototype.constructor = THREE.PointLight;\n\t\n\tTHREE.PointLight.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Light.prototype.copy.call( this, source );\n\t\n\t\tthis.intensity = source.intensity;\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\t\n\t\tthis.shadow = source.shadow.clone();\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/lights/SpotLight.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.SpotLight = function ( color, intensity, distance, angle, exponent, decay ) {\n\t\n\t\tTHREE.Light.call( this, color );\n\t\n\t\tthis.type = 'SpotLight';\n\t\n\t\tthis.position.set( 0, 1, 0 );\n\t\tthis.updateMatrix();\n\t\n\t\tthis.target = new THREE.Object3D();\n\t\n\t\tthis.intensity = ( intensity !== undefined ) ? intensity : 1;\n\t\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\t\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\t\tthis.exponent = ( exponent !== undefined ) ? exponent : 10;\n\t\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\t\n\t\tthis.shadow = new THREE.LightShadow( new THREE.PerspectiveCamera( 50, 1, 50, 5000 ) );\n\t\n\t};\n\t\n\tTHREE.SpotLight.prototype = Object.create( THREE.Light.prototype );\n\tTHREE.SpotLight.prototype.constructor = THREE.SpotLight;\n\t\n\tTHREE.SpotLight.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Light.prototype.copy.call( this, source );\n\t\n\t\tthis.intensity = source.intensity;\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.exponent = source.exponent;\n\t\tthis.decay = source.decay;\n\t\n\t\tthis.target = source.target.clone();\n\t\n\t\tthis.shadow = source.shadow.clone();\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/loaders/Cache.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Cache = {\n\t\n\t\tenabled: false,\n\t\n\t\tfiles: {},\n\t\n\t\tadd: function ( key, file ) {\n\t\n\t\t\tif ( this.enabled === false ) return;\n\t\n\t\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\t\n\t\t\tthis.files[ key ] = file;\n\t\n\t\t},\n\t\n\t\tget: function ( key ) {\n\t\n\t\t\tif ( this.enabled === false ) return;\n\t\n\t\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\t\n\t\t\treturn this.files[ key ];\n\t\n\t\t},\n\t\n\t\tremove: function ( key ) {\n\t\n\t\t\tdelete this.files[ key ];\n\t\n\t\t},\n\t\n\t\tclear: function () {\n\t\n\t\t\tthis.files = {};\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/Loader.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Loader = function () {\n\t\n\t\tthis.onLoadStart = function () {};\n\t\tthis.onLoadProgress = function () {};\n\t\tthis.onLoadComplete = function () {};\n\t\n\t};\n\t\n\tTHREE.Loader.prototype = {\n\t\n\t\tconstructor: THREE.Loader,\n\t\n\t\tcrossOrigin: undefined,\n\t\n\t\textractUrlBase: function ( url ) {\n\t\n\t\t\tvar parts = url.split( '/' );\n\t\n\t\t\tif ( parts.length === 1 ) return './';\n\t\n\t\t\tparts.pop();\n\t\n\t\t\treturn parts.join( '/' ) + '/';\n\t\n\t\t},\n\t\n\t\tinitMaterials: function ( materials, texturePath, crossOrigin ) {\n\t\n\t\t\tvar array = [];\n\t\n\t\t\tfor ( var i = 0; i < materials.length; ++ i ) {\n\t\n\t\t\t\tarray[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\n\t\n\t\t\t}\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tcreateMaterial: ( function () {\n\t\n\t\t\tvar color, textureLoader, materialLoader;\n\t\n\t\t\treturn function ( m, texturePath, crossOrigin ) {\n\t\n\t\t\t\tif ( color === undefined ) color = new THREE.Color();\n\t\t\t\tif ( textureLoader === undefined ) textureLoader = new THREE.TextureLoader();\n\t\t\t\tif ( materialLoader === undefined ) materialLoader = new THREE.MaterialLoader();\n\t\n\t\t\t\t// convert from old material format\n\t\n\t\t\t\tvar textures = {};\n\t\n\t\t\t\tfunction loadTexture( path, repeat, offset, wrap, anisotropy ) {\n\t\n\t\t\t\t\tvar fullPath = texturePath + path;\n\t\t\t\t\tvar loader = THREE.Loader.Handlers.get( fullPath );\n\t\n\t\t\t\t\tvar texture;\n\t\n\t\t\t\t\tif ( loader !== null ) {\n\t\n\t\t\t\t\t\ttexture = loader.load( fullPath );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\ttextureLoader.setCrossOrigin( crossOrigin );\n\t\t\t\t\t\ttexture = textureLoader.load( fullPath );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( repeat !== undefined ) {\n\t\n\t\t\t\t\t\ttexture.repeat.fromArray( repeat );\n\t\n\t\t\t\t\t\tif ( repeat[ 0 ] !== 1 ) texture.wrapS = THREE.RepeatWrapping;\n\t\t\t\t\t\tif ( repeat[ 1 ] !== 1 ) texture.wrapT = THREE.RepeatWrapping;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( offset !== undefined ) {\n\t\n\t\t\t\t\t\ttexture.offset.fromArray( offset );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( wrap !== undefined ) {\n\t\n\t\t\t\t\t\tif ( wrap[ 0 ] === 'repeat' ) texture.wrapS = THREE.RepeatWrapping;\n\t\t\t\t\t\tif ( wrap[ 0 ] === 'mirror' ) texture.wrapS = THREE.MirroredRepeatWrapping;\n\t\n\t\t\t\t\t\tif ( wrap[ 1 ] === 'repeat' ) texture.wrapT = THREE.RepeatWrapping;\n\t\t\t\t\t\tif ( wrap[ 1 ] === 'mirror' ) texture.wrapT = THREE.MirroredRepeatWrapping;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( anisotropy !== undefined ) {\n\t\n\t\t\t\t\t\ttexture.anisotropy = anisotropy;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar uuid = THREE.Math.generateUUID();\n\t\n\t\t\t\t\ttextures[ uuid ] = texture;\n\t\n\t\t\t\t\treturn uuid;\n\t\n\t\t\t\t}\n\t\n\t\t\t\t//\n\t\n\t\t\t\tvar json = {\n\t\t\t\t\tuuid: THREE.Math.generateUUID(),\n\t\t\t\t\ttype: 'MeshLambertMaterial'\n\t\t\t\t};\n\t\n\t\t\t\tfor ( var name in m ) {\n\t\n\t\t\t\t\tvar value = m[ name ];\n\t\n\t\t\t\t\tswitch ( name ) {\n\t\t\t\t\t\tcase 'DbgColor':\n\t\t\t\t\t\t\tjson.color = value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'DbgIndex':\n\t\t\t\t\t\tcase 'opticalDensity':\n\t\t\t\t\t\tcase 'illumination':\n\t\t\t\t\t\t\t// These were never supported\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'DbgName':\n\t\t\t\t\t\t\tjson.name = value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'blending':\n\t\t\t\t\t\t\tjson.blending = THREE[ value ];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'colorDiffuse':\n\t\t\t\t\t\t\tjson.color = color.fromArray( value ).getHex();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'colorSpecular':\n\t\t\t\t\t\t\tjson.specular = color.fromArray( value ).getHex();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'colorEmissive':\n\t\t\t\t\t\t\tjson.emissive = color.fromArray( value ).getHex();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'specularCoef':\n\t\t\t\t\t\t\tjson.shininess = value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'shading':\n\t\t\t\t\t\t\tif ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\n\t\t\t\t\t\t\tif ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapDiffuse':\n\t\t\t\t\t\t\tjson.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapDiffuseRepeat':\n\t\t\t\t\t\tcase 'mapDiffuseOffset':\n\t\t\t\t\t\tcase 'mapDiffuseWrap':\n\t\t\t\t\t\tcase 'mapDiffuseAnisotropy':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapLight':\n\t\t\t\t\t\t\tjson.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapLightRepeat':\n\t\t\t\t\t\tcase 'mapLightOffset':\n\t\t\t\t\t\tcase 'mapLightWrap':\n\t\t\t\t\t\tcase 'mapLightAnisotropy':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapAO':\n\t\t\t\t\t\t\tjson.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapAORepeat':\n\t\t\t\t\t\tcase 'mapAOOffset':\n\t\t\t\t\t\tcase 'mapAOWrap':\n\t\t\t\t\t\tcase 'mapAOAnisotropy':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapBump':\n\t\t\t\t\t\t\tjson.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapBumpScale':\n\t\t\t\t\t\t\tjson.bumpScale = value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapBumpRepeat':\n\t\t\t\t\t\tcase 'mapBumpOffset':\n\t\t\t\t\t\tcase 'mapBumpWrap':\n\t\t\t\t\t\tcase 'mapBumpAnisotropy':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapNormal':\n\t\t\t\t\t\t\tjson.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapNormalFactor':\n\t\t\t\t\t\t\tjson.normalScale = [ value, value ];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapNormalRepeat':\n\t\t\t\t\t\tcase 'mapNormalOffset':\n\t\t\t\t\t\tcase 'mapNormalWrap':\n\t\t\t\t\t\tcase 'mapNormalAnisotropy':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapSpecular':\n\t\t\t\t\t\t\tjson.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapSpecularRepeat':\n\t\t\t\t\t\tcase 'mapSpecularOffset':\n\t\t\t\t\t\tcase 'mapSpecularWrap':\n\t\t\t\t\t\tcase 'mapSpecularAnisotropy':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapAlpha':\n\t\t\t\t\t\t\tjson.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'mapAlphaRepeat':\n\t\t\t\t\t\tcase 'mapAlphaOffset':\n\t\t\t\t\t\tcase 'mapAlphaWrap':\n\t\t\t\t\t\tcase 'mapAlphaAnisotropy':\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'flipSided':\n\t\t\t\t\t\t\tjson.side = THREE.BackSide;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'doubleSided':\n\t\t\t\t\t\t\tjson.side = THREE.DoubleSide;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'transparency':\n\t\t\t\t\t\t\tconsole.warn( 'THREE.Loader: transparency has been renamed to opacity' );\n\t\t\t\t\t\t\tjson.opacity = value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'opacity':\n\t\t\t\t\t\tcase 'transparent':\n\t\t\t\t\t\tcase 'depthTest':\n\t\t\t\t\t\tcase 'depthWrite':\n\t\t\t\t\t\tcase 'transparent':\n\t\t\t\t\t\tcase 'visible':\n\t\t\t\t\t\tcase 'wireframe':\n\t\t\t\t\t\t\tjson[ name ] = value;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'vertexColors':\n\t\t\t\t\t\t\tif ( value === true ) json.vertexColors = THREE.VertexColors;\n\t\t\t\t\t\t\tif ( value === 'face' ) json.vertexColors = THREE.FaceColors;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'Loader.createMaterial: Unsupported', name, value );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\n\t\t\t\tif ( json.opacity < 1 ) json.transparent = true;\n\t\n\t\t\t\tmaterialLoader.setTextures( textures );\n\t\n\t\t\t\treturn materialLoader.parse( json );\n\t\n\t\t\t};\n\t\n\t\t} )()\n\t\n\t};\n\t\n\tTHREE.Loader.Handlers = {\n\t\n\t\thandlers: [],\n\t\n\t\tadd: function ( regex, loader ) {\n\t\n\t\t\tthis.handlers.push( regex, loader );\n\t\n\t\t},\n\t\n\t\tget: function ( file ) {\n\t\n\t\t\tvar handlers = this.handlers;\n\t\n\t\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\t\n\t\t\t\tvar regex = handlers[ i ];\n\t\t\t\tvar loader  = handlers[ i + 1 ];\n\t\n\t\t\t\tif ( regex.test( file ) ) {\n\t\n\t\t\t\t\treturn loader;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn null;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/XHRLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.XHRLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\n\t};\n\t\n\tTHREE.XHRLoader.prototype = {\n\t\n\t\tconstructor: THREE.XHRLoader,\n\t\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar cached = THREE.Cache.get( url );\n\t\n\t\t\tif ( cached !== undefined ) {\n\t\n\t\t\t\tif ( onLoad ) {\n\t\n\t\t\t\t\tsetTimeout( function () {\n\t\n\t\t\t\t\t\tonLoad( cached );\n\t\n\t\t\t\t\t}, 0 );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn cached;\n\t\n\t\t\t}\n\t\n\t\t\tvar request = new XMLHttpRequest();\n\t\t\trequest.open( 'GET', url, true );\n\t\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\t\n\t\t\t\tvar response = event.target.response;\n\t\n\t\t\t\tTHREE.Cache.add( url, response );\n\t\n\t\t\t\tif ( onLoad ) onLoad( response );\n\t\n\t\t\t\tscope.manager.itemEnd( url );\n\t\n\t\t\t}, false );\n\t\n\t\t\tif ( onProgress !== undefined ) {\n\t\n\t\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\t\n\t\t\t\t\tonProgress( event );\n\t\n\t\t\t\t}, false );\n\t\n\t\t\t}\n\t\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\t\n\t\t\t\tif ( onError ) onError( event );\n\t\n\t\t\t\tscope.manager.itemError( url );\n\t\n\t\t\t}, false );\n\t\n\t\t\tif ( this.crossOrigin !== undefined ) request.crossOrigin = this.crossOrigin;\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\t\n\t\t\trequest.send( null );\n\t\n\t\t\tscope.manager.itemStart( url );\n\t\n\t\t\treturn request;\n\t\n\t\t},\n\t\n\t\tsetResponseType: function ( value ) {\n\t\n\t\t\tthis.responseType = value;\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t},\n\t\n\t\tsetWithCredentials: function ( value ) {\n\t\n\t\t\tthis.withCredentials = value;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/ImageLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.ImageLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\n\t};\n\t\n\tTHREE.ImageLoader.prototype = {\n\t\n\t\tconstructor: THREE.ImageLoader,\n\t\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar cached = THREE.Cache.get( url );\n\t\n\t\t\tif ( cached !== undefined ) {\n\t\n\t\t\t\tscope.manager.itemStart( url );\n\t\n\t\t\t\tif ( onLoad ) {\n\t\n\t\t\t\t\tsetTimeout( function () {\n\t\n\t\t\t\t\t\tonLoad( cached );\n\t\n\t\t\t\t\t\tscope.manager.itemEnd( url );\n\t\n\t\t\t\t\t}, 0 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tscope.manager.itemEnd( url );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn cached;\n\t\n\t\t\t}\n\t\n\t\t\tvar image = document.createElement( 'img' );\n\t\n\t\t\timage.addEventListener( 'load', function ( event ) {\n\t\n\t\t\t\tTHREE.Cache.add( url, this );\n\t\n\t\t\t\tif ( onLoad ) onLoad( this );\n\t\n\t\t\t\tscope.manager.itemEnd( url );\n\t\n\t\t\t}, false );\n\t\n\t\t\tif ( onProgress !== undefined ) {\n\t\n\t\t\t\timage.addEventListener( 'progress', function ( event ) {\n\t\n\t\t\t\t\tonProgress( event );\n\t\n\t\t\t\t}, false );\n\t\n\t\t\t}\n\t\n\t\t\timage.addEventListener( 'error', function ( event ) {\n\t\n\t\t\t\tif ( onError ) onError( event );\n\t\n\t\t\t\tscope.manager.itemError( url );\n\t\n\t\t\t}, false );\n\t\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\t\n\t\t\tscope.manager.itemStart( url );\n\t\n\t\t\timage.src = url;\n\t\n\t\t\treturn image;\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/JSONLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.JSONLoader = function ( manager ) {\n\t\n\t\tif ( typeof manager === 'boolean' ) {\n\t\n\t\t\tconsole.warn( 'THREE.JSONLoader: showStatus parameter has been removed from constructor.' );\n\t\t\tmanager = undefined;\n\t\n\t\t}\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\n\t\tthis.withCredentials = false;\n\t\n\t};\n\t\n\tTHREE.JSONLoader.prototype = {\n\t\n\t\tconstructor: THREE.JSONLoader,\n\t\n\t\t// Deprecated\n\t\n\t\tget statusDomElement () {\n\t\n\t\t\tif ( this._statusDomElement === undefined ) {\n\t\n\t\t\t\tthis._statusDomElement = document.createElement( 'div' );\n\t\n\t\t\t}\n\t\n\t\t\tconsole.warn( 'THREE.JSONLoader: .statusDomElement has been removed.' );\n\t\t\treturn this._statusDomElement;\n\t\n\t\t},\n\t\n\t\tload: function( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar texturePath = this.texturePath && ( typeof this.texturePath === \"string\" ) ? this.texturePath : THREE.Loader.prototype.extractUrlBase( url );\n\t\n\t\t\tvar loader = new THREE.XHRLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\t\tloader.setWithCredentials( this.withCredentials );\n\t\t\tloader.load( url, function ( text ) {\n\t\n\t\t\t\tvar json = JSON.parse( text );\n\t\t\t\tvar metadata = json.metadata;\n\t\n\t\t\t\tif ( metadata !== undefined ) {\n\t\n\t\t\t\t\tif ( metadata.type === 'object' ) {\n\t\n\t\t\t\t\t\tconsole.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.' );\n\t\t\t\t\t\treturn;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( metadata.type === 'scene' ) {\n\t\n\t\t\t\t\t\tconsole.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.SceneLoader instead.' );\n\t\t\t\t\t\treturn;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar object = scope.parse( json, texturePath );\n\t\t\t\tonLoad( object.geometry, object.materials );\n\t\n\t\t\t} );\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t},\n\t\n\t\tsetTexturePath: function ( value ) {\n\t\n\t\t\tthis.texturePath = value;\n\t\n\t\t},\n\t\n\t\tparse: function ( json, texturePath ) {\n\t\n\t\t\tvar geometry = new THREE.Geometry(),\n\t\t\tscale = ( json.scale !== undefined ) ? 1.0 / json.scale : 1.0;\n\t\n\t\t\tparseModel( scale );\n\t\n\t\t\tparseSkin();\n\t\t\tparseMorphing( scale );\n\t\t\tparseAnimations();\n\t\n\t\t\tgeometry.computeFaceNormals();\n\t\t\tgeometry.computeBoundingSphere();\n\t\n\t\t\tfunction parseModel( scale ) {\n\t\n\t\t\t\tfunction isBitSet( value, position ) {\n\t\n\t\t\t\t\treturn value & ( 1 << position );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar i, j, fi,\n\t\n\t\t\t\toffset, zLength,\n\t\n\t\t\tcolorIndex, normalIndex, uvIndex, materialIndex,\n\t\n\t\t\t\ttype,\n\t\t\t\tisQuad,\n\t\t\t\thasMaterial,\n\t\t\t\thasFaceVertexUv,\n\t\t\t\thasFaceNormal, hasFaceVertexNormal,\n\t\t\t\thasFaceColor, hasFaceVertexColor,\n\t\n\t\t\tvertex, face, faceA, faceB, hex, normal,\n\t\n\t\t\t\tuvLayer, uv, u, v,\n\t\n\t\t\t\tfaces = json.faces,\n\t\t\t\tvertices = json.vertices,\n\t\t\t\tnormals = json.normals,\n\t\t\t\tcolors = json.colors,\n\t\n\t\t\t\tnUvLayers = 0;\n\t\n\t\t\t\tif ( json.uvs !== undefined ) {\n\t\n\t\t\t\t\t// disregard empty arrays\n\t\n\t\t\t\t\tfor ( i = 0; i < json.uvs.length; i ++ ) {\n\t\n\t\t\t\t\t\tif ( json.uvs[ i ].length ) nUvLayers ++;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\t\n\t\t\t\t\t\tgeometry.faceVertexUvs[ i ] = [];\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\toffset = 0;\n\t\t\t\tzLength = vertices.length;\n\t\n\t\t\t\twhile ( offset < zLength ) {\n\t\n\t\t\t\t\tvertex = new THREE.Vector3();\n\t\n\t\t\t\t\tvertex.x = vertices[ offset ++ ] * scale;\n\t\t\t\t\tvertex.y = vertices[ offset ++ ] * scale;\n\t\t\t\t\tvertex.z = vertices[ offset ++ ] * scale;\n\t\n\t\t\t\t\tgeometry.vertices.push( vertex );\n\t\n\t\t\t\t}\n\t\n\t\t\t\toffset = 0;\n\t\t\t\tzLength = faces.length;\n\t\n\t\t\t\twhile ( offset < zLength ) {\n\t\n\t\t\t\t\ttype = faces[ offset ++ ];\n\t\n\t\n\t\t\t\t\tisQuad              = isBitSet( type, 0 );\n\t\t\t\t\thasMaterial         = isBitSet( type, 1 );\n\t\t\t\t\thasFaceVertexUv     = isBitSet( type, 3 );\n\t\t\t\t\thasFaceNormal       = isBitSet( type, 4 );\n\t\t\t\t\thasFaceVertexNormal = isBitSet( type, 5 );\n\t\t\t\t\thasFaceColor\t     = isBitSet( type, 6 );\n\t\t\t\t\thasFaceVertexColor  = isBitSet( type, 7 );\n\t\n\t\t\t\t\t// console.log(\"type\", type, \"bits\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\n\t\n\t\t\t\t\tif ( isQuad ) {\n\t\n\t\t\t\t\t\tfaceA = new THREE.Face3();\n\t\t\t\t\t\tfaceA.a = faces[ offset ];\n\t\t\t\t\t\tfaceA.b = faces[ offset + 1 ];\n\t\t\t\t\t\tfaceA.c = faces[ offset + 3 ];\n\t\n\t\t\t\t\t\tfaceB = new THREE.Face3();\n\t\t\t\t\t\tfaceB.a = faces[ offset + 1 ];\n\t\t\t\t\t\tfaceB.b = faces[ offset + 2 ];\n\t\t\t\t\t\tfaceB.c = faces[ offset + 3 ];\n\t\n\t\t\t\t\t\toffset += 4;\n\t\n\t\t\t\t\t\tif ( hasMaterial ) {\n\t\n\t\t\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\tfaceA.materialIndex = materialIndex;\n\t\t\t\t\t\t\tfaceB.materialIndex = materialIndex;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// to get face <=> uv index correspondence\n\t\n\t\t\t\t\t\tfi = geometry.faces.length;\n\t\n\t\t\t\t\t\tif ( hasFaceVertexUv ) {\n\t\n\t\t\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\t\n\t\t\t\t\t\t\t\tuvLayer = json.uvs[ i ];\n\t\n\t\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\n\t\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi + 1 ] = [];\n\t\n\t\t\t\t\t\t\t\tfor ( j = 0; j < 4; j ++ ) {\n\t\n\t\t\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\n\t\n\t\t\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\n\t\t\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\n\t\n\t\t\t\t\t\t\t\t\tuv = new THREE.Vector2( u, v );\n\t\n\t\t\t\t\t\t\t\t\tif ( j !== 2 ) geometry.faceVertexUvs[ i ][ fi ].push( uv );\n\t\t\t\t\t\t\t\t\tif ( j !== 0 ) geometry.faceVertexUvs[ i ][ fi + 1 ].push( uv );\n\t\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ( hasFaceNormal ) {\n\t\n\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\t\n\t\t\t\t\t\t\tfaceA.normal.set(\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tfaceB.normal.copy( faceA.normal );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ( hasFaceVertexNormal ) {\n\t\n\t\t\t\t\t\t\tfor ( i = 0; i < 4; i ++ ) {\n\t\n\t\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\t\n\t\t\t\t\t\t\t\tnormal = new THREE.Vector3(\n\t\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t\t\t);\n\t\n\t\n\t\t\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexNormals.push( normal );\n\t\t\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexNormals.push( normal );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\n\t\t\t\t\t\tif ( hasFaceColor ) {\n\t\n\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\thex = colors[ colorIndex ];\n\t\n\t\t\t\t\t\t\tfaceA.color.setHex( hex );\n\t\t\t\t\t\t\tfaceB.color.setHex( hex );\n\t\n\t\t\t\t\t\t}\n\t\n\t\n\t\t\t\t\t\tif ( hasFaceVertexColor ) {\n\t\n\t\t\t\t\t\t\tfor ( i = 0; i < 4; i ++ ) {\n\t\n\t\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\t\thex = colors[ colorIndex ];\n\t\n\t\t\t\t\t\t\t\tif ( i !== 2 ) faceA.vertexColors.push( new THREE.Color( hex ) );\n\t\t\t\t\t\t\t\tif ( i !== 0 ) faceB.vertexColors.push( new THREE.Color( hex ) );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tgeometry.faces.push( faceA );\n\t\t\t\t\t\tgeometry.faces.push( faceB );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tface = new THREE.Face3();\n\t\t\t\t\t\tface.a = faces[ offset ++ ];\n\t\t\t\t\t\tface.b = faces[ offset ++ ];\n\t\t\t\t\t\tface.c = faces[ offset ++ ];\n\t\n\t\t\t\t\t\tif ( hasMaterial ) {\n\t\n\t\t\t\t\t\t\tmaterialIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\tface.materialIndex = materialIndex;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t// to get face <=> uv index correspondence\n\t\n\t\t\t\t\t\tfi = geometry.faces.length;\n\t\n\t\t\t\t\t\tif ( hasFaceVertexUv ) {\n\t\n\t\t\t\t\t\t\tfor ( i = 0; i < nUvLayers; i ++ ) {\n\t\n\t\t\t\t\t\t\t\tuvLayer = json.uvs[ i ];\n\t\n\t\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ] = [];\n\t\n\t\t\t\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\t\n\t\t\t\t\t\t\t\t\tuvIndex = faces[ offset ++ ];\n\t\n\t\t\t\t\t\t\t\t\tu = uvLayer[ uvIndex * 2 ];\n\t\t\t\t\t\t\t\t\tv = uvLayer[ uvIndex * 2 + 1 ];\n\t\n\t\t\t\t\t\t\t\t\tuv = new THREE.Vector2( u, v );\n\t\n\t\t\t\t\t\t\t\t\tgeometry.faceVertexUvs[ i ][ fi ].push( uv );\n\t\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ( hasFaceNormal ) {\n\t\n\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\t\n\t\t\t\t\t\t\tface.normal.set(\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif ( hasFaceVertexNormal ) {\n\t\n\t\t\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\t\n\t\t\t\t\t\t\t\tnormalIndex = faces[ offset ++ ] * 3;\n\t\n\t\t\t\t\t\t\t\tnormal = new THREE.Vector3(\n\t\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\t\tnormals[ normalIndex ++ ],\n\t\t\t\t\t\t\t\t\tnormals[ normalIndex ]\n\t\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\t\tface.vertexNormals.push( normal );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\n\t\t\t\t\t\tif ( hasFaceColor ) {\n\t\n\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\tface.color.setHex( colors[ colorIndex ] );\n\t\n\t\t\t\t\t\t}\n\t\n\t\n\t\t\t\t\t\tif ( hasFaceVertexColor ) {\n\t\n\t\t\t\t\t\t\tfor ( i = 0; i < 3; i ++ ) {\n\t\n\t\t\t\t\t\t\t\tcolorIndex = faces[ offset ++ ];\n\t\t\t\t\t\t\t\tface.vertexColors.push( new THREE.Color( colors[ colorIndex ] ) );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tgeometry.faces.push( face );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tfunction parseSkin() {\n\t\n\t\t\t\tvar influencesPerVertex = ( json.influencesPerVertex !== undefined ) ? json.influencesPerVertex : 2;\n\t\n\t\t\t\tif ( json.skinWeights ) {\n\t\n\t\t\t\t\tfor ( var i = 0, l = json.skinWeights.length; i < l; i += influencesPerVertex ) {\n\t\n\t\t\t\t\t\tvar x =                               json.skinWeights[ i ];\n\t\t\t\t\t\tvar y = ( influencesPerVertex > 1 ) ? json.skinWeights[ i + 1 ] : 0;\n\t\t\t\t\t\tvar z = ( influencesPerVertex > 2 ) ? json.skinWeights[ i + 2 ] : 0;\n\t\t\t\t\t\tvar w = ( influencesPerVertex > 3 ) ? json.skinWeights[ i + 3 ] : 0;\n\t\n\t\t\t\t\t\tgeometry.skinWeights.push( new THREE.Vector4( x, y, z, w ) );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( json.skinIndices ) {\n\t\n\t\t\t\t\tfor ( var i = 0, l = json.skinIndices.length; i < l; i += influencesPerVertex ) {\n\t\n\t\t\t\t\t\tvar a =                               json.skinIndices[ i ];\n\t\t\t\t\t\tvar b = ( influencesPerVertex > 1 ) ? json.skinIndices[ i + 1 ] : 0;\n\t\t\t\t\t\tvar c = ( influencesPerVertex > 2 ) ? json.skinIndices[ i + 2 ] : 0;\n\t\t\t\t\t\tvar d = ( influencesPerVertex > 3 ) ? json.skinIndices[ i + 3 ] : 0;\n\t\n\t\t\t\t\t\tgeometry.skinIndices.push( new THREE.Vector4( a, b, c, d ) );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tgeometry.bones = json.bones;\n\t\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 && ( geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length ) ) {\n\t\n\t\t\t\t\tconsole.warn( 'When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' +\n\t\t\t\t\t\tgeometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t};\n\t\n\t\t\tfunction parseMorphing( scale ) {\n\t\n\t\t\t\tif ( json.morphTargets !== undefined ) {\n\t\n\t\t\t\t\tfor ( var i = 0, l = json.morphTargets.length; i < l; i ++ ) {\n\t\n\t\t\t\t\t\tgeometry.morphTargets[ i ] = {};\n\t\t\t\t\t\tgeometry.morphTargets[ i ].name = json.morphTargets[ i ].name;\n\t\t\t\t\t\tgeometry.morphTargets[ i ].vertices = [];\n\t\n\t\t\t\t\t\tvar dstVertices = geometry.morphTargets[ i ].vertices;\n\t\t\t\t\t\tvar srcVertices = json.morphTargets[ i ].vertices;\n\t\n\t\t\t\t\t\tfor ( var v = 0, vl = srcVertices.length; v < vl; v += 3 ) {\n\t\n\t\t\t\t\t\t\tvar vertex = new THREE.Vector3();\n\t\t\t\t\t\t\tvertex.x = srcVertices[ v ] * scale;\n\t\t\t\t\t\t\tvertex.y = srcVertices[ v + 1 ] * scale;\n\t\t\t\t\t\t\tvertex.z = srcVertices[ v + 2 ] * scale;\n\t\n\t\t\t\t\t\t\tdstVertices.push( vertex );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( json.morphColors !== undefined && json.morphColors.length > 0 ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.' );\n\t\n\t\t\t\t\tvar faces = geometry.faces;\n\t\t\t\t\tvar morphColors = json.morphColors[ 0 ].colors;\n\t\n\t\t\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\t\n\t\t\t\t\t\tfaces[ i ].color.fromArray( morphColors, i * 3 );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction parseAnimations() {\n\t\n\t\t\t\tvar outputAnimations = [];\n\t\n\t\t\t\t// parse old style Bone/Hierarchy animations\n\t\t\t\tvar animations = [];\n\t\t\t\tif ( json.animation !== undefined ) {\n\t\t\t\t\tanimations.push( json.animation );\n\t\t\t\t}\n\t\t\t\tif ( json.animations !== undefined ) {\n\t\t\t\t\tif ( json.animations.length ) {\n\t\t\t\t\t\tanimations = animations.concat( json.animations );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tanimations.push( json.animations );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var i = 0; i < animations.length; i ++ ) {\n\t\n\t\t\t\t\tvar clip = THREE.AnimationClip.parseAnimation( animations[i], geometry.bones );\n\t\t\t\t\tif ( clip ) outputAnimations.push( clip );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// parse implicit morph animations\n\t\t\t\tif ( geometry.morphTargets ) {\n\t\n\t\t\t\t\t// TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\n\t\t\t\t\tvar morphAnimationClips = THREE.AnimationClip.CreateClipsFromMorphTargetSequences( geometry.morphTargets, 10 );\n\t\t\t\t\toutputAnimations = outputAnimations.concat( morphAnimationClips );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( outputAnimations.length > 0 ) geometry.animations = outputAnimations;\n\t\n\t\t\t};\n\t\n\t\t\tif ( json.materials === undefined || json.materials.length === 0 ) {\n\t\n\t\t\t\treturn { geometry: geometry };\n\t\n\t\t\t} else {\n\t\n\t\t\t\tvar materials = THREE.Loader.prototype.initMaterials( json.materials, texturePath, this.crossOrigin );\n\t\n\t\t\t\treturn { geometry: geometry, materials: materials };\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/LoadingManager.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.LoadingManager = function ( onLoad, onProgress, onError ) {\n\t\n\t\tvar scope = this;\n\t\n\t\tvar isLoading = false, itemsLoaded = 0, itemsTotal = 0;\n\t\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\t\n\t\tthis.itemStart = function ( url ) {\n\t\n\t\t\titemsTotal ++;\n\t\n\t\t\tif ( isLoading === false ) {\n\t\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\t\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tisLoading = true;\n\t\n\t\t};\n\t\n\t\tthis.itemEnd = function ( url ) {\n\t\n\t\t\titemsLoaded ++;\n\t\n\t\t\tif ( scope.onProgress !== undefined ) {\n\t\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\t\n\t\t\t}\n\t\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\t\n\t\t\t\tisLoading = false;\n\t\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\t\n\t\t\t\t\tscope.onLoad();\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.itemError = function ( url ) {\n\t\n\t\t\tif ( scope.onError !== undefined ) {\n\t\n\t\t\t\tscope.onError( url );\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t};\n\t\n\tTHREE.DefaultLoadingManager = new THREE.LoadingManager();\n\t\n\t// File:src/loaders/BufferGeometryLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.BufferGeometryLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\n\t};\n\t\n\tTHREE.BufferGeometryLoader.prototype = {\n\t\n\t\tconstructor: THREE.BufferGeometryLoader,\n\t\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar loader = new THREE.XHRLoader( scope.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\t\tloader.load( url, function ( text ) {\n\t\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\t\n\t\t\t}, onProgress, onError );\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t},\n\t\n\t\tparse: function ( json ) {\n\t\n\t\t\tvar geometry = new THREE.BufferGeometry();\n\t\n\t\t\tvar index = json.data.index;\n\t\n\t\t\tif ( index !== undefined ) {\n\t\n\t\t\t\tvar typedArray = new self[ index.type ]( index.array );\n\t\t\t\tgeometry.setIndex( new THREE.BufferAttribute( typedArray, 1 ) );\n\t\n\t\t\t}\n\t\n\t\t\tvar attributes = json.data.attributes;\n\t\n\t\t\tfor ( var key in attributes ) {\n\t\n\t\t\t\tvar attribute = attributes[ key ];\n\t\t\t\tvar typedArray = new self[ attribute.type ]( attribute.array );\n\t\n\t\t\t\tgeometry.addAttribute( key, new THREE.BufferAttribute( typedArray, attribute.itemSize ) );\n\t\n\t\t\t}\n\t\n\t\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\t\n\t\t\tif ( groups !== undefined ) {\n\t\n\t\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\t\n\t\t\t\t\tvar group = groups[ i ];\n\t\n\t\t\t\t\tgeometry.addGroup( group.start, group.count );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar boundingSphere = json.data.boundingSphere;\n\t\n\t\t\tif ( boundingSphere !== undefined ) {\n\t\n\t\t\t\tvar center = new THREE.Vector3();\n\t\n\t\t\t\tif ( boundingSphere.center !== undefined ) {\n\t\n\t\t\t\t\tcenter.fromArray( boundingSphere.center );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tgeometry.boundingSphere = new THREE.Sphere( center, boundingSphere.radius );\n\t\n\t\t\t}\n\t\n\t\t\treturn geometry;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/MaterialLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.MaterialLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\tthis.textures = {};\n\t\n\t};\n\t\n\tTHREE.MaterialLoader.prototype = {\n\t\n\t\tconstructor: THREE.MaterialLoader,\n\t\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar loader = new THREE.XHRLoader( scope.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\t\tloader.load( url, function ( text ) {\n\t\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\t\n\t\t\t}, onProgress, onError );\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t},\n\t\n\t\tsetTextures: function ( value ) {\n\t\n\t\t\tthis.textures = value;\n\t\n\t\t},\n\t\n\t\tgetTexture: function ( name ) {\n\t\n\t\t\tvar textures = this.textures;\n\t\n\t\t\tif ( textures[ name ] === undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\t\n\t\t\t}\n\t\n\t\t\treturn textures[ name ];\n\t\n\t\t},\n\t\n\t\tparse: function ( json ) {\n\t\n\t\t\tvar material = new THREE[ json.type ];\n\t\t\tmaterial.uuid = json.uuid;\n\t\n\t\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\t\tif ( json.uniforms !== undefined ) material.uniforms = json.uniforms;\n\t\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\t\t\tif ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\n\t\t\tif ( json.shading !== undefined ) material.shading = json.shading;\n\t\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\n\t\t\t// for PointsMaterial\n\t\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\t\n\t\t\t// maps\n\t\n\t\t\tif ( json.map !== undefined ) material.map = this.getTexture( json.map );\n\t\n\t\t\tif ( json.alphaMap !== undefined ) {\n\t\n\t\t\t\tmaterial.alphaMap = this.getTexture( json.alphaMap );\n\t\t\t\tmaterial.transparent = true;\n\t\n\t\t\t}\n\t\n\t\t\tif ( json.bumpMap !== undefined ) material.bumpMap = this.getTexture( json.bumpMap );\n\t\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\t\n\t\t\tif ( json.normalMap !== undefined ) material.normalMap = this.getTexture( json.normalMap );\n\t\t\tif ( json.normalScale )\tmaterial.normalScale = new THREE.Vector2( json.normalScale, json.normalScale );\n\t\n\t\t\tif ( json.displacementMap !== undefined ) material.displacementMap = this.getTexture( json.displacementMap );\n\t\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\t\n\t\t\tif ( json.specularMap !== undefined ) material.specularMap = this.getTexture( json.specularMap );\n\t\n\t\t\tif ( json.envMap !== undefined ) {\n\t\n\t\t\t\tmaterial.envMap = this.getTexture( json.envMap );\n\t\t\t\tmaterial.combine = THREE.MultiplyOperation;\n\t\n\t\t\t}\n\t\n\t\t\tif ( json.reflectivity ) material.reflectivity = json.reflectivity;\n\t\n\t\t\tif ( json.lightMap !== undefined ) material.lightMap = this.getTexture( json.lightMap );\n\t\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\t\n\t\t\tif ( json.aoMap !== undefined ) material.aoMap = this.getTexture( json.aoMap );\n\t\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\t\n\t\t\t// MeshFaceMaterial\n\t\n\t\t\tif ( json.materials !== undefined ) {\n\t\n\t\t\t\tfor ( var i = 0, l = json.materials.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tmaterial.materials.push( this.parse( json.materials[ i ] ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn material;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/ObjectLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.ObjectLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\tthis.texturePath = '';\n\t\n\t};\n\t\n\tTHREE.ObjectLoader.prototype = {\n\t\n\t\tconstructor: THREE.ObjectLoader,\n\t\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tif ( this.texturePath === '' ) {\n\t\n\t\t\t\tthis.texturePath = url.substring( 0, url.lastIndexOf( '/' ) + 1 );\n\t\n\t\t\t}\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar loader = new THREE.XHRLoader( scope.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\t\tloader.load( url, function ( text ) {\n\t\n\t\t\t\tscope.parse( JSON.parse( text ), onLoad );\n\t\n\t\t\t}, onProgress, onError );\n\t\n\t\t},\n\t\n\t\tsetTexturePath: function ( value ) {\n\t\n\t\t\tthis.texturePath = value;\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t},\n\t\n\t\tparse: function ( json, onLoad ) {\n\t\n\t\t\tvar geometries = this.parseGeometries( json.geometries );\n\t\n\t\t\tvar images = this.parseImages( json.images, function () {\n\t\n\t\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\t\n\t\t\t} );\n\t\n\t\t\tvar textures  = this.parseTextures( json.textures, images );\n\t\t\tvar materials = this.parseMaterials( json.materials, textures );\n\t\n\t\t\tvar object = this.parseObject( json.object, geometries, materials );\n\t\n\t\t\tif ( json.animations ) {\n\t\n\t\t\t\tobject.animations = this.parseAnimations( json.animations );\n\t\n\t\t\t}\n\t\n\t\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\t\n\t\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\t\n\t\t\t}\n\t\n\t\t\treturn object;\n\t\n\t\t},\n\t\n\t\tparseGeometries: function ( json ) {\n\t\n\t\t\tvar geometries = {};\n\t\n\t\t\tif ( json !== undefined ) {\n\t\n\t\t\t\tvar geometryLoader = new THREE.JSONLoader();\n\t\t\t\tvar bufferGeometryLoader = new THREE.BufferGeometryLoader();\n\t\n\t\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tvar geometry;\n\t\t\t\t\tvar data = json[ i ];\n\t\n\t\t\t\t\tswitch ( data.type ) {\n\t\n\t\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\t\tcase 'PlaneBufferGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE[ data.type ](\n\t\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.BoxGeometry(\n\t\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'CircleBufferGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.CircleBufferGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'CircleGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.CircleGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'CylinderGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.CylinderGeometry(\n\t\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'SphereGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.SphereGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'SphereBufferGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.SphereBufferGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.DodecahedronGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.IcosahedronGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'OctahedronGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.OctahedronGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.TetrahedronGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'RingGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.RingGeometry(\n\t\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'TorusGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.TorusGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = new THREE.TorusKnotGeometry(\n\t\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\t\tdata.q,\n\t\t\t\t\t\t\t\tdata.heightScale\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'BufferGeometry':\n\t\n\t\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase 'Geometry':\n\t\n\t\t\t\t\t\t\tgeometry = geometryLoader.parse( data.data, this.texturePath ).geometry;\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\t\n\t\t\t\t\t\t\tcontinue;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tgeometry.uuid = data.uuid;\n\t\n\t\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\n\t\t\t\t\tgeometries[ data.uuid ] = geometry;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn geometries;\n\t\n\t\t},\n\t\n\t\tparseMaterials: function ( json, textures ) {\n\t\n\t\t\tvar materials = {};\n\t\n\t\t\tif ( json !== undefined ) {\n\t\n\t\t\t\tvar loader = new THREE.MaterialLoader();\n\t\t\t\tloader.setTextures( textures );\n\t\n\t\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tvar material = loader.parse( json[ i ] );\n\t\t\t\t\tmaterials[ material.uuid ] = material;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn materials;\n\t\n\t\t},\n\t\n\t\tparseAnimations: function ( json ) {\n\t\n\t\t\tvar animations = [];\n\t\n\t\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\t\n\t\t\t\tvar clip = THREE.AnimationClip.parse( json[i] );\n\t\n\t\t\t\tanimations.push( clip );\n\t\n\t\t\t}\n\t\n\t\t\treturn animations;\n\t\n\t\t},\n\t\n\t\tparseImages: function ( json, onLoad ) {\n\t\n\t\t\tvar scope = this;\n\t\t\tvar images = {};\n\t\n\t\t\tfunction loadImage( url ) {\n\t\n\t\t\t\tscope.manager.itemStart( url );\n\t\n\t\t\t\treturn loader.load( url, function () {\n\t\n\t\t\t\t\tscope.manager.itemEnd( url );\n\t\n\t\t\t\t} );\n\t\n\t\t\t}\n\t\n\t\t\tif ( json !== undefined && json.length > 0 ) {\n\t\n\t\t\t\tvar manager = new THREE.LoadingManager( onLoad );\n\t\n\t\t\t\tvar loader = new THREE.ImageLoader( manager );\n\t\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\n\t\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tvar image = json[ i ];\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.texturePath + image.url;\n\t\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn images;\n\t\n\t\t},\n\t\n\t\tparseTextures: function ( json, images ) {\n\t\n\t\t\tfunction parseConstant( value ) {\n\t\n\t\t\t\tif ( typeof( value ) === 'number' ) return value;\n\t\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\t\n\t\t\t\treturn THREE[ value ];\n\t\n\t\t\t}\n\t\n\t\t\tvar textures = {};\n\t\n\t\t\tif ( json !== undefined ) {\n\t\n\t\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tvar data = json[ i ];\n\t\n\t\t\t\t\tif ( data.image === undefined ) {\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( images[ data.image ] === undefined ) {\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar texture = new THREE.Texture( images[ data.image ] );\n\t\t\t\t\ttexture.needsUpdate = true;\n\t\n\t\t\t\t\ttexture.uuid = data.uuid;\n\t\n\t\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\t\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping );\n\t\t\t\t\tif ( data.offset !== undefined ) texture.offset = new THREE.Vector2( data.offset[ 0 ], data.offset[ 1 ] );\n\t\t\t\t\tif ( data.repeat !== undefined ) texture.repeat = new THREE.Vector2( data.repeat[ 0 ], data.repeat[ 1 ] );\n\t\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter );\n\t\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter );\n\t\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\t\t\t\t\tif ( Array.isArray( data.wrap ) ) {\n\t\n\t\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ] );\n\t\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ] );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttextures[ data.uuid ] = texture;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn textures;\n\t\n\t\t},\n\t\n\t\tparseObject: function () {\n\t\n\t\t\tvar matrix = new THREE.Matrix4();\n\t\n\t\t\treturn function ( data, geometries, materials ) {\n\t\n\t\t\t\tvar object;\n\t\n\t\t\t\tfunction getGeometry( name ) {\n\t\n\t\t\t\t\tif ( geometries[ name ] === undefined ) {\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn geometries[ name ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfunction getMaterial( name ) {\n\t\n\t\t\t\t\tif ( name === undefined ) return undefined;\n\t\n\t\t\t\t\tif ( materials[ name ] === undefined ) {\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn materials[ name ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tswitch ( data.type ) {\n\t\n\t\t\t\t\tcase 'Scene':\n\t\n\t\t\t\t\t\tobject = new THREE.Scene();\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'PerspectiveCamera':\n\t\n\t\t\t\t\t\tobject = new THREE.PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'OrthographicCamera':\n\t\n\t\t\t\t\t\tobject = new THREE.OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'AmbientLight':\n\t\n\t\t\t\t\t\tobject = new THREE.AmbientLight( data.color );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'DirectionalLight':\n\t\n\t\t\t\t\t\tobject = new THREE.DirectionalLight( data.color, data.intensity );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'PointLight':\n\t\n\t\t\t\t\t\tobject = new THREE.PointLight( data.color, data.intensity, data.distance, data.decay );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'SpotLight':\n\t\n\t\t\t\t\t\tobject = new THREE.SpotLight( data.color, data.intensity, data.distance, data.angle, data.exponent, data.decay );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'HemisphereLight':\n\t\n\t\t\t\t\t\tobject = new THREE.HemisphereLight( data.color, data.groundColor, data.intensity );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'Mesh':\n\t\n\t\t\t\t\t\tobject = new THREE.Mesh( getGeometry( data.geometry ), getMaterial( data.material ) );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'LOD':\n\t\n\t\t\t\t\t\tobject = new THREE.LOD();\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'Line':\n\t\n\t\t\t\t\t\tobject = new THREE.Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'PointCloud':\n\t\t\t\t\tcase 'Points':\n\t\n\t\t\t\t\t\tobject = new THREE.Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'Sprite':\n\t\n\t\t\t\t\t\tobject = new THREE.Sprite( getMaterial( data.material ) );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'Group':\n\t\n\t\t\t\t\t\tobject = new THREE.Group();\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\tobject = new THREE.Object3D();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tobject.uuid = data.uuid;\n\t\n\t\t\t\tif ( data.name !== undefined ) object.name = data.name;\n\t\t\t\tif ( data.matrix !== undefined ) {\n\t\n\t\t\t\t\tmatrix.fromArray( data.matrix );\n\t\t\t\t\tmatrix.decompose( object.position, object.quaternion, object.scale );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\t\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\t\n\t\t\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\t\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\n\t\t\t\tif ( data.children !== undefined ) {\n\t\n\t\t\t\t\tfor ( var child in data.children ) {\n\t\n\t\t\t\t\t\tobject.add( this.parseObject( data.children[ child ], geometries, materials ) );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( data.type === 'LOD' ) {\n\t\n\t\t\t\t\tvar levels = data.levels;\n\t\n\t\t\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\t\n\t\t\t\t\t\tvar level = levels[ l ];\n\t\t\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\t\n\t\t\t\t\t\tif ( child !== undefined ) {\n\t\n\t\t\t\t\t\t\tobject.addLevel( child, level.distance );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn object;\n\t\n\t\t\t}\n\t\n\t\t}()\n\t\n\t};\n\t\n\t// File:src/loaders/TextureLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.TextureLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\n\t};\n\t\n\tTHREE.TextureLoader.prototype = {\n\t\n\t\tconstructor: THREE.TextureLoader,\n\t\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar texture = new THREE.Texture();\n\t\n\t\t\tvar loader = new THREE.ImageLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\t\tloader.load( url, function ( image ) {\n\t\n\t\t\t\ttexture.image = image;\n\t\t\t\ttexture.needsUpdate = true;\n\t\n\t\t\t\tif ( onLoad !== undefined ) {\n\t\n\t\t\t\t\tonLoad( texture );\n\t\n\t\t\t\t}\n\t\n\t\t\t}, onProgress, onError );\n\t\n\t\t\treturn texture;\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/CubeTextureLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.CubeTextureLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\n\t};\n\t\n\tTHREE.CubeTextureLoader.prototype = {\n\t\n\t\tconstructor: THREE.CubeTextureLoader,\n\t\n\t\tload: function ( urls, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar texture = new THREE.CubeTexture( [] );\n\t\n\t\t\tvar loader = new THREE.ImageLoader();\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\n\t\t\tvar loaded = 0;\n\t\n\t\t\tfunction loadTexture( i ) {\n\t\n\t\t\t\tloader.load( urls[ i ], function ( image ) {\n\t\n\t\t\t\t\ttexture.images[ i ] = image;\n\t\n\t\t\t\t\tloaded ++;\n\t\n\t\t\t\t\tif ( loaded === 6 ) {\n\t\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\t\n\t\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}, undefined, onError );\n\t\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\t\n\t\t\t\tloadTexture( i );\n\t\n\t\t\t}\n\t\n\t\t\treturn texture;\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/BinaryTextureLoader.js\n\t\n\t/**\n\t * @author Nikos M. / https://github.com/foo123/\n\t *\n\t * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n\t */\n\t\n\tTHREE.DataTextureLoader = THREE.BinaryTextureLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\n\t\t// override in sub classes\n\t\tthis._parser = null;\n\t\n\t};\n\t\n\tTHREE.BinaryTextureLoader.prototype = {\n\t\n\t\tconstructor: THREE.BinaryTextureLoader,\n\t\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar texture = new THREE.DataTexture();\n\t\n\t\t\tvar loader = new THREE.XHRLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\t\n\t\t\tloader.load( url, function ( buffer ) {\n\t\n\t\t\t\tvar texData = scope._parser( buffer );\n\t\n\t\t\t\tif ( ! texData ) return;\n\t\n\t\t\t\tif ( undefined !== texData.image ) {\n\t\n\t\t\t\t\ttexture.image = texData.image;\n\t\n\t\t\t\t} else if ( undefined !== texData.data ) {\n\t\n\t\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\t\ttexture.image.data = texData.data;\n\t\n\t\t\t\t}\n\t\n\t\t\t\ttexture.wrapS = undefined !== texData.wrapS ? texData.wrapS : THREE.ClampToEdgeWrapping;\n\t\t\t\ttexture.wrapT = undefined !== texData.wrapT ? texData.wrapT : THREE.ClampToEdgeWrapping;\n\t\n\t\t\t\ttexture.magFilter = undefined !== texData.magFilter ? texData.magFilter : THREE.LinearFilter;\n\t\t\t\ttexture.minFilter = undefined !== texData.minFilter ? texData.minFilter : THREE.LinearMipMapLinearFilter;\n\t\n\t\t\t\ttexture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;\n\t\n\t\t\t\tif ( undefined !== texData.format ) {\n\t\n\t\t\t\t\ttexture.format = texData.format;\n\t\n\t\t\t\t}\n\t\t\t\tif ( undefined !== texData.type ) {\n\t\n\t\t\t\t\ttexture.type = texData.type;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( undefined !== texData.mipmaps ) {\n\t\n\t\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( 1 === texData.mipmapCount ) {\n\t\n\t\t\t\t\ttexture.minFilter = THREE.LinearFilter;\n\t\n\t\t\t\t}\n\t\n\t\t\t\ttexture.needsUpdate = true;\n\t\n\t\t\t\tif ( onLoad ) onLoad( texture, texData );\n\t\n\t\t\t}, onProgress, onError );\n\t\n\t\n\t\t\treturn texture;\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/loaders/CompressedTextureLoader.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t *\n\t * Abstract Base class to block based textures loader (dds, pvr, ...)\n\t */\n\t\n\tTHREE.CompressedTextureLoader = function ( manager ) {\n\t\n\t\tthis.manager = ( manager !== undefined ) ? manager : THREE.DefaultLoadingManager;\n\t\n\t\t// override in sub classes\n\t\tthis._parser = null;\n\t\n\t};\n\t\n\t\n\tTHREE.CompressedTextureLoader.prototype = {\n\t\n\t\tconstructor: THREE.CompressedTextureLoader,\n\t\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\t\n\t\t\tvar scope = this;\n\t\n\t\t\tvar images = [];\n\t\n\t\t\tvar texture = new THREE.CompressedTexture();\n\t\t\ttexture.image = images;\n\t\n\t\t\tvar loader = new THREE.XHRLoader( this.manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\t\n\t\t\tif ( Array.isArray( url ) ) {\n\t\n\t\t\t\tvar loaded = 0;\n\t\n\t\t\t\tvar loadTexture = function ( i ) {\n\t\n\t\t\t\t\tloader.load( url[ i ], function ( buffer ) {\n\t\n\t\t\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\t\n\t\t\t\t\t\timages[ i ] = {\n\t\t\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t\t\t};\n\t\n\t\t\t\t\t\tloaded += 1;\n\t\n\t\t\t\t\t\tif ( loaded === 6 ) {\n\t\n\t\t\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t \t\t\t\t\t\t\ttexture.minFilter = THREE.LinearFilter;\n\t\n\t\t\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\t\t\ttexture.needsUpdate = true;\n\t\n\t\t\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}, onProgress, onError );\n\t\n\t\t\t\t};\n\t\n\t\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\t\n\t\t\t\t\tloadTexture( i );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// compressed cubemap texture stored in a single DDS file\n\t\n\t\t\t\tloader.load( url, function ( buffer ) {\n\t\n\t\t\t\t\tvar texDatas = scope._parser( buffer, true );\n\t\n\t\t\t\t\tif ( texDatas.isCubemap ) {\n\t\n\t\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\t\n\t\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\t\n\t\t\t\t\t\t\timages[ f ] = { mipmaps : [] };\n\t\n\t\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\t\n\t\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\t\n\t\t\t\t\t\ttexture.minFilter = THREE.LinearFilter;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\t\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\t\n\t\t\t\t}, onProgress, onError );\n\t\n\t\t\t}\n\t\n\t\t\treturn texture;\n\t\n\t\t},\n\t\n\t\tsetCrossOrigin: function ( value ) {\n\t\n\t\t\tthis.crossOrigin = value;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/materials/Material.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Material = function () {\n\t\n\t\tObject.defineProperty( this, 'id', { value: THREE.MaterialIdCount ++ } );\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.name = '';\n\t\tthis.type = 'Material';\n\t\n\t\tthis.side = THREE.FrontSide;\n\t\n\t\tthis.opacity = 1;\n\t\tthis.transparent = false;\n\t\n\t\tthis.blending = THREE.NormalBlending;\n\t\n\t\tthis.blendSrc = THREE.SrcAlphaFactor;\n\t\tthis.blendDst = THREE.OneMinusSrcAlphaFactor;\n\t\tthis.blendEquation = THREE.AddEquation;\n\t\tthis.blendSrcAlpha = null;\n\t\tthis.blendDstAlpha = null;\n\t\tthis.blendEquationAlpha = null;\n\t\n\t\tthis.depthFunc = THREE.LessEqualDepth;\n\t\tthis.depthTest = true;\n\t\tthis.depthWrite = true;\n\t\n\t\tthis.colorWrite = true;\n\t\n\t\tthis.precision = null; // override the renderer's default precision for this material\n\t\n\t\tthis.polygonOffset = false;\n\t\tthis.polygonOffsetFactor = 0;\n\t\tthis.polygonOffsetUnits = 0;\n\t\n\t\tthis.alphaTest = 0;\n\t\n\t\tthis.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\n\t\n\t\tthis.visible = true;\n\t\n\t\tthis._needsUpdate = true;\n\t\n\t};\n\t\n\tTHREE.Material.prototype = {\n\t\n\t\tconstructor: THREE.Material,\n\t\n\t\tget needsUpdate () {\n\t\n\t\t\treturn this._needsUpdate;\n\t\n\t\t},\n\t\n\t\tset needsUpdate ( value ) {\n\t\n\t\t\tif ( value === true ) this.update();\n\t\n\t\t\tthis._needsUpdate = value;\n\t\n\t\t},\n\t\n\t\tsetValues: function ( values ) {\n\t\n\t\t\tif ( values === undefined ) return;\n\t\n\t\t\tfor ( var key in values ) {\n\t\n\t\t\t\tvar newValue = values[ key ];\n\t\n\t\t\t\tif ( newValue === undefined ) {\n\t\n\t\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\t\tcontinue;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar currentValue = this[ key ];\n\t\n\t\t\t\tif ( currentValue === undefined ) {\n\t\n\t\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\t\tcontinue;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( currentValue instanceof THREE.Color ) {\n\t\n\t\t\t\t\tcurrentValue.set( newValue );\n\t\n\t\t\t\t} else if ( currentValue instanceof THREE.Vector3 && newValue instanceof THREE.Vector3 ) {\n\t\n\t\t\t\t\tcurrentValue.copy( newValue );\n\t\n\t\t\t\t} else if ( key === 'overdraw' ) {\n\t\n\t\t\t\t\t// ensure overdraw is backwards-compatible with legacy boolean type\n\t\t\t\t\tthis[ key ] = Number( newValue );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis[ key ] = newValue;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\ttoJSON: function ( meta ) {\n\t\n\t\t\tvar data = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.4,\n\t\t\t\t\ttype: 'Material',\n\t\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\t// standard Material serialization\n\t\t\tdata.uuid = this.uuid;\n\t\t\tdata.type = this.type;\n\t\t\tif ( this.name !== '' ) data.name = this.name;\n\t\n\t\t\tif ( this.color instanceof THREE.Color ) data.color = this.color.getHex();\n\t\t\tif ( this.emissive instanceof THREE.Color ) data.emissive = this.emissive.getHex();\n\t\t\tif ( this.specular instanceof THREE.Color ) data.specular = this.specular.getHex();\n\t\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\n\t\t\tif ( this.map instanceof THREE.Texture ) data.map = this.map.toJSON( meta ).uuid;\n\t\t\tif ( this.alphaMap instanceof THREE.Texture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\t\tif ( this.lightMap instanceof THREE.Texture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tif ( this.bumpMap instanceof THREE.Texture ) {\n\t\n\t\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\t\tdata.bumpScale = this.bumpScale;\n\t\n\t\t\t}\n\t\t\tif ( this.normalMap instanceof THREE.Texture ) {\n\t\n\t\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\t\tdata.normalScale = this.normalScale; // Removed for now, causes issue in editor ui.js\n\t\n\t\t\t}\n\t\t\tif ( this.displacementMap instanceof THREE.Texture ) {\n\t\n\t\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\t\tdata.displacementBias = this.displacementBias;\n\t\n\t\t\t}\n\t\t\tif ( this.specularMap instanceof THREE.Texture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\t\t\tif ( this.envMap instanceof THREE.Texture ) {\n\t\n\t\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\t\n\t\t\tif ( this.vertexColors !== undefined && this.vertexColors !== THREE.NoColors ) data.vertexColors = this.vertexColors;\n\t\t\tif ( this.shading !== undefined && this.shading !== THREE.SmoothShading ) data.shading = this.shading;\n\t\t\tif ( this.blending !== undefined && this.blending !== THREE.NormalBlending ) data.blending = this.blending;\n\t\t\tif ( this.side !== undefined && this.side !== THREE.FrontSide ) data.side = this.side;\n\t\n\t\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\t\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\n\t\t\treturn data;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tthis.name = source.name;\n\t\n\t\t\tthis.side = source.side;\n\t\n\t\t\tthis.opacity = source.opacity;\n\t\t\tthis.transparent = source.transparent;\n\t\n\t\t\tthis.blending = source.blending;\n\t\n\t\t\tthis.blendSrc = source.blendSrc;\n\t\t\tthis.blendDst = source.blendDst;\n\t\t\tthis.blendEquation = source.blendEquation;\n\t\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\t\n\t\t\tthis.depthFunc = source.depthFunc;\n\t\t\tthis.depthTest = source.depthTest;\n\t\t\tthis.depthWrite = source.depthWrite;\n\t\n\t\t\tthis.precision = source.precision;\n\t\n\t\t\tthis.polygonOffset = source.polygonOffset;\n\t\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\t\n\t\t\tthis.alphaTest = source.alphaTest;\n\t\n\t\t\tthis.overdraw = source.overdraw;\n\t\n\t\t\tthis.visible = source.visible;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tupdate: function () {\n\t\n\t\t\tthis.dispatchEvent( { type: 'update' } );\n\t\n\t\t},\n\t\n\t\tdispose: function () {\n\t\n\t\t\tthis.dispatchEvent( { type: 'dispose' } );\n\t\n\t\t},\n\t\n\t\t// Deprecated\n\t\n\t\tget wrapAround () {\n\t\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .wrapAround has been removed.' );\n\t\n\t\t},\n\t\n\t\tset wrapAround ( boolean ) {\n\t\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .wrapAround has been removed.' );\n\t\n\t\t},\n\t\n\t\tget wrapRGB () {\n\t\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .wrapRGB has been removed.' );\n\t\t\treturn new THREE.Color();\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.Material.prototype );\n\t\n\tTHREE.MaterialIdCount = 0;\n\t\n\t// File:src/materials/LineBasicMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  color: <hex>,\n\t *  opacity: <float>,\n\t *\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  linewidth: <float>,\n\t *  linecap: \"round\",\n\t *  linejoin: \"round\",\n\t *\n\t *  vertexColors: <bool>\n\t *\n\t *  fog: <bool>\n\t * }\n\t */\n\t\n\tTHREE.LineBasicMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'LineBasicMaterial';\n\t\n\t\tthis.color = new THREE.Color( 0xffffff );\n\t\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\t\n\t\tthis.vertexColors = THREE.NoColors;\n\t\n\t\tthis.fog = true;\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.LineBasicMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.LineBasicMaterial.prototype.constructor = THREE.LineBasicMaterial;\n\t\n\tTHREE.LineBasicMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.color.copy( source.color );\n\t\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\t\n\t\tthis.vertexColors = source.vertexColors;\n\t\n\t\tthis.fog = source.fog;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/materials/LineDashedMaterial.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  color: <hex>,\n\t *  opacity: <float>,\n\t *\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  linewidth: <float>,\n\t *\n\t *  scale: <float>,\n\t *  dashSize: <float>,\n\t *  gapSize: <float>,\n\t *\n\t *  vertexColors: <bool>\n\t *\n\t *  fog: <bool>\n\t * }\n\t */\n\t\n\tTHREE.LineDashedMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'LineDashedMaterial';\n\t\n\t\tthis.color = new THREE.Color( 0xffffff );\n\t\n\t\tthis.linewidth = 1;\n\t\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\t\n\t\tthis.vertexColors = false;\n\t\n\t\tthis.fog = true;\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.LineDashedMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.LineDashedMaterial.prototype.constructor = THREE.LineDashedMaterial;\n\t\n\tTHREE.LineDashedMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.color.copy( source.color );\n\t\t\n\t\tthis.linewidth = source.linewidth;\n\t\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\t\n\t\tthis.vertexColors = source.vertexColors;\n\t\n\t\tthis.fog = source.fog;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/materials/MeshBasicMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  color: <hex>,\n\t *  opacity: <float>,\n\t *  map: new THREE.Texture( <Image> ),\n\t *\n\t *  aoMap: new THREE.Texture( <Image> ),\n\t *  aoMapIntensity: <float>\n\t *\n\t *  specularMap: new THREE.Texture( <Image> ),\n\t *\n\t *  alphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n\t *  combine: THREE.Multiply,\n\t *  reflectivity: <float>,\n\t *  refractionRatio: <float>,\n\t *\n\t *  shading: THREE.SmoothShading,\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  wireframe: <boolean>,\n\t *  wireframeLinewidth: <float>,\n\t *\n\t *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,\n\t *\n\t *  skinning: <bool>,\n\t *  morphTargets: <bool>,\n\t *\n\t *  fog: <bool>\n\t * }\n\t */\n\t\n\tTHREE.MeshBasicMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'MeshBasicMaterial';\n\t\n\t\tthis.color = new THREE.Color( 0xffffff ); // emissive\n\t\n\t\tthis.map = null;\n\t\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\t\n\t\tthis.specularMap = null;\n\t\n\t\tthis.alphaMap = null;\n\t\n\t\tthis.envMap = null;\n\t\tthis.combine = THREE.MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\t\n\t\tthis.fog = true;\n\t\n\t\tthis.shading = THREE.SmoothShading;\n\t\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\t\n\t\tthis.vertexColors = THREE.NoColors;\n\t\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.MeshBasicMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.MeshBasicMaterial.prototype.constructor = THREE.MeshBasicMaterial;\n\t\n\tTHREE.MeshBasicMaterial.prototype.copy = function ( source ) {\n\t\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.color.copy( source.color );\n\t\n\t\tthis.map = source.map;\n\t\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\n\t\tthis.specularMap = source.specularMap;\n\t\n\t\tthis.alphaMap = source.alphaMap;\n\t\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\t\n\t\tthis.fog = source.fog;\n\t\n\t\tthis.shading = source.shading;\n\t\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\n\t\tthis.vertexColors = source.vertexColors;\n\t\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/materials/MeshLambertMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  color: <hex>,\n\t *  emissive: <hex>,\n\t *  opacity: <float>,\n\t *\n\t *  map: new THREE.Texture( <Image> ),\n\t *\n\t *  specularMap: new THREE.Texture( <Image> ),\n\t *\n\t *  alphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n\t *  combine: THREE.Multiply,\n\t *  reflectivity: <float>,\n\t *  refractionRatio: <float>,\n\t *\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  wireframe: <boolean>,\n\t *  wireframeLinewidth: <float>,\n\t *\n\t *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,\n\t *\n\t *  skinning: <bool>,\n\t *  morphTargets: <bool>,\n\t *  morphNormals: <bool>,\n\t *\n\t *\tfog: <bool>\n\t * }\n\t */\n\t\n\tTHREE.MeshLambertMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'MeshLambertMaterial';\n\t\n\t\tthis.color = new THREE.Color( 0xffffff ); // diffuse\n\t\tthis.emissive = new THREE.Color( 0x000000 );\n\t\n\t\tthis.map = null;\n\t\n\t\tthis.specularMap = null;\n\t\n\t\tthis.alphaMap = null;\n\t\n\t\tthis.envMap = null;\n\t\tthis.combine = THREE.MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\t\n\t\tthis.fog = true;\n\t\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\t\n\t\tthis.vertexColors = THREE.NoColors;\n\t\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.MeshLambertMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.MeshLambertMaterial.prototype.constructor = THREE.MeshLambertMaterial;\n\t\n\tTHREE.MeshLambertMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.color.copy( source.color );\n\t\tthis.emissive.copy( source.emissive );\n\t\n\t\tthis.map = source.map;\n\t\n\t\tthis.specularMap = source.specularMap;\n\t\n\t\tthis.alphaMap = source.alphaMap;\n\t\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\t\n\t\tthis.fog = source.fog;\n\t\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\n\t\tthis.vertexColors = source.vertexColors;\n\t\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/materials/MeshPhongMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  color: <hex>,\n\t *  emissive: <hex>,\n\t *  specular: <hex>,\n\t *  shininess: <float>,\n\t *  opacity: <float>,\n\t *\n\t *  map: new THREE.Texture( <Image> ),\n\t *\n\t *  lightMap: new THREE.Texture( <Image> ),\n\t *  lightMapIntensity: <float>\n\t *\n\t *  aoMap: new THREE.Texture( <Image> ),\n\t *  aoMapIntensity: <float>\n\t *\n\t *  emissiveMap: new THREE.Texture( <Image> ),\n\t *\n\t *  bumpMap: new THREE.Texture( <Image> ),\n\t *  bumpScale: <float>,\n\t *\n\t *  normalMap: new THREE.Texture( <Image> ),\n\t *  normalScale: <Vector2>,\n\t *\n\t *  displacementMap: new THREE.Texture( <Image> ),\n\t *  displacementScale: <float>,\n\t *  displacementBias: <float>,\n\t *\n\t *  specularMap: new THREE.Texture( <Image> ),\n\t *\n\t *  alphaMap: new THREE.Texture( <Image> ),\n\t *\n\t *  envMap: new THREE.TextureCube( [posx, negx, posy, negy, posz, negz] ),\n\t *  combine: THREE.Multiply,\n\t *  reflectivity: <float>,\n\t *  refractionRatio: <float>,\n\t *\n\t *  shading: THREE.SmoothShading,\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  wireframe: <boolean>,\n\t *  wireframeLinewidth: <float>,\n\t *\n\t *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,\n\t *\n\t *  skinning: <bool>,\n\t *  morphTargets: <bool>,\n\t *  morphNormals: <bool>,\n\t *\n\t *\tfog: <bool>\n\t * }\n\t */\n\t\n\tTHREE.MeshPhongMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'MeshPhongMaterial';\n\t\n\t\tthis.color = new THREE.Color( 0xffffff ); // diffuse\n\t\tthis.emissive = new THREE.Color( 0x000000 );\n\t\tthis.specular = new THREE.Color( 0x111111 );\n\t\tthis.shininess = 30;\n\t\n\t\tthis.metal = false;\n\t\n\t\tthis.map = null;\n\t\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\t\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\t\n\t\tthis.emissiveMap = null;\n\t\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\t\n\t\tthis.normalMap = null;\n\t\tthis.normalScale = new THREE.Vector2( 1, 1 );\n\t\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\t\n\t\tthis.specularMap = null;\n\t\n\t\tthis.alphaMap = null;\n\t\n\t\tthis.envMap = null;\n\t\tthis.combine = THREE.MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\t\n\t\tthis.fog = true;\n\t\n\t\tthis.shading = THREE.SmoothShading;\n\t\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\t\n\t\tthis.vertexColors = THREE.NoColors;\n\t\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\t\tthis.morphNormals = false;\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.MeshPhongMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.MeshPhongMaterial.prototype.constructor = THREE.MeshPhongMaterial;\n\t\n\tTHREE.MeshPhongMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.color.copy( source.color );\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\t\n\t\tthis.metal = source.metal;\n\t\n\t\tthis.map = source.map;\n\t\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\t\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\t\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\t\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalScale.copy( source.normalScale );\n\t\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\t\n\t\tthis.specularMap = source.specularMap;\n\t\n\t\tthis.alphaMap = source.alphaMap;\n\t\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\t\n\t\tthis.fog = source.fog;\n\t\n\t\tthis.shading = source.shading;\n\t\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\t\n\t\tthis.vertexColors = source.vertexColors;\n\t\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/materials/MeshDepthMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  opacity: <float>,\n\t *\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  wireframe: <boolean>,\n\t *  wireframeLinewidth: <float>\n\t * }\n\t */\n\t\n\tTHREE.MeshDepthMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'MeshDepthMaterial';\n\t\n\t\tthis.morphTargets = false;\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.MeshDepthMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.MeshDepthMaterial.prototype.constructor = THREE.MeshDepthMaterial;\n\t\n\tTHREE.MeshDepthMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/materials/MeshNormalMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t *\n\t * parameters = {\n\t *  opacity: <float>,\n\t *\n\t *  shading: THREE.FlatShading,\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  wireframe: <boolean>,\n\t *  wireframeLinewidth: <float>\n\t * }\n\t */\n\t\n\tTHREE.MeshNormalMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this, parameters );\n\t\n\t\tthis.type = 'MeshNormalMaterial';\n\t\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\n\t\tthis.morphTargets = false;\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.MeshNormalMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.MeshNormalMaterial.prototype.constructor = THREE.MeshNormalMaterial;\n\t\n\tTHREE.MeshNormalMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/materials/MultiMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.MultiMaterial = function ( materials ) {\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.type = 'MultiMaterial';\n\t\n\t\tthis.materials = materials instanceof Array ? materials : [];\n\t\n\t\tthis.visible = true;\n\t\n\t};\n\t\n\tTHREE.MultiMaterial.prototype = {\n\t\n\t\tconstructor: THREE.MultiMaterial,\n\t\n\t\ttoJSON: function () {\n\t\n\t\t\tvar output = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.2,\n\t\t\t\t\ttype: 'material',\n\t\t\t\t\tgenerator: 'MaterialExporter'\n\t\t\t\t},\n\t\t\t\tuuid: this.uuid,\n\t\t\t\ttype: this.type,\n\t\t\t\tmaterials: []\n\t\t\t};\n\t\n\t\t\tfor ( var i = 0, l = this.materials.length; i < l; i ++ ) {\n\t\n\t\t\t\toutput.materials.push( this.materials[ i ].toJSON() );\n\t\n\t\t\t}\n\t\n\t\t\toutput.visible = this.visible;\n\t\n\t\t\treturn output;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\tvar material = new this.constructor();\n\t\n\t\t\tfor ( var i = 0; i < this.materials.length; i ++ ) {\n\t\n\t\t\t\tmaterial.materials.push( this.materials[ i ].clone() );\n\t\n\t\t\t}\n\t\n\t\t\tmaterial.visible = this.visible;\n\t\n\t\t\treturn material;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// backwards compatibility\n\t\n\tTHREE.MeshFaceMaterial = THREE.MultiMaterial;\n\t\n\t// File:src/materials/PointsMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  color: <hex>,\n\t *  opacity: <float>,\n\t *  map: new THREE.Texture( <Image> ),\n\t *\n\t *  size: <float>,\n\t *  sizeAttenuation: <bool>,\n\t *\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  vertexColors: <bool>,\n\t *\n\t *  fog: <bool>\n\t * }\n\t */\n\t\n\tTHREE.PointsMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'PointsMaterial';\n\t\n\t\tthis.color = new THREE.Color( 0xffffff );\n\t\n\t\tthis.map = null;\n\t\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\t\n\t\tthis.vertexColors = THREE.NoColors;\n\t\n\t\tthis.fog = true;\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.PointsMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.PointsMaterial.prototype.constructor = THREE.PointsMaterial;\n\t\n\tTHREE.PointsMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.color.copy( source.color );\n\t\n\t\tthis.map = source.map;\n\t\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\t\n\t\tthis.vertexColors = source.vertexColors;\n\t\n\t\tthis.fog = source.fog;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// backwards compatibility\n\t\n\tTHREE.PointCloudMaterial = function ( parameters ) {\n\t\n\t\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\t\treturn new THREE.PointsMaterial( parameters );\n\t\n\t};\n\t\n\tTHREE.ParticleBasicMaterial = function ( parameters ) {\n\t\n\t\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\t\treturn new THREE.PointsMaterial( parameters );\n\t\n\t};\n\t\n\tTHREE.ParticleSystemMaterial = function ( parameters ) {\n\t\n\t\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\t\treturn new THREE.PointsMaterial( parameters );\n\t\n\t};\n\t\n\t// File:src/materials/ShaderMaterial.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  defines: { \"label\" : \"value\" },\n\t *  uniforms: { \"parameter1\": { type: \"f\", value: 1.0 }, \"parameter2\": { type: \"i\" value2: 2 } },\n\t *\n\t *  fragmentShader: <string>,\n\t *  vertexShader: <string>,\n\t *\n\t *  shading: THREE.SmoothShading,\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *  wireframe: <boolean>,\n\t *  wireframeLinewidth: <float>,\n\t *\n\t *  lights: <bool>,\n\t *\n\t *  vertexColors: THREE.NoColors / THREE.VertexColors / THREE.FaceColors,\n\t *\n\t *  skinning: <bool>,\n\t *  morphTargets: <bool>,\n\t *  morphNormals: <bool>,\n\t *\n\t *\tfog: <bool>\n\t * }\n\t */\n\t\n\tTHREE.ShaderMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'ShaderMaterial';\n\t\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\t\n\t\tthis.vertexShader = 'void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}';\n\t\tthis.fragmentShader = 'void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}';\n\t\n\t\tthis.shading = THREE.SmoothShading;\n\t\n\t\tthis.linewidth = 1;\n\t\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\n\t\tthis.fog = false; // set to use scene fog\n\t\n\t\tthis.lights = false; // set to use scene lights\n\t\n\t\tthis.vertexColors = THREE.NoColors; // set to use \"color\" attribute stream\n\t\n\t\tthis.skinning = false; // set to use skinning attribute streams\n\t\n\t\tthis.morphTargets = false; // set to use morph targets\n\t\tthis.morphNormals = false; // set to use morph normals\n\t\n\t\tthis.derivatives = false; // set to use derivatives\n\t\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\t\n\t\tthis.index0AttributeName = undefined;\n\t\n\t\tif ( parameters !== undefined ) {\n\t\n\t\t\tif ( parameters.attributes !== undefined ) {\n\t\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\t\n\t\t\t}\n\t\n\t\t\tthis.setValues( parameters );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.ShaderMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.ShaderMaterial.prototype.constructor = THREE.ShaderMaterial;\n\t\n\tTHREE.ShaderMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\t\n\t\tthis.uniforms = THREE.UniformsUtils.clone( source.uniforms );\n\t\n\t\tthis.attributes = source.attributes;\n\t\tthis.defines = source.defines;\n\t\n\t\tthis.shading = source.shading;\n\t\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\n\t\tthis.fog = source.fog;\n\t\n\t\tthis.lights = source.lights;\n\t\n\t\tthis.vertexColors = source.vertexColors;\n\t\n\t\tthis.skinning = source.skinning;\n\t\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\t\n\t\tthis.derivatives = source.derivatives;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\tTHREE.ShaderMaterial.prototype.toJSON = function ( meta ) {\n\t\n\t\tvar data = THREE.Material.prototype.toJSON.call( this, meta );\n\t\n\t\tdata.uniforms = this.uniforms;\n\t\tdata.attributes = this.attributes;\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\t\n\t\treturn data;\n\t\n\t};\n\t\n\t// File:src/materials/RawShaderMaterial.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.RawShaderMaterial = function ( parameters ) {\n\t\n\t\tTHREE.ShaderMaterial.call( this, parameters );\n\t\n\t\tthis.type = 'RawShaderMaterial';\n\t\n\t};\n\t\n\tTHREE.RawShaderMaterial.prototype = Object.create( THREE.ShaderMaterial.prototype );\n\tTHREE.RawShaderMaterial.prototype.constructor = THREE.RawShaderMaterial;\n\t// File:src/materials/SpriteMaterial.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t * parameters = {\n\t *  color: <hex>,\n\t *  opacity: <float>,\n\t *  map: new THREE.Texture( <Image> ),\n\t *\n\t *  blending: THREE.NormalBlending,\n\t *  depthTest: <bool>,\n\t *  depthWrite: <bool>,\n\t *\n\t *\tuvOffset: new THREE.Vector2(),\n\t *\tuvScale: new THREE.Vector2(),\n\t *\n\t *  fog: <bool>\n\t * }\n\t */\n\t\n\tTHREE.SpriteMaterial = function ( parameters ) {\n\t\n\t\tTHREE.Material.call( this );\n\t\n\t\tthis.type = 'SpriteMaterial';\n\t\n\t\tthis.color = new THREE.Color( 0xffffff );\n\t\tthis.map = null;\n\t\n\t\tthis.rotation = 0;\n\t\n\t\tthis.fog = false;\n\t\n\t\t// set parameters\n\t\n\t\tthis.setValues( parameters );\n\t\n\t};\n\t\n\tTHREE.SpriteMaterial.prototype = Object.create( THREE.Material.prototype );\n\tTHREE.SpriteMaterial.prototype.constructor = THREE.SpriteMaterial;\n\t\n\tTHREE.SpriteMaterial.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Material.prototype.copy.call( this, source );\n\t\n\t\tthis.color.copy( source.color );\n\t\tthis.map = source.map;\n\t\n\t\tthis.rotation = source.rotation;\n\t\n\t\tthis.fog = source.fog;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/textures/Texture.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author szimek / https://github.com/szimek/\n\t */\n\t\n\tTHREE.Texture = function ( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\t\n\t\tObject.defineProperty( this, 'id', { value: THREE.TextureIdCount ++ } );\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.name = '';\n\t\tthis.sourceFile = '';\n\t\n\t\tthis.image = image !== undefined ? image : THREE.Texture.DEFAULT_IMAGE;\n\t\tthis.mipmaps = [];\n\t\n\t\tthis.mapping = mapping !== undefined ? mapping : THREE.Texture.DEFAULT_MAPPING;\n\t\n\t\tthis.wrapS = wrapS !== undefined ? wrapS : THREE.ClampToEdgeWrapping;\n\t\tthis.wrapT = wrapT !== undefined ? wrapT : THREE.ClampToEdgeWrapping;\n\t\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : THREE.LinearFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : THREE.LinearMipMapLinearFilter;\n\t\n\t\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\t\n\t\tthis.format = format !== undefined ? format : THREE.RGBAFormat;\n\t\tthis.type = type !== undefined ? type : THREE.UnsignedByteType;\n\t\n\t\tthis.offset = new THREE.Vector2( 0, 0 );\n\t\tthis.repeat = new THREE.Vector2( 1, 1 );\n\t\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\t\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\t\n\t};\n\t\n\tTHREE.Texture.DEFAULT_IMAGE = undefined;\n\tTHREE.Texture.DEFAULT_MAPPING = THREE.UVMapping;\n\t\n\tTHREE.Texture.prototype = {\n\t\n\t\tconstructor: THREE.Texture,\n\t\n\t\tset needsUpdate ( value ) {\n\t\n\t\t\tif ( value === true ) this.version ++;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tthis.image = source.image;\n\t\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\t\n\t\t\tthis.mapping = source.mapping;\n\t\n\t\t\tthis.wrapS = source.wrapS;\n\t\t\tthis.wrapT = source.wrapT;\n\t\n\t\t\tthis.magFilter = source.magFilter;\n\t\t\tthis.minFilter = source.minFilter;\n\t\n\t\t\tthis.anisotropy = source.anisotropy;\n\t\n\t\t\tthis.format = source.format;\n\t\t\tthis.type = source.type;\n\t\n\t\t\tthis.offset.copy( source.offset );\n\t\t\tthis.repeat.copy( source.repeat );\n\t\n\t\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\t\tthis.flipY = source.flipY;\n\t\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoJSON: function ( meta ) {\n\t\n\t\t\tif ( meta.textures[ this.uuid ] !== undefined ) {\n\t\n\t\t\t\treturn meta.textures[ this.uuid ];\n\t\n\t\t\t}\n\t\n\t\t\tfunction getDataURL( image ) {\n\t\n\t\t\t\tvar canvas;\n\t\n\t\t\t\tif ( image.toDataURL !== undefined ) {\n\t\n\t\t\t\t\tcanvas = image;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tcanvas = document.createElement( 'canvas' );\n\t\t\t\t\tcanvas.width = image.width;\n\t\t\t\t\tcanvas.height = image.height;\n\t\n\t\t\t\t\tcanvas.getContext( '2d' ).drawImage( image, 0, 0, image.width, image.height );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\t\n\t\t\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\treturn canvas.toDataURL( 'image/png' );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar output = {\n\t\t\t\tmetadata: {\n\t\t\t\t\tversion: 4.4,\n\t\t\t\t\ttype: 'Texture',\n\t\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t\t},\n\t\n\t\t\t\tuuid: this.uuid,\n\t\t\t\tname: this.name,\n\t\n\t\t\t\tmapping: this.mapping,\n\t\n\t\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\t\twrap: [ this.wrapS, this.wrapT ],\n\t\n\t\t\t\tminFilter: this.minFilter,\n\t\t\t\tmagFilter: this.magFilter,\n\t\t\t\tanisotropy: this.anisotropy\n\t\t\t};\n\t\n\t\t\tif ( this.image !== undefined ) {\n\t\n\t\t\t\t// TODO: Move to THREE.Image\n\t\n\t\t\t\tvar image = this.image;\n\t\n\t\t\t\tif ( image.uuid === undefined ) {\n\t\n\t\t\t\t\timage.uuid = THREE.Math.generateUUID(); // UGH\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( meta.images[ image.uuid ] === undefined ) {\n\t\n\t\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\t\turl: getDataURL( image )\n\t\t\t\t\t};\n\t\n\t\t\t\t}\n\t\n\t\t\t\toutput.image = image.uuid;\n\t\n\t\t\t}\n\t\n\t\t\tmeta.textures[ this.uuid ] = output;\n\t\n\t\t\treturn output;\n\t\n\t\t},\n\t\n\t\tdispose: function () {\n\t\n\t\t\tthis.dispatchEvent( { type: 'dispose' } );\n\t\n\t\t},\n\t\n\t\ttransformUv: function ( uv ) {\n\t\n\t\t\tif ( this.mapping !== THREE.UVMapping )  return;\n\t\n\t\t\tuv.multiply( this.repeat );\n\t\t\tuv.add( this.offset );\n\t\n\t\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\t\n\t\t\t\tswitch ( this.wrapS ) {\n\t\n\t\t\t\t\tcase THREE.RepeatWrapping:\n\t\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase THREE.ClampToEdgeWrapping:\n\t\n\t\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase THREE.MirroredRepeatWrapping:\n\t\n\t\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\t\n\t\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\t\n\t\t\t\tswitch ( this.wrapT ) {\n\t\n\t\t\t\t\tcase THREE.RepeatWrapping:\n\t\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase THREE.ClampToEdgeWrapping:\n\t\n\t\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase THREE.MirroredRepeatWrapping:\n\t\n\t\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\t\n\t\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.flipY ) {\n\t\n\t\t\t\tuv.y = 1 - uv.y;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.Texture.prototype );\n\t\n\tTHREE.TextureIdCount = 0;\n\t\n\t// File:src/textures/CanvasTexture.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.CanvasTexture = function ( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\t\n\t\tTHREE.Texture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\t\n\t\tthis.needsUpdate = true;\n\t\n\t};\n\t\n\tTHREE.CanvasTexture.prototype = Object.create( THREE.Texture.prototype );\n\tTHREE.CanvasTexture.prototype.constructor = THREE.CanvasTexture;\n\t\n\t// File:src/textures/CubeTexture.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.CubeTexture = function ( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\t\n\t\tmapping = mapping !== undefined ? mapping : THREE.CubeReflectionMapping;\n\t\n\t\tTHREE.Texture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\t\n\t\tthis.images = images;\n\t\tthis.flipY = false;\n\t\n\t};\n\t\n\tTHREE.CubeTexture.prototype = Object.create( THREE.Texture.prototype );\n\tTHREE.CubeTexture.prototype.constructor = THREE.CubeTexture;\n\t\n\tTHREE.CubeTexture.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Texture.prototype.copy.call( this, source );\n\t\t\n\t\tthis.images = source.images;\n\t\t\n\t\treturn this;\n\t\n\t};\n\t// File:src/textures/CompressedTexture.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.CompressedTexture = function ( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy ) {\n\t\n\t\tTHREE.Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\t\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\t\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\t\n\t\tthis.flipY = false;\n\t\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\t\n\t\tthis.generateMipmaps = false;\n\t\n\t};\n\t\n\tTHREE.CompressedTexture.prototype = Object.create( THREE.Texture.prototype );\n\tTHREE.CompressedTexture.prototype.constructor = THREE.CompressedTexture;\n\t\n\t// File:src/textures/DataTexture.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.DataTexture = function ( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy ) {\n\t\n\t\tTHREE.Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\t\n\t\tthis.image = { data: data, width: width, height: height };\n\t\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : THREE.NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : THREE.NearestFilter;\n\t\t\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps  = false;\n\t\n\t};\n\t\n\tTHREE.DataTexture.prototype = Object.create( THREE.Texture.prototype );\n\tTHREE.DataTexture.prototype.constructor = THREE.DataTexture;\n\t\n\t// File:src/textures/VideoTexture.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.VideoTexture = function ( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\t\n\t\tTHREE.Texture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\t\n\t\tthis.generateMipmaps = false;\n\t\n\t\tvar scope = this;\n\t\n\t\tfunction update() {\n\t\n\t\t\trequestAnimationFrame( update );\n\t\n\t\t\tif ( video.readyState === video.HAVE_ENOUGH_DATA ) {\n\t\n\t\t\t\tscope.needsUpdate = true;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tupdate();\n\t\n\t};\n\t\n\tTHREE.VideoTexture.prototype = Object.create( THREE.Texture.prototype );\n\tTHREE.VideoTexture.prototype.constructor = THREE.VideoTexture;\n\t\n\t// File:src/objects/Group.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Group = function () {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Group';\n\t\n\t};\n\t\n\tTHREE.Group.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Group.prototype.constructor = THREE.Group;\n\t// File:src/objects/Points.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Points = function ( geometry, material ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Points';\n\t\n\t\tthis.geometry = geometry !== undefined ? geometry : new THREE.Geometry();\n\t\tthis.material = material !== undefined ? material : new THREE.PointsMaterial( { color: Math.random() * 0xffffff } );\n\t\n\t};\n\t\n\tTHREE.Points.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Points.prototype.constructor = THREE.Points;\n\t\n\tTHREE.Points.prototype.raycast = ( function () {\n\t\n\t\tvar inverseMatrix = new THREE.Matrix4();\n\t\tvar ray = new THREE.Ray();\n\t\n\t\treturn function raycast( raycaster, intersects ) {\n\t\n\t\t\tvar object = this;\n\t\t\tvar geometry = object.geometry;\n\t\t\tvar threshold = raycaster.params.Points.threshold;\n\t\n\t\t\tinverseMatrix.getInverse( this.matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\t\n\t\t\tif ( geometry.boundingBox !== null ) {\n\t\n\t\t\t\tif ( ray.isIntersectionBox( geometry.boundingBox ) === false ) {\n\t\n\t\t\t\t\treturn;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\t\tvar localThresholdSq = localThreshold * localThreshold;\n\t\t\tvar position = new THREE.Vector3();\n\t\n\t\t\tfunction testPoint( point, index ) {\n\t\n\t\t\t\tvar rayPointDistanceSq = ray.distanceSqToPoint( point );\n\t\n\t\t\t\tif ( rayPointDistanceSq < localThresholdSq ) {\n\t\n\t\t\t\t\tvar intersectPoint = ray.closestPointToPoint( point );\n\t\t\t\t\tintersectPoint.applyMatrix4( object.matrixWorld );\n\t\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\t\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\t\n\t\t\t\t\tintersects.push( {\n\t\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\t\t\t\tpoint: intersectPoint.clone(),\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tobject: object\n\t\n\t\t\t\t\t} );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\t\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\t\n\t\t\t\tif ( index !== null ) {\n\t\n\t\t\t\t\tvar indices = index.array;\n\t\n\t\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\n\t\t\t\t\t\tposition.fromArray( positions, a * 3 );\n\t\n\t\t\t\t\t\ttestPoint( position, a );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\t\n\t\t\t\t\t\tposition.fromArray( positions, i * 3 );\n\t\n\t\t\t\t\t\ttestPoint( position, i );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tvar vertices = geometry.vertices;\n\t\n\t\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\t\n\t\t\t\t\ttestPoint( vertices[ i ], i );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t}() );\n\t\n\tTHREE.Points.prototype.clone = function () {\n\t\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\t\n\t};\n\t\n\t// Backwards compatibility\n\t\n\tTHREE.PointCloud = function ( geometry, material ) {\n\t\n\t\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\t\treturn new THREE.Points( geometry, material );\n\t\n\t};\n\t\n\tTHREE.ParticleSystem = function ( geometry, material ) {\n\t\n\t\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\t\treturn new THREE.Points( geometry, material );\n\t\n\t};\n\t\n\t// File:src/objects/Line.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Line = function ( geometry, material, mode ) {\n\t\n\t\tif ( mode === 1 ) {\n\t\n\t\t\tconsole.warn( 'THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead.' );\n\t\t\treturn new THREE.LineSegments( geometry, material );\n\t\n\t\t}\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Line';\n\t\n\t\tthis.geometry = geometry !== undefined ? geometry : new THREE.Geometry();\n\t\tthis.material = material !== undefined ? material : new THREE.LineBasicMaterial( { color: Math.random() * 0xffffff } );\n\t\n\t};\n\t\n\tTHREE.Line.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Line.prototype.constructor = THREE.Line;\n\t\n\tTHREE.Line.prototype.raycast = ( function () {\n\t\n\t\tvar inverseMatrix = new THREE.Matrix4();\n\t\tvar ray = new THREE.Ray();\n\t\tvar sphere = new THREE.Sphere();\n\t\n\t\treturn function raycast( raycaster, intersects ) {\n\t\n\t\t\tvar precision = raycaster.linePrecision;\n\t\t\tvar precisionSq = precision * precision;\n\t\n\t\t\tvar geometry = this.geometry;\n\t\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\t\n\t\t\t// Checking boundingSphere distance to ray\n\t\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( this.matrixWorld );\n\t\n\t\t\tif ( raycaster.ray.isIntersectionSphere( sphere ) === false ) {\n\t\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tinverseMatrix.getInverse( this.matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\t\n\t\t\tvar vStart = new THREE.Vector3();\n\t\t\tvar vEnd = new THREE.Vector3();\n\t\t\tvar interSegment = new THREE.Vector3();\n\t\t\tvar interRay = new THREE.Vector3();\n\t\t\tvar step = this instanceof THREE.LineSegments ? 2 : 1;\n\t\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\t\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\n\t\t\t\tif ( index !== null ) {\n\t\n\t\t\t\t\tvar indices = index.array;\n\t\t\t\t\tvar positions = attributes.position.array;\n\t\n\t\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\t\n\t\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\t\tvar b = indices[ i + 1 ];\n\t\n\t\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\t\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\t\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\t\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\t\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\t\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\t\n\t\t\t\t\t\tintersects.push( {\n\t\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\t\n\t\t\t\t\t\t} );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tvar positions = attributes.position.array;\n\t\n\t\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\t\n\t\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\t\n\t\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\t\n\t\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\t\n\t\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\t\n\t\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\t\n\t\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\t\n\t\t\t\t\t\tintersects.push( {\n\t\n\t\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tface: null,\n\t\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\t\tobject: this\n\t\n\t\t\t\t\t\t} );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( geometry instanceof THREE.Geometry ) {\n\t\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar nbVertices = vertices.length;\n\t\n\t\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\t\n\t\t\t\t\tvar distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\t\n\t\t\t\t\tif ( distSq > precisionSq ) continue;\n\t\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\t\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\t\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\t\n\t\t\t\t\tintersects.push( {\n\t\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\t\n\t\t\t\t\t} );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t}() );\n\t\n\tTHREE.Line.prototype.clone = function () {\n\t\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\t\n\t};\n\t\n\t// DEPRECATED\n\t\n\tTHREE.LineStrip = 0;\n\tTHREE.LinePieces = 1;\n\t\n\t// File:src/objects/LineSegments.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.LineSegments = function ( geometry, material ) {\n\t\n\t\tTHREE.Line.call( this, geometry, material );\n\t\n\t\tthis.type = 'LineSegments';\n\t\n\t};\n\t\n\tTHREE.LineSegments.prototype = Object.create( THREE.Line.prototype );\n\tTHREE.LineSegments.prototype.constructor = THREE.LineSegments;\n\t\n\t// File:src/objects/Mesh.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author jonobr1 / http://jonobr1.com/\n\t */\n\t\n\tTHREE.Mesh = function ( geometry, material ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Mesh';\n\t\n\t\tthis.geometry = geometry !== undefined ? geometry : new THREE.Geometry();\n\t\tthis.material = material !== undefined ? material : new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff } );\n\t\n\t\tthis.updateMorphTargets();\n\t\n\t};\n\t\n\tTHREE.Mesh.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Mesh.prototype.constructor = THREE.Mesh;\n\t\n\tTHREE.Mesh.prototype.updateMorphTargets = function () {\n\t\n\t\tif ( this.geometry.morphTargets !== undefined && this.geometry.morphTargets.length > 0 ) {\n\t\n\t\t\tthis.morphTargetBase = - 1;\n\t\t\tthis.morphTargetInfluences = [];\n\t\t\tthis.morphTargetDictionary = {};\n\t\n\t\t\tfor ( var m = 0, ml = this.geometry.morphTargets.length; m < ml; m ++ ) {\n\t\n\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\tthis.morphTargetDictionary[ this.geometry.morphTargets[ m ].name ] = m;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Mesh.prototype.getMorphTargetIndexByName = function ( name ) {\n\t\n\t\tif ( this.morphTargetDictionary[ name ] !== undefined ) {\n\t\n\t\t\treturn this.morphTargetDictionary[ name ];\n\t\n\t\t}\n\t\n\t\tconsole.warn( 'THREE.Mesh.getMorphTargetIndexByName: morph target ' + name + ' does not exist. Returning 0.' );\n\t\n\t\treturn 0;\n\t\n\t};\n\t\n\t\n\tTHREE.Mesh.prototype.raycast = ( function () {\n\t\n\t\tvar inverseMatrix = new THREE.Matrix4();\n\t\tvar ray = new THREE.Ray();\n\t\tvar sphere = new THREE.Sphere();\n\t\n\t\tvar vA = new THREE.Vector3();\n\t\tvar vB = new THREE.Vector3();\n\t\tvar vC = new THREE.Vector3();\n\t\n\t\tvar tempA = new THREE.Vector3();\n\t\tvar tempB = new THREE.Vector3();\n\t\tvar tempC = new THREE.Vector3();\n\t\n\t\tvar uvA = new THREE.Vector2();\n\t\tvar uvB = new THREE.Vector2();\n\t\tvar uvC = new THREE.Vector2();\n\t\n\t\tvar barycoord = new THREE.Vector3();\n\t\n\t\tvar intersectionPoint = new THREE.Vector3();\n\t\tvar intersectionPointWorld = new THREE.Vector3();\n\t\n\t\tfunction uvIntersection( point, p1, p2, p3, uv1, uv2, uv3 ) {\n\t\n\t\t\tTHREE.Triangle.barycoordFromPoint( point, p1, p2, p3, barycoord );\n\t\n\t\t\tuv1.multiplyScalar( barycoord.x );\n\t\t\tuv2.multiplyScalar( barycoord.y );\n\t\t\tuv3.multiplyScalar( barycoord.z );\n\t\n\t\t\tuv1.add( uv2 ).add( uv3 );\n\t\n\t\t\treturn uv1.clone();\n\t\n\t\t}\n\t\n\t\tfunction checkIntersection( object, raycaster, ray, pA, pB, pC, point ){\n\t\n\t\t\tvar intersect;\n\t\t\tvar material = object.material;\n\t\n\t\t\tif ( material.side === THREE.BackSide ) {\n\t\n\t\t\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== THREE.DoubleSide, point );\n\t\n\t\t\t}\n\t\n\t\t\tif ( intersect === null ) return null;\n\t\n\t\t\tintersectionPointWorld.copy( point );\n\t\t\tintersectionPointWorld.applyMatrix4( object.matrixWorld );\n\t\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\n\t\n\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\t\n\t\t\treturn {\n\t\t\t\tdistance: distance,\n\t\t\t\tpoint: intersectionPointWorld.clone(),\n\t\t\t\tobject: object\n\t\t\t};\n\t\n\t\t}\n\t\n\t\tfunction checkBufferGeometryIntersection( object, raycaster, ray, positions, uvs, a, b, c ) {\n\t\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\t\n\t\t\tvar intersection = checkIntersection( object, raycaster, ray, vA, vB, vC, intersectionPoint );\n\t\n\t\t\tif ( intersection ) {\n\t\n\t\t\t\tif ( uvs ) {\n\t\n\t\t\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\t\t\tuvC.fromArray( uvs, c * 2 );\n\t\n\t\t\t\t\tintersection.uv = uvIntersection( intersectionPoint,  vA, vB, vC,  uvA, uvB, uvC );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tintersection.face = new THREE.Face3( a, b, c, THREE.Triangle.normal( vA, vB, vC ) );\n\t\t\t\tintersection.faceIndex = a;\n\t\n\t\t\t}\n\t\n\t\t\treturn intersection;\n\t\n\t\t}\n\t\n\t\treturn function raycast( raycaster, intersects ) {\n\t\n\t\t\tvar geometry = this.geometry;\n\t\t\tvar material = this.material;\n\t\n\t\t\tif ( material === undefined ) return;\n\t\n\t\t\t// Checking boundingSphere distance to ray\n\t\n\t\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\t\n\t\t\tvar matrixWorld = this.matrixWorld;\n\t\n\t\t\tsphere.copy( geometry.boundingSphere );\n\t\t\tsphere.applyMatrix4( matrixWorld );\n\t\n\t\t\tif ( raycaster.ray.isIntersectionSphere( sphere ) === false ) return;\n\t\n\t\t\t// Check boundingBox before continuing\n\t\n\t\t\tinverseMatrix.getInverse( matrixWorld );\n\t\t\tray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\n\t\n\t\t\tif ( geometry.boundingBox !== null ) {\n\t\n\t\t\t\tif ( ray.isIntersectionBox( geometry.boundingBox ) === false ) return;\n\t\n\t\t\t}\n\t\n\t\t\tvar uvs, intersection;\n\t\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\t\n\t\t\t\tvar a, b, c;\n\t\t\t\tvar index = geometry.index;\n\t\t\t\tvar attributes = geometry.attributes;\n\t\t\t\tvar positions = attributes.position.array;\n\t\n\t\t\t\tif ( attributes.uv !== undefined ){\n\t\n\t\t\t\t\tuvs = attributes.uv.array;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( index !== null ) {\n\t\n\t\t\t\t\tvar indices = index.array;\n\t\n\t\t\t\t\tfor ( var i = 0, l = indices.length; i < l; i += 3 ) {\n\t\n\t\t\t\t\t\ta = indices[ i ];\n\t\t\t\t\t\tb = indices[ i + 1 ];\n\t\t\t\t\t\tc = indices[ i + 2 ];\n\t\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, raycaster, ray, positions, uvs, a, b, c );\n\t\n\t\t\t\t\t\tif ( intersection ) {\n\t\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indices buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\n\t\t\t\t\tfor ( var i = 0, l = positions.length; i < l; i += 9 ) {\n\t\n\t\t\t\t\t\ta = i / 3;\n\t\t\t\t\t\tb = a + 1;\n\t\t\t\t\t\tc = a + 2;\n\t\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, raycaster, ray, positions, uvs, a, b, c );\n\t\n\t\t\t\t\t\tif ( intersection ) {\n\t\n\t\t\t\t\t\t\tintersection.index = a; // triangle number in positions buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( geometry instanceof THREE.Geometry ) {\n\t\n\t\t\t\tvar fvA, fvB, fvC;\n\t\t\t\tvar isFaceMaterial = material instanceof THREE.MeshFaceMaterial;\n\t\t\t\tvar materials = isFaceMaterial === true ? material.materials : null;\n\t\n\t\t\t\tvar vertices = geometry.vertices;\n\t\t\t\tvar faces = geometry.faces;\n\t\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\t\n\t\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\t\n\t\t\t\t\tvar face = faces[ f ];\n\t\t\t\t\tvar faceMaterial = isFaceMaterial === true ? materials[ face.materialIndex ] : material;\n\t\n\t\t\t\t\tif ( faceMaterial === undefined ) continue;\n\t\n\t\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\t\tfvC = vertices[ face.c ];\n\t\n\t\t\t\t\tif ( faceMaterial.morphTargets === true ) {\n\t\n\t\t\t\t\t\tvar morphTargets = geometry.morphTargets;\n\t\t\t\t\t\tvar morphInfluences = this.morphTargetInfluences;\n\t\n\t\t\t\t\t\tvA.set( 0, 0, 0 );\n\t\t\t\t\t\tvB.set( 0, 0, 0 );\n\t\t\t\t\t\tvC.set( 0, 0, 0 );\n\t\n\t\t\t\t\t\tfor ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\n\t\n\t\t\t\t\t\t\tvar influence = morphInfluences[ t ];\n\t\n\t\t\t\t\t\t\tif ( influence === 0 ) continue;\n\t\n\t\t\t\t\t\t\tvar targets = morphTargets[ t ].vertices;\n\t\n\t\t\t\t\t\t\tvA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\n\t\t\t\t\t\t\tvB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\n\t\t\t\t\t\t\tvC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tvA.add( fvA );\n\t\t\t\t\t\tvB.add( fvB );\n\t\t\t\t\t\tvC.add( fvC );\n\t\n\t\t\t\t\t\tfvA = vA;\n\t\t\t\t\t\tfvB = vB;\n\t\t\t\t\t\tfvC = vC;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tintersection = checkIntersection( this, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\n\t\n\t\t\t\t\tif ( intersection ) {\n\t\n\t\t\t\t\t\tif ( uvs ) {\n\t\n\t\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t\tuvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t\tuvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t\tuvC.copy( uvs_f[ 2 ] );\n\t\n\t\t\t\t\t\t\tintersection.uv = uvIntersection( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tintersection.face = face;\n\t\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\t\tintersects.push( intersection );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t}() );\n\t\n\tTHREE.Mesh.prototype.clone = function () {\n\t\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\t\n\t};\n\t\n\t// File:src/objects/Bone.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author ikerr / http://verold.com\n\t */\n\t\n\tTHREE.Bone = function ( skin ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Bone';\n\t\n\t\tthis.skin = skin;\n\t\n\t};\n\t\n\tTHREE.Bone.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Bone.prototype.constructor = THREE.Bone;\n\t\n\tTHREE.Bone.prototype.copy = function ( source ) {\n\t\t\n\t\tTHREE.Object3D.prototype.copy.call( this, source );\n\t\t\n\t\tthis.skin = source.skin;\n\t\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/objects/Skeleton.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author michael guerrero / http://realitymeltdown.com\n\t * @author ikerr / http://verold.com\n\t */\n\t\n\tTHREE.Skeleton = function ( bones, boneInverses, useVertexTexture ) {\n\t\n\t\tthis.useVertexTexture = useVertexTexture !== undefined ? useVertexTexture : true;\n\t\n\t\tthis.identityMatrix = new THREE.Matrix4();\n\t\n\t\t// copy the bone array\n\t\n\t\tbones = bones || [];\n\t\n\t\tthis.bones = bones.slice( 0 );\n\t\n\t\t// create a bone texture or an array of floats\n\t\n\t\tif ( this.useVertexTexture ) {\n\t\n\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\t\n\t\t\t\n\t\t\tvar size = Math.sqrt( this.bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\tsize = THREE.Math.nextPowerOfTwo( Math.ceil( size ) );\n\t\t\tsize = Math.max( size, 4 );\n\t\n\t\t\tthis.boneTextureWidth = size;\n\t\t\tthis.boneTextureHeight = size;\n\t\n\t\t\tthis.boneMatrices = new Float32Array( this.boneTextureWidth * this.boneTextureHeight * 4 ); // 4 floats per RGBA pixel\n\t\t\tthis.boneTexture = new THREE.DataTexture( this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, THREE.RGBAFormat, THREE.FloatType );\n\t\n\t\t} else {\n\t\n\t\t\tthis.boneMatrices = new Float32Array( 16 * this.bones.length );\n\t\n\t\t}\n\t\n\t\t// use the supplied bone inverses or calculate the inverses\n\t\n\t\tif ( boneInverses === undefined ) {\n\t\n\t\t\tthis.calculateInverses();\n\t\n\t\t} else {\n\t\n\t\t\tif ( this.bones.length === boneInverses.length ) {\n\t\n\t\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tconsole.warn( 'THREE.Skeleton bonInverses is the wrong length.' );\n\t\n\t\t\t\tthis.boneInverses = [];\n\t\n\t\t\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\n\t\n\t\t\t\t\tthis.boneInverses.push( new THREE.Matrix4() );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Skeleton.prototype.calculateInverses = function () {\n\t\n\t\tthis.boneInverses = [];\n\t\n\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\n\t\n\t\t\tvar inverse = new THREE.Matrix4();\n\t\n\t\t\tif ( this.bones[ b ] ) {\n\t\n\t\t\t\tinverse.getInverse( this.bones[ b ].matrixWorld );\n\t\n\t\t\t}\n\t\n\t\t\tthis.boneInverses.push( inverse );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Skeleton.prototype.pose = function () {\n\t\n\t\tvar bone;\n\t\n\t\t// recover the bind-time world matrices\n\t\n\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\n\t\n\t\t\tbone = this.bones[ b ];\n\t\n\t\t\tif ( bone ) {\n\t\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ b ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// compute the local matrices, positions, rotations and scales\n\t\n\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\n\t\n\t\t\tbone = this.bones[ b ];\n\t\n\t\t\tif ( bone ) {\n\t\n\t\t\t\tif ( bone.parent ) {\n\t\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Skeleton.prototype.update = ( function () {\n\t\n\t\tvar offsetMatrix = new THREE.Matrix4();\n\t\n\t\treturn function update() {\n\t\n\t\t\t// flatten bone matrices to array\n\t\n\t\t\tfor ( var b = 0, bl = this.bones.length; b < bl; b ++ ) {\n\t\n\t\t\t\t// compute the offset between the current and the original transform\n\t\n\t\t\t\tvar matrix = this.bones[ b ] ? this.bones[ b ].matrixWorld : this.identityMatrix;\n\t\n\t\t\t\toffsetMatrix.multiplyMatrices( matrix, this.boneInverses[ b ] );\n\t\t\t\toffsetMatrix.flattenToArrayOffset( this.boneMatrices, b * 16 );\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.useVertexTexture ) {\n\t\n\t\t\t\tthis.boneTexture.needsUpdate = true;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t} )();\n\t\n\tTHREE.Skeleton.prototype.clone = function () {\n\t\n\t\treturn new THREE.Skeleton( this.bones, this.boneInverses, this.useVertexTexture );\n\t\n\t};\n\t\n\t// File:src/objects/SkinnedMesh.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author ikerr / http://verold.com\n\t */\n\t\n\tTHREE.SkinnedMesh = function ( geometry, material, useVertexTexture ) {\n\t\n\t\tTHREE.Mesh.call( this, geometry, material );\n\t\n\t\tthis.type = 'SkinnedMesh';\n\t\n\t\tthis.bindMode = \"attached\";\n\t\tthis.bindMatrix = new THREE.Matrix4();\n\t\tthis.bindMatrixInverse = new THREE.Matrix4();\n\t\n\t\t// init bones\n\t\n\t\t// TODO: remove bone creation as there is no reason (other than\n\t\t// convenience) for THREE.SkinnedMesh to do this.\n\t\n\t\tvar bones = [];\n\t\n\t\tif ( this.geometry && this.geometry.bones !== undefined ) {\n\t\n\t\t\tvar bone, gbone;\n\t\n\t\t\tfor ( var b = 0, bl = this.geometry.bones.length; b < bl; ++ b ) {\n\t\n\t\t\t\tgbone = this.geometry.bones[ b ];\n\t\n\t\t\t\tbone = new THREE.Bone( this );\n\t\t\t\tbones.push( bone );\n\t\n\t\t\t\tbone.name = gbone.name;\n\t\t\t\tbone.position.fromArray( gbone.pos );\n\t\t\t\tbone.quaternion.fromArray( gbone.rotq );\n\t\t\t\tif ( gbone.scl !== undefined ) bone.scale.fromArray( gbone.scl );\n\t\n\t\t\t}\n\t\n\t\t\tfor ( var b = 0, bl = this.geometry.bones.length; b < bl; ++ b ) {\n\t\n\t\t\t\tgbone = this.geometry.bones[ b ];\n\t\n\t\t\t\tif ( gbone.parent !== - 1 && gbone.parent !== null) {\n\t\n\t\t\t\t\tbones[ gbone.parent ].add( bones[ b ] );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis.add( bones[ b ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.normalizeSkinWeights();\n\t\n\t\tthis.updateMatrixWorld( true );\n\t\tthis.bind( new THREE.Skeleton( bones, undefined, useVertexTexture ), this.matrixWorld );\n\t\n\t};\n\t\n\t\n\tTHREE.SkinnedMesh.prototype = Object.create( THREE.Mesh.prototype );\n\tTHREE.SkinnedMesh.prototype.constructor = THREE.SkinnedMesh;\n\t\n\tTHREE.SkinnedMesh.prototype.bind = function( skeleton, bindMatrix ) {\n\t\n\t\tthis.skeleton = skeleton;\n\t\n\t\tif ( bindMatrix === undefined ) {\n\t\n\t\t\tthis.updateMatrixWorld( true );\n\t\t\t\n\t\t\tthis.skeleton.calculateInverses();\n\t\n\t\t\tbindMatrix = this.matrixWorld;\n\t\n\t\t}\n\t\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\t\n\t};\n\t\n\tTHREE.SkinnedMesh.prototype.pose = function () {\n\t\n\t\tthis.skeleton.pose();\n\t\n\t};\n\t\n\tTHREE.SkinnedMesh.prototype.normalizeSkinWeights = function () {\n\t\n\t\tif ( this.geometry instanceof THREE.Geometry ) {\n\t\n\t\t\tfor ( var i = 0; i < this.geometry.skinIndices.length; i ++ ) {\n\t\n\t\t\t\tvar sw = this.geometry.skinWeights[ i ];\n\t\n\t\t\t\tvar scale = 1.0 / sw.lengthManhattan();\n\t\n\t\t\t\tif ( scale !== Infinity ) {\n\t\n\t\t\t\t\tsw.multiplyScalar( scale );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tsw.set( 1 ); // this will be normalized by the shader anyway\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t} else {\n\t\n\t\t\t// skinning weights assumed to be normalized for THREE.BufferGeometry\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.SkinnedMesh.prototype.updateMatrixWorld = function( force ) {\n\t\n\t\tTHREE.Mesh.prototype.updateMatrixWorld.call( this, true );\n\t\n\t\tif ( this.bindMode === \"attached\" ) {\n\t\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\t\n\t\t} else if ( this.bindMode === \"detached\" ) {\n\t\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\t\n\t\t} else {\n\t\n\t\t\tconsole.warn( 'THREE.SkinnedMesh unrecognized bindMode: ' + this.bindMode );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.SkinnedMesh.prototype.clone = function() {\n\t\n\t\treturn new this.constructor( this.geometry, this.material, this.useVertexTexture ).copy( this );\n\t\n\t};\n\t\n\t// File:src/objects/LOD.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.LOD = function () {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'LOD';\n\t\n\t\tObject.defineProperties( this, {\n\t\t\tlevels: {\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: []\n\t\t\t},\n\t\t\tobjects: {\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\t\t\treturn this.levels;\n\t\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t\n\t};\n\t\n\t\n\tTHREE.LOD.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.LOD.prototype.constructor = THREE.LOD;\n\t\n\tTHREE.LOD.prototype.addLevel = function ( object, distance ) {\n\t\n\t\tif ( distance === undefined ) distance = 0;\n\t\n\t\tdistance = Math.abs( distance );\n\t\n\t\tvar levels = this.levels;\n\t\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\t\n\t\t\tif ( distance < levels[ l ].distance ) {\n\t\n\t\t\t\tbreak;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\t\n\t\tthis.add( object );\n\t\n\t};\n\t\n\tTHREE.LOD.prototype.getObjectForDistance = function ( distance ) {\n\t\n\t\tvar levels = this.levels;\n\t\n\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\t\n\t\t\tif ( distance < levels[ i ].distance ) {\n\t\n\t\t\t\tbreak;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\treturn levels[ i - 1 ].object;\n\t\n\t};\n\t\n\tTHREE.LOD.prototype.raycast = ( function () {\n\t\n\t\tvar matrixPosition = new THREE.Vector3();\n\t\n\t\treturn function raycast( raycaster, intersects ) {\n\t\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\n\t\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( matrixPosition );\n\t\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\t\n\t\t};\n\t\n\t}() );\n\t\n\tTHREE.LOD.prototype.update = function () {\n\t\n\t\tvar v1 = new THREE.Vector3();\n\t\tvar v2 = new THREE.Vector3();\n\t\n\t\treturn function update( camera ) {\n\t\n\t\t\tvar levels = this.levels;\n\t\n\t\t\tif ( levels.length > 1 ) {\n\t\n\t\t\t\tv1.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\tv2.setFromMatrixPosition( this.matrixWorld );\n\t\n\t\t\t\tvar distance = v1.distanceTo( v2 );\n\t\n\t\t\t\tlevels[ 0 ].object.visible = true;\n\t\n\t\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\t\n\t\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\t\tlevels[ i ].object.visible = true;\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( ; i < l; i ++ ) {\n\t\n\t\t\t\t\tlevels[ i ].object.visible = false;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t}();\n\t\n\tTHREE.LOD.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Object3D.prototype.copy.call( this, source, false );\n\t\n\t\tvar levels = source.levels;\n\t\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\t\n\t\t\tvar level = levels[ i ];\n\t\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\t\n\t\t}\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\tTHREE.LOD.prototype.toJSON = function ( meta ) {\n\t\n\t\tvar data = THREE.Object3D.prototype.toJSON.call( this, meta );\n\t\n\t\tdata.object.levels = [];\n\t\n\t\tvar levels = this.levels;\n\t\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\t\n\t\t\tvar level = levels[ i ];\n\t\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\t\n\t\t}\n\t\n\t\treturn data;\n\t\n\t};\n\t\n\t// File:src/objects/Sprite.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Sprite = ( function () {\n\t\n\t\tvar indices = new Uint16Array( [ 0, 1, 2,  0, 2, 3 ] );\n\t\tvar vertices = new Float32Array( [ - 0.5, - 0.5, 0,   0.5, - 0.5, 0,   0.5, 0.5, 0,   - 0.5, 0.5, 0 ] );\n\t\tvar uvs = new Float32Array( [ 0, 0,   1, 0,   1, 1,   0, 1 ] );\n\t\n\t\tvar geometry = new THREE.BufferGeometry();\n\t\tgeometry.setIndex( new THREE.BufferAttribute( indices, 1 ) );\n\t\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n\t\tgeometry.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ) );\n\t\n\t\treturn function Sprite( material ) {\n\t\n\t\t\tTHREE.Object3D.call( this );\n\t\n\t\t\tthis.type = 'Sprite';\n\t\n\t\t\tthis.geometry = geometry;\n\t\t\tthis.material = ( material !== undefined ) ? material : new THREE.SpriteMaterial();\n\t\n\t\t};\n\t\n\t} )();\n\t\n\tTHREE.Sprite.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Sprite.prototype.constructor = THREE.Sprite;\n\t\n\tTHREE.Sprite.prototype.raycast = ( function () {\n\t\n\t\tvar matrixPosition = new THREE.Vector3();\n\t\n\t\treturn function raycast( raycaster, intersects ) {\n\t\n\t\t\tmatrixPosition.setFromMatrixPosition( this.matrixWorld );\n\t\n\t\t\tvar distanceSq = raycaster.ray.distanceSqToPoint( matrixPosition );\n\t\t\tvar guessSizeSq = this.scale.x * this.scale.y;\n\t\n\t\t\tif ( distanceSq > guessSizeSq ) {\n\t\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tintersects.push( {\n\t\n\t\t\t\tdistance: Math.sqrt( distanceSq ),\n\t\t\t\tpoint: this.position,\n\t\t\t\tface: null,\n\t\t\t\tobject: this\n\t\n\t\t\t} );\n\t\n\t\t};\n\t\n\t}() );\n\t\n\tTHREE.Sprite.prototype.clone = function () {\n\t\n\t\treturn new this.constructor( this.material ).copy( this );\n\t\n\t};\n\t\n\t// Backwards compatibility\n\t\n\tTHREE.Particle = THREE.Sprite;\n\t\n\t// File:src/objects/LensFlare.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.LensFlare = function ( texture, size, distance, blending, color ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.lensFlares = [];\n\t\n\t\tthis.positionScreen = new THREE.Vector3();\n\t\tthis.customUpdateCallback = undefined;\n\t\n\t\tif ( texture !== undefined ) {\n\t\n\t\t\tthis.add( texture, size, distance, blending, color );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.LensFlare.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.LensFlare.prototype.constructor = THREE.LensFlare;\n\t\n\t\n\t/*\n\t * Add: adds another flare\n\t */\n\t\n\tTHREE.LensFlare.prototype.add = function ( texture, size, distance, blending, color, opacity ) {\n\t\n\t\tif ( size === undefined ) size = - 1;\n\t\tif ( distance === undefined ) distance = 0;\n\t\tif ( opacity === undefined ) opacity = 1;\n\t\tif ( color === undefined ) color = new THREE.Color( 0xffffff );\n\t\tif ( blending === undefined ) blending = THREE.NormalBlending;\n\t\n\t\tdistance = Math.min( distance, Math.max( 0, distance ) );\n\t\n\t\tthis.lensFlares.push( {\n\t\t\ttexture: texture,\t// THREE.Texture\n\t\t\tsize: size, \t\t// size in pixels (-1 = use texture.width)\n\t\t\tdistance: distance, \t// distance (0-1) from light source (0=at light source)\n\t\t\tx: 0, y: 0, z: 0,\t// screen position (-1 => 1) z = 0 is in front z = 1 is back\n\t\t\tscale: 1, \t\t// scale\n\t\t\trotation: 0, \t\t// rotation\n\t\t\topacity: opacity,\t// opacity\n\t\t\tcolor: color,\t\t// color\n\t\t\tblending: blending\t// blending\n\t\t} );\n\t\n\t};\n\t\n\t/*\n\t * Update lens flares update positions on all flares based on the screen position\n\t * Set myLensFlare.customUpdateCallback to alter the flares in your project specific way.\n\t */\n\t\n\tTHREE.LensFlare.prototype.updateLensFlares = function () {\n\t\n\t\tvar f, fl = this.lensFlares.length;\n\t\tvar flare;\n\t\tvar vecX = - this.positionScreen.x * 2;\n\t\tvar vecY = - this.positionScreen.y * 2;\n\t\n\t\tfor ( f = 0; f < fl; f ++ ) {\n\t\n\t\t\tflare = this.lensFlares[ f ];\n\t\n\t\t\tflare.x = this.positionScreen.x + vecX * flare.distance;\n\t\t\tflare.y = this.positionScreen.y + vecY * flare.distance;\n\t\n\t\t\tflare.wantedRotation = flare.x * Math.PI * 0.25;\n\t\t\tflare.rotation += ( flare.wantedRotation - flare.rotation ) * 0.25;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.LensFlare.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Object3D.prototype.copy.call( this, source );\n\t\n\t\tthis.positionScreen.copy( source.positionScreen );\n\t\tthis.customUpdateCallback = source.customUpdateCallback;\n\t\n\t\tfor ( var i = 0, l = source.lensFlares.length; i < l; i ++ ) {\n\t\n\t\t\tthis.lensFlares.push( source.lensFlares[ i ] );\n\t\n\t\t}\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/scenes/Scene.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Scene = function () {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Scene';\n\t\n\t\tthis.fog = null;\n\t\tthis.overrideMaterial = null;\n\t\n\t\tthis.autoUpdate = true; // checked by the renderer\n\t\n\t};\n\t\n\tTHREE.Scene.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Scene.prototype.constructor = THREE.Scene;\n\t\n\tTHREE.Scene.prototype.copy = function ( source ) {\n\t\n\t\tTHREE.Object3D.prototype.copy.call( this, source );\n\t\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\t\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t// File:src/scenes/Fog.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.Fog = function ( color, near, far ) {\n\t\n\t\tthis.name = '';\n\t\n\t\tthis.color = new THREE.Color( color );\n\t\n\t\tthis.near = ( near !== undefined ) ? near : 1;\n\t\tthis.far = ( far !== undefined ) ? far : 1000;\n\t\n\t};\n\t\n\tTHREE.Fog.prototype.clone = function () {\n\t\n\t\treturn new THREE.Fog( this.color.getHex(), this.near, this.far );\n\t\n\t};\n\t\n\t// File:src/scenes/FogExp2.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.FogExp2 = function ( color, density ) {\n\t\n\t\tthis.name = '';\n\t\n\t\tthis.color = new THREE.Color( color );\n\t\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\t\n\t};\n\t\n\tTHREE.FogExp2.prototype.clone = function () {\n\t\n\t\treturn new THREE.FogExp2( this.color.getHex(), this.density );\n\t\n\t};\n\t\n\t// File:src/renderers/shaders/ShaderChunk.js\n\t\n\tTHREE.ShaderChunk = {};\n\t\n\t// File:src/renderers/shaders/ShaderChunk/alphamap_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'alphamap_fragment'] = \"#ifdef USE_ALPHAMAP\\n\\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/alphamap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'alphamap_pars_fragment'] = \"#ifdef USE_ALPHAMAP\\n\\n\tuniform sampler2D alphaMap;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/alphatest_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'alphatest_fragment'] = \"#ifdef ALPHATEST\\n\\n\tif ( diffuseColor.a < ALPHATEST ) discard;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/aomap_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'aomap_fragment'] = \"#ifdef USE_AOMAP\\n\\n\ttotalAmbientLight *= ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/aomap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'aomap_pars_fragment'] = \"#ifdef USE_AOMAP\\n\\n\tuniform sampler2D aoMap;\\n\tuniform float aoMapIntensity;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/begin_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'begin_vertex'] = \"\\nvec3 transformed = vec3( position );\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/beginnormal_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'beginnormal_vertex'] = \"\\nvec3 objectNormal = vec3( normal );\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/bumpmap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'bumpmap_pars_fragment'] = \"#ifdef USE_BUMPMAP\\n\\n\tuniform sampler2D bumpMap;\\n\tuniform float bumpScale;\\n\\n\\n\\n\tvec2 dHdxy_fwd() {\\n\\n\t\tvec2 dSTdx = dFdx( vUv );\\n\t\tvec2 dSTdy = dFdy( vUv );\\n\\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\n\t\treturn vec2( dBx, dBy );\\n\\n\t}\\n\\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\n\t\tvec3 vSigmaX = dFdx( surf_pos );\\n\t\tvec3 vSigmaY = dFdy( surf_pos );\\n\t\tvec3 vN = surf_norm;\\n\t\tvec3 R1 = cross( vSigmaY, vN );\\n\t\tvec3 R2 = cross( vN, vSigmaX );\\n\\n\t\tfloat fDet = dot( vSigmaX, R1 );\\n\\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\n\t}\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/color_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'color_fragment'] = \"#ifdef USE_COLOR\\n\\n\tdiffuseColor.rgb *= vColor;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/color_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'color_pars_fragment'] = \"#ifdef USE_COLOR\\n\\n\tvarying vec3 vColor;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/color_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'color_pars_vertex'] = \"#ifdef USE_COLOR\\n\\n\tvarying vec3 vColor;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/color_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'color_vertex'] = \"#ifdef USE_COLOR\\n\\n\tvColor.xyz = color.xyz;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/common.glsl\n\t\n\tTHREE.ShaderChunk[ 'common'] = \"#define PI 3.14159\\n#define PI2 6.28318\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\n\\nvec3 transformDirection( in vec3 normal, in mat4 matrix ) {\\n\\n\treturn normalize( ( matrix * vec4( normal, 0.0 ) ).xyz );\\n\\n}\\n\\nvec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {\\n\\n\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );\\n\\n}\\n\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\n\treturn - distance * planeNormal + point;\\n\\n}\\n\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n\\n}\\n\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n\\n}\\n\\nfloat calcLightAttenuation( float lightDistance, float cutoffDistance, float decayExponent ) {\\n\\n\tif ( decayExponent > 0.0 ) {\\n\\n\t  return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\n\t}\\n\\n\treturn 1.0;\\n\\n}\\n\\nvec3 F_Schlick( in vec3 specularColor, in float dotLH ) {\\n\\n\\n\tfloat fresnel = exp2( ( -5.55437 * dotLH - 6.98316 ) * dotLH );\\n\\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n\\n}\\n\\nfloat G_BlinnPhong_Implicit( /* in float dotNL, in float dotNV */ ) {\\n\\n\\n\treturn 0.25;\\n\\n}\\n\\nfloat D_BlinnPhong( in float shininess, in float dotNH ) {\\n\\n\\n\treturn ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n\\n}\\n\\nvec3 BRDF_BlinnPhong( in vec3 specularColor, in float shininess, in vec3 normal, in vec3 lightDir, in vec3 viewDir ) {\\n\\n\tvec3 halfDir = normalize( lightDir + viewDir );\\n\\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\tfloat dotLH = saturate( dot( lightDir, halfDir ) );\\n\\n\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\\n\\n\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\n\treturn F * G * D;\\n\\n}\\n\\nvec3 inputToLinear( in vec3 a ) {\\n\\n\t#ifdef GAMMA_INPUT\\n\\n\t\treturn pow( a, vec3( float( GAMMA_FACTOR ) ) );\\n\\n\t#else\\n\\n\t\treturn a;\\n\\n\t#endif\\n\\n}\\n\\nvec3 linearToOutput( in vec3 a ) {\\n\\n\t#ifdef GAMMA_OUTPUT\\n\\n\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );\\n\\n\t#else\\n\\n\t\treturn a;\\n\\n\t#endif\\n\\n}\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/defaultnormal_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'defaultnormal_vertex'] = \"#ifdef FLIP_SIDED\\n\\n\tobjectNormal = -objectNormal;\\n\\n#endif\\n\\nvec3 transformedNormal = normalMatrix * objectNormal;\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/displacementmap_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'displacementmap_vertex'] = \"#ifdef USE_DISPLACEMENTMAP\\n\\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/displacementmap_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'displacementmap_pars_vertex'] = \"#ifdef USE_DISPLACEMENTMAP\\n\\n\tuniform sampler2D displacementMap;\\n\tuniform float displacementScale;\\n\tuniform float displacementBias;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/emissivemap_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'emissivemap_fragment'] = \"#ifdef USE_EMISSIVEMAP\\n\\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\n\temissiveColor.rgb = inputToLinear( emissiveColor.rgb );\\n\\n\ttotalEmissiveLight *= emissiveColor.rgb;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/emissivemap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'emissivemap_pars_fragment'] = \"#ifdef USE_EMISSIVEMAP\\n\\n\tuniform sampler2D emissiveMap;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/envmap_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'envmap_fragment'] = \"#ifdef USE_ENVMAP\\n\\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\n\t\t#ifdef ENVMAP_MODE_REFLECTION\\n\\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\n\t\t#else\\n\\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\n\t\t#endif\\n\\n\t#else\\n\\n\t\tvec3 reflectVec = vReflect;\\n\\n\t#endif\\n\\n\t#ifdef DOUBLE_SIDED\\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\t#else\\n\t\tfloat flipNormal = 1.0;\\n\t#endif\\n\\n\t#ifdef ENVMAP_TYPE_CUBE\\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\t\tvec2 sampleUV;\\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\n\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\t#endif\\n\\n\tenvColor.xyz = inputToLinear( envColor.xyz );\\n\\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\n\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\n\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\n\t#endif\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/envmap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'envmap_pars_fragment'] = \"#ifdef USE_ENVMAP\\n\\n\tuniform float reflectivity;\\n\t#ifdef ENVMAP_TYPE_CUBE\\n\t\tuniform samplerCube envMap;\\n\t#else\\n\t\tuniform sampler2D envMap;\\n\t#endif\\n\tuniform float flipEnvMap;\\n\\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\n\t\tuniform float refractionRatio;\\n\\n\t#else\\n\\n\t\tvarying vec3 vReflect;\\n\\n\t#endif\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/envmap_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'envmap_pars_vertex'] = \"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\\n\\n\tvarying vec3 vReflect;\\n\\n\tuniform float refractionRatio;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/envmap_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'envmap_vertex'] = \"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\\n\\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\n\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\n\t#ifdef ENVMAP_MODE_REFLECTION\\n\\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\n\t#else\\n\\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\n\t#endif\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/fog_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'fog_fragment'] = \"#ifdef USE_FOG\\n\\n\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\\n\\n\t#else\\n\\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\\n\\n\t#endif\\n\\n\t#ifdef FOG_EXP2\\n\\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\\n\\n\t#else\\n\\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\\n\\n\t#endif\\n\t\\n\toutgoingLight = mix( outgoingLight, fogColor, fogFactor );\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/fog_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'fog_pars_fragment'] = \"#ifdef USE_FOG\\n\\n\tuniform vec3 fogColor;\\n\\n\t#ifdef FOG_EXP2\\n\\n\t\tuniform float fogDensity;\\n\\n\t#else\\n\\n\t\tuniform float fogNear;\\n\t\tuniform float fogFar;\\n\t#endif\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/hemilight_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'hemilight_fragment'] = \"#if MAX_HEMI_LIGHTS > 0\\n\\n\tfor ( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\\n\\n\t\tvec3 lightDir = hemisphereLightDirection[ i ];\\n\\n\t\tfloat dotProduct = dot( normal, lightDir );\\n\\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\\n\\n\t\tvec3 lightColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\\n\\n\t\ttotalAmbientLight += lightColor;\\n\\n\t}\\n\\n#endif\\n\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/lightmap_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'lightmap_fragment'] = \"#ifdef USE_LIGHTMAP\\n\\n\ttotalAmbientLight += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/lightmap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'lightmap_pars_fragment'] = \"#ifdef USE_LIGHTMAP\\n\\n\tuniform sampler2D lightMap;\\n\tuniform float lightMapIntensity;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/lights_lambert_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'lights_lambert_pars_vertex'] = \"#if MAX_DIR_LIGHTS > 0\\n\\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_HEMI_LIGHTS > 0\\n\\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0\\n\\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/lights_lambert_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'lights_lambert_vertex'] = \"vLightFront = vec3( 0.0 );\\n\\n#ifdef DOUBLE_SIDED\\n\\n\tvLightBack = vec3( 0.0 );\\n\\n#endif\\n\\nvec3 normal = normalize( transformedNormal );\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\\n\\n\t\tvec3 lightColor = pointLightColor[ i ];\\n\\n\t\tvec3 lVector = pointLightPosition[ i ] - mvPosition.xyz;\\n\t\tvec3 lightDir = normalize( lVector );\\n\\n\\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\\n\\n\\n\t\tfloat dotProduct = dot( normal, lightDir );\\n\\n\t\tvLightFront += lightColor * attenuation * saturate( dotProduct );\\n\\n\t\t#ifdef DOUBLE_SIDED\\n\\n\t\t\tvLightBack += lightColor * attenuation * saturate( - dotProduct );\\n\\n\t\t#endif\\n\\n\t}\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0\\n\\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\\n\\n\t\tvec3 lightColor = spotLightColor[ i ];\\n\\n\t\tvec3 lightPosition = spotLightPosition[ i ];\\n\t\tvec3 lVector = lightPosition - mvPosition.xyz;\\n\t\tvec3 lightDir = normalize( lVector );\\n\\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], lightDir );\\n\\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\\n\\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\\n\\n\\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\\n\\n\t\t\tattenuation *= spotEffect;\\n\\n\\n\t\t\tfloat dotProduct = dot( normal, lightDir );\\n\\n\t\t\tvLightFront += lightColor * attenuation * saturate( dotProduct );\\n\\n\t\t\t#ifdef DOUBLE_SIDED\\n\\n\t\t\t\tvLightBack += lightColor * attenuation * saturate( - dotProduct );\\n\\n\t\t\t#endif\\n\\n\t\t}\\n\\n\t}\\n\\n#endif\\n\\n#if MAX_DIR_LIGHTS > 0\\n\\n\tfor ( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\\n\\n\t\tvec3 lightColor = directionalLightColor[ i ];\\n\\n\t\tvec3 lightDir = directionalLightDirection[ i ];\\n\\n\\n\t\tfloat dotProduct = dot( normal, lightDir );\\n\\n\t\tvLightFront += lightColor * saturate( dotProduct );\\n\\n\t\t#ifdef DOUBLE_SIDED\\n\\n\t\t\tvLightBack += lightColor * saturate( - dotProduct );\\n\\n\t\t#endif\\n\\n\t}\\n\\n#endif\\n\\n#if MAX_HEMI_LIGHTS > 0\\n\\n\tfor ( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\\n\\n\t\tvec3 lightDir = hemisphereLightDirection[ i ];\\n\\n\\n\t\tfloat dotProduct = dot( normal, lightDir );\\n\\n\t\tfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\\n\\n\t\tvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\\n\\n\t\t#ifdef DOUBLE_SIDED\\n\\n\t\t\tfloat hemiDiffuseWeightBack = - 0.5 * dotProduct + 0.5;\\n\\n\t\t\tvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\\n\\n\t\t#endif\\n\\n\t}\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/lights_phong_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'lights_phong_fragment'] = \"vec3 viewDir = normalize( vViewPosition );\\n\\nvec3 totalDiffuseLight = vec3( 0.0 );\\nvec3 totalSpecularLight = vec3( 0.0 );\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\tfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\\n\\n\t\tvec3 lightColor = pointLightColor[ i ];\\n\\n\t\tvec3 lightPosition = pointLightPosition[ i ];\\n\t\tvec3 lVector = lightPosition + vViewPosition.xyz;\\n\t\tvec3 lightDir = normalize( lVector );\\n\\n\\n\t\tfloat attenuation = calcLightAttenuation( length( lVector ), pointLightDistance[ i ], pointLightDecay[ i ] );\\n\\n\\n\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\\n\\n\t\ttotalDiffuseLight += lightColor * attenuation * cosineTerm;\\n\\n\\n\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\\n\\n\t\ttotalSpecularLight += brdf * specularStrength * lightColor * attenuation * cosineTerm;\\n\\n\\n\t}\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0\\n\\n\tfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\\n\\n\t\tvec3 lightColor = spotLightColor[ i ];\\n\\n\t\tvec3 lightPosition = spotLightPosition[ i ];\\n\t\tvec3 lVector = lightPosition + vViewPosition.xyz;\\n\t\tvec3 lightDir = normalize( lVector );\\n\\n\t\tfloat spotEffect = dot( spotLightDirection[ i ], lightDir );\\n\\n\t\tif ( spotEffect > spotLightAngleCos[ i ] ) {\\n\\n\t\t\tspotEffect = saturate( pow( saturate( spotEffect ), spotLightExponent[ i ] ) );\\n\\n\\n\t\t\tfloat attenuation = calcLightAttenuation( length( lVector ), spotLightDistance[ i ], spotLightDecay[ i ] );\\n\\n\t\t\tattenuation *= spotEffect;\\n\\n\\n\t\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\\n\\n\t\t\ttotalDiffuseLight += lightColor * attenuation * cosineTerm;\\n\\n\\n\t\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\\n\\n\t\t\ttotalSpecularLight += brdf * specularStrength * lightColor * attenuation * cosineTerm;\\n\\n\t\t}\\n\\n\t}\\n\\n#endif\\n\\n#if MAX_DIR_LIGHTS > 0\\n\\n\tfor ( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\\n\\n\t\tvec3 lightColor = directionalLightColor[ i ];\\n\\n\t\tvec3 lightDir = directionalLightDirection[ i ];\\n\\n\\n\t\tfloat cosineTerm = saturate( dot( normal, lightDir ) );\\n\\n\t\ttotalDiffuseLight += lightColor * cosineTerm;\\n\\n\\n\t\tvec3 brdf = BRDF_BlinnPhong( specular, shininess, normal, lightDir, viewDir );\\n\\n\t\ttotalSpecularLight += brdf * specularStrength * lightColor * cosineTerm;\\n\\n\t}\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/lights_phong_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'lights_phong_pars_fragment'] = \"uniform vec3 ambientLightColor;\\n\\n#if MAX_DIR_LIGHTS > 0\\n\\n\tuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\\n\tuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_HEMI_LIGHTS > 0\\n\\n\tuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\\n\tuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\\n\tuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\tuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\\n\\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\\n\tuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\\n\tuniform float pointLightDecay[ MAX_POINT_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0\\n\\n\tuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\\n\tuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\\n\tuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\\n\tuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\\n\tuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\\n\tuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\\n\tuniform float spotLightDecay[ MAX_SPOT_LIGHTS ];\\n\\n#endif\\n\\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\\n\\n\tvarying vec3 vWorldPosition;\\n\\n#endif\\n\\nvarying vec3 vViewPosition;\\n\\n#ifndef FLAT_SHADED\\n\\n\tvarying vec3 vNormal;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/lights_phong_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'lights_phong_pars_vertex'] = \"#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\\n\\n\tvarying vec3 vWorldPosition;\\n\\n#endif\\n\\n#if MAX_POINT_LIGHTS > 0\\n\\n\tuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/lights_phong_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'lights_phong_vertex'] = \"#if MAX_SPOT_LIGHTS > 0 || defined( USE_ENVMAP )\\n\\n\tvWorldPosition = worldPosition.xyz;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/linear_to_gamma_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'linear_to_gamma_fragment'] = \"\\n\toutgoingLight = linearToOutput( outgoingLight );\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/logdepthbuf_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'logdepthbuf_fragment'] = \"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\\n\\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/logdepthbuf_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'logdepthbuf_pars_fragment'] = \"#ifdef USE_LOGDEPTHBUF\\n\\n\tuniform float logDepthBufFC;\\n\\n\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\t\tvarying float vFragDepth;\\n\\n\t#endif\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/logdepthbuf_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'logdepthbuf_pars_vertex'] = \"#ifdef USE_LOGDEPTHBUF\\n\\n\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\t\tvarying float vFragDepth;\\n\\n\t#endif\\n\\n\tuniform float logDepthBufFC;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/logdepthbuf_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'logdepthbuf_vertex'] = \"#ifdef USE_LOGDEPTHBUF\\n\\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\\n\\n\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\n\t\tvFragDepth = 1.0 + gl_Position.w;\\n\\n#else\\n\\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\\n\\n\t#endif\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/map_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'map_fragment'] = \"#ifdef USE_MAP\\n\\n\tvec4 texelColor = texture2D( map, vUv );\\n\\n\ttexelColor.xyz = inputToLinear( texelColor.xyz );\\n\\n\tdiffuseColor *= texelColor;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/map_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'map_pars_fragment'] = \"#ifdef USE_MAP\\n\\n\tuniform sampler2D map;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/map_particle_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'map_particle_fragment'] = \"#ifdef USE_MAP\\n\\n\tdiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/map_particle_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'map_particle_pars_fragment'] = \"#ifdef USE_MAP\\n\\n\tuniform vec4 offsetRepeat;\\n\tuniform sampler2D map;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/morphnormal_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'morphnormal_vertex'] = \"#ifdef USE_MORPHNORMALS\\n\\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/morphtarget_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'morphtarget_pars_vertex'] = \"#ifdef USE_MORPHTARGETS\\n\\n\t#ifndef USE_MORPHNORMALS\\n\\n\tuniform float morphTargetInfluences[ 8 ];\\n\\n\t#else\\n\\n\tuniform float morphTargetInfluences[ 4 ];\\n\\n\t#endif\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/morphtarget_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'morphtarget_vertex'] = \"#ifdef USE_MORPHTARGETS\\n\\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\n\t#ifndef USE_MORPHNORMALS\\n\\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\n\t#endif\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/normal_phong_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'normal_phong_fragment'] = \"#ifndef FLAT_SHADED\\n\\n\tvec3 normal = normalize( vNormal );\\n\\n\t#ifdef DOUBLE_SIDED\\n\\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\\n\\n\t#endif\\n\\n#else\\n\\n\tvec3 fdx = dFdx( vViewPosition );\\n\tvec3 fdy = dFdy( vViewPosition );\\n\tvec3 normal = normalize( cross( fdx, fdy ) );\\n\\n#endif\\n\\n#ifdef USE_NORMALMAP\\n\\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n\\n#elif defined( USE_BUMPMAP )\\n\\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n\\n#endif\\n\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/normalmap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'normalmap_pars_fragment'] = \"#ifdef USE_NORMALMAP\\n\\n\tuniform sampler2D normalMap;\\n\tuniform vec2 normalScale;\\n\\n\\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\\n\t\tvec2 st0 = dFdx( vUv.st );\\n\t\tvec2 st1 = dFdy( vUv.st );\\n\\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\\n\t\tvec3 N = normalize( surf_norm );\\n\\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\t\tmapN.xy = normalScale * mapN.xy;\\n\t\tmat3 tsn = mat3( S, T, N );\\n\t\treturn normalize( tsn * mapN );\\n\\n\t}\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/project_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'project_vertex'] = \"#ifdef USE_SKINNING\\n\\n\tvec4 mvPosition = modelViewMatrix * skinned;\\n\\n#else\\n\\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\n\\n#endif\\n\\ngl_Position = projectionMatrix * mvPosition;\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/shadowmap_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'shadowmap_fragment'] = \"#ifdef USE_SHADOWMAP\\n\\n\tfor ( int i = 0; i < MAX_SHADOWS; i ++ ) {\\n\\n\t\tfloat texelSizeY =  1.0 / shadowMapSize[ i ].y;\\n\\n\t\tfloat shadow = 0.0;\\n\\n#if defined( POINT_LIGHT_SHADOWS )\\n\\n\t\tbool isPointLight = shadowDarkness[ i ] < 0.0;\\n\\n\t\tif ( isPointLight ) {\\n\\n\t\t\tfloat realShadowDarkness = abs( shadowDarkness[ i ] );\\n\\n\t\t\tvec3 lightToPosition = vShadowCoord[ i ].xyz;\\n\\n\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\n\t\t\tvec3 bd3D = normalize( lightToPosition );\\n\t\t\tfloat dp = length( lightToPosition );\\n\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\\n\\n\\n\t#if defined( SHADOWMAP_TYPE_PCF )\\n\t\t\tconst float Dr = 1.25;\\n\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\t\t\tconst float Dr = 2.25;\\n\t#endif\\n\\n\t\t\tfloat os = Dr *  2.0 * texelSizeY;\\n\\n\t\t\tconst vec3 Gsd = vec3( - 1, 0, 1 );\\n\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zzy * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zxy * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xxy * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xzy * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyz * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyz * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.zyx * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.xyx * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzz * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxz * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yxx * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D + Gsd.yzx * os, texelSizeY ) ), shadowBias[ i ], shadow );\\n\\n\t\t\tshadow *= realShadowDarkness * ( 1.0 / 21.0 );\\n\\n\t#else \\n\t\t\tvec3 bd3D = normalize( lightToPosition );\\n\t\t\tfloat dp = length( lightToPosition );\\n\\n\t\t\tadjustShadowValue1K( dp, texture2D( shadowMap[ i ], cubeToUV( bd3D, texelSizeY ) ), shadowBias[ i ], shadow );\\n\\n\t\t\tshadow *= realShadowDarkness;\\n\\n\t#endif\\n\\n\t\t} else {\\n\\n#endif \\n\t\t\tfloat texelSizeX =  1.0 / shadowMapSize[ i ].x;\\n\\n\t\t\tvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\\n\\n\\n\t\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\t\t\tbool inFrustum = all( inFrustumVec );\\n\\n\t\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\n\t\t\tbool frustumTest = all( frustumTestVec );\\n\\n\t\t\tif ( frustumTest ) {\\n\\n\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\n\\n\t\t\t\t/*\\n\t\t\t\t\tfor ( float y = -1.25; y <= 1.25; y += 1.25 )\\n\t\t\t\t\t\tfor ( float x = -1.25; x <= 1.25; x += 1.25 ) {\\n\t\t\t\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\\n\t\t\t\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\\n\t\t\t\t\t\t\tif ( fDepth < shadowCoord.z )\\n\t\t\t\t\t\t\t\tshadow += 1.0;\\n\t\t\t\t\t}\\n\t\t\t\t\tshadow /= 9.0;\\n\t\t\t\t*/\\n\\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\\n\\n\t\t\t\tconst float ShadowDelta = 1.0 / 9.0;\\n\\n\t\t\t\tfloat xPixelOffset = texelSizeX;\\n\t\t\t\tfloat yPixelOffset = texelSizeY;\\n\\n\t\t\t\tfloat dx0 = - 1.25 * xPixelOffset;\\n\t\t\t\tfloat dy0 = - 1.25 * yPixelOffset;\\n\t\t\t\tfloat dx1 = 1.25 * xPixelOffset;\\n\t\t\t\tfloat dy1 = 1.25 * yPixelOffset;\\n\\n\t\t\t\tfloat fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\\n\t\t\t\tif ( fDepth < shadowCoord.z ) shadow += ShadowDelta;\\n\\n\t\t\t\tshadow *= shadowDarkness[ i ];\\n\\n\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\n\\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\\n\\n\t\t\t\tfloat xPixelOffset = texelSizeX;\\n\t\t\t\tfloat yPixelOffset = texelSizeY;\\n\\n\t\t\t\tfloat dx0 = - 1.0 * xPixelOffset;\\n\t\t\t\tfloat dy0 = - 1.0 * yPixelOffset;\\n\t\t\t\tfloat dx1 = 1.0 * xPixelOffset;\\n\t\t\t\tfloat dy1 = 1.0 * yPixelOffset;\\n\\n\t\t\t\tmat3 shadowKernel;\\n\t\t\t\tmat3 depthKernel;\\n\\n\t\t\t\tdepthKernel[ 0 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\\n\t\t\t\tdepthKernel[ 0 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\\n\t\t\t\tdepthKernel[ 0 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\\n\t\t\t\tdepthKernel[ 1 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\\n\t\t\t\tdepthKernel[ 1 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\\n\t\t\t\tdepthKernel[ 1 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\\n\t\t\t\tdepthKernel[ 2 ][ 0 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\\n\t\t\t\tdepthKernel[ 2 ][ 1 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\\n\t\t\t\tdepthKernel[ 2 ][ 2 ] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\\n\\n\t\t\t\tvec3 shadowZ = vec3( shadowCoord.z );\\n\t\t\t\tshadowKernel[ 0 ] = vec3( lessThan( depthKernel[ 0 ], shadowZ ) );\\n\t\t\t\tshadowKernel[ 0 ] *= vec3( 0.25 );\\n\\n\t\t\t\tshadowKernel[ 1 ] = vec3( lessThan( depthKernel[ 1 ], shadowZ ) );\\n\t\t\t\tshadowKernel[ 1 ] *= vec3( 0.25 );\\n\\n\t\t\t\tshadowKernel[ 2 ] = vec3( lessThan( depthKernel[ 2 ], shadowZ ) );\\n\t\t\t\tshadowKernel[ 2 ] *= vec3( 0.25 );\\n\\n\t\t\t\tvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[ i ].xy );\\n\\n\t\t\t\tshadowKernel[ 0 ] = mix( shadowKernel[ 1 ], shadowKernel[ 0 ], fractionalCoord.x );\\n\t\t\t\tshadowKernel[ 1 ] = mix( shadowKernel[ 2 ], shadowKernel[ 1 ], fractionalCoord.x );\\n\\n\t\t\t\tvec4 shadowValues;\\n\t\t\t\tshadowValues.x = mix( shadowKernel[ 0 ][ 1 ], shadowKernel[ 0 ][ 0 ], fractionalCoord.y );\\n\t\t\t\tshadowValues.y = mix( shadowKernel[ 0 ][ 2 ], shadowKernel[ 0 ][ 1 ], fractionalCoord.y );\\n\t\t\t\tshadowValues.z = mix( shadowKernel[ 1 ][ 1 ], shadowKernel[ 1 ][ 0 ], fractionalCoord.y );\\n\t\t\t\tshadowValues.w = mix( shadowKernel[ 1 ][ 2 ], shadowKernel[ 1 ][ 1 ], fractionalCoord.y );\\n\\n\t\t\t\tshadow = dot( shadowValues, vec4( 1.0 ) ) * shadowDarkness[ i ];\\n\\n\t#else \\n\t\t\t\tshadowCoord.z += shadowBias[ i ];\\n\\n\t\t\t\tvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\\n\t\t\t\tfloat fDepth = unpackDepth( rgbaDepth );\\n\\n\t\t\t\tif ( fDepth < shadowCoord.z )\\n\t\t\t\t\tshadow = shadowDarkness[ i ];\\n\\n\t#endif\\n\\n\t\t\t}\\n\\n#ifdef SHADOWMAP_DEBUG\\n\\n\t\t\tif ( inFrustum ) {\\n\\n\t\t\t\tif ( i == 0 ) {\\n\\n\t\t\t\t\toutgoingLight *= vec3( 1.0, 0.5, 0.0 );\\n\\n\t\t\t\t} else if ( i == 1 ) {\\n\\n\t\t\t\t\toutgoingLight *= vec3( 0.0, 1.0, 0.8 );\\n\\n\t\t\t\t} else {\\n\\n\t\t\t\t\toutgoingLight *= vec3( 0.0, 0.5, 1.0 );\\n\\n\t\t\t\t}\\n\\n\t\t\t}\\n\\n#endif\\n\\n#if defined( POINT_LIGHT_SHADOWS )\\n\\n\t\t}\\n\\n#endif\\n\\n\t\tshadowMask = shadowMask * vec3( 1.0 - shadow );\\n\\n\t}\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/shadowmap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'shadowmap_pars_fragment'] = \"#ifdef USE_SHADOWMAP\\n\\n\tuniform sampler2D shadowMap[ MAX_SHADOWS ];\\n\tuniform vec2 shadowMapSize[ MAX_SHADOWS ];\\n\\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\\n\tuniform float shadowBias[ MAX_SHADOWS ];\\n\\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\\n\\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\\n\\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\\n\t\tfloat depth = dot( rgba_depth, bit_shift );\\n\t\treturn depth;\\n\\n\t}\\n\\n\t#if defined(POINT_LIGHT_SHADOWS)\\n\\n\\n\t\tvoid adjustShadowValue1K( const float testDepth, const vec4 textureData, const float bias, inout float shadowValue ) {\\n\\n\t\t\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\\n\t\t\tif ( testDepth >= dot( textureData, bitSh ) * 1000.0 + bias )\\n\t\t\t\tshadowValue += 1.0;\\n\\n\t\t}\\n\\n\\n\t\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\n\\n\t\t\tvec3 absV = abs( v );\\n\\n\\n\t\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\t\t\tabsV *= scaleToCube;\\n\\n\\n\t\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\n\\n\\n\t\t\tvec2 planar = v.xy;\\n\\n\t\t\tfloat almostATexel = 1.5 * texelSizeY;\\n\t\t\tfloat almostOne = 1.0 - almostATexel;\\n\\n\t\t\tif ( absV.z >= almostOne ) {\\n\\n\t\t\t\tif ( v.z > 0.0 )\\n\t\t\t\t\tplanar.x = 4.0 - v.x;\\n\\n\t\t\t} else if ( absV.x >= almostOne ) {\\n\\n\t\t\t\tfloat signX = sign( v.x );\\n\t\t\t\tplanar.x = v.z * signX + 2.0 * signX;\\n\\n\t\t\t} else if ( absV.y >= almostOne ) {\\n\\n\t\t\t\tfloat signY = sign( v.y );\\n\t\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\t\t\t\tplanar.y = v.z * signY - 2.0;\\n\\n\t\t\t}\\n\\n\\n\t\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\n\t\t}\\n\\n\t#endif\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/shadowmap_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'shadowmap_pars_vertex'] = \"#ifdef USE_SHADOWMAP\\n\\n\tuniform float shadowDarkness[ MAX_SHADOWS ];\\n\tuniform mat4 shadowMatrix[ MAX_SHADOWS ];\\n\tvarying vec4 vShadowCoord[ MAX_SHADOWS ];\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/shadowmap_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'shadowmap_vertex'] = \"#ifdef USE_SHADOWMAP\\n\\n\tfor ( int i = 0; i < MAX_SHADOWS; i ++ ) {\\n\\n\t\t\tvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\\n\\n\t}\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/skinbase_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'skinbase_vertex'] = \"#ifdef USE_SKINNING\\n\\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/skinning_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'skinning_pars_vertex'] = \"#ifdef USE_SKINNING\\n\\n\tuniform mat4 bindMatrix;\\n\tuniform mat4 bindMatrixInverse;\\n\\n\t#ifdef BONE_TEXTURE\\n\\n\t\tuniform sampler2D boneTexture;\\n\t\tuniform int boneTextureWidth;\\n\t\tuniform int boneTextureHeight;\\n\\n\t\tmat4 getBoneMatrix( const in float i ) {\\n\\n\t\t\tfloat j = i * 4.0;\\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\\n\\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\\n\\n\t\t\ty = dy * ( y + 0.5 );\\n\\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\n\t\t\treturn bone;\\n\\n\t\t}\\n\\n\t#else\\n\\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\\n\\n\t\tmat4 getBoneMatrix( const in float i ) {\\n\\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\\n\t\t\treturn bone;\\n\\n\t\t}\\n\\n\t#endif\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/skinning_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'skinning_vertex'] = \"#ifdef USE_SKINNING\\n\\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\n\tvec4 skinned = vec4( 0.0 );\\n\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\tskinned  = bindMatrixInverse * skinned;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/skinnormal_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'skinnormal_vertex'] = \"#ifdef USE_SKINNING\\n\\n\tmat4 skinMatrix = mat4( 0.0 );\\n\tskinMatrix += skinWeight.x * boneMatX;\\n\tskinMatrix += skinWeight.y * boneMatY;\\n\tskinMatrix += skinWeight.z * boneMatZ;\\n\tskinMatrix += skinWeight.w * boneMatW;\\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/specularmap_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'specularmap_fragment'] = \"float specularStrength;\\n\\n#ifdef USE_SPECULARMAP\\n\\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\tspecularStrength = texelSpecular.r;\\n\\n#else\\n\\n\tspecularStrength = 1.0;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/specularmap_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'specularmap_pars_fragment'] = \"#ifdef USE_SPECULARMAP\\n\\n\tuniform sampler2D specularMap;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/uv2_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'uv2_pars_fragment'] = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\n\tvarying vec2 vUv2;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/uv2_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'uv2_pars_vertex'] = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\n\tattribute vec2 uv2;\\n\tvarying vec2 vUv2;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/uv2_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'uv2_vertex'] = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\n\tvUv2 = uv2;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/uv_pars_fragment.glsl\n\t\n\tTHREE.ShaderChunk[ 'uv_pars_fragment'] = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\\n\\n\tvarying vec2 vUv;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/uv_pars_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'uv_pars_vertex'] = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\\n\\n\tvarying vec2 vUv;\\n\tuniform vec4 offsetRepeat;\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/uv_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'uv_vertex'] = \"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP )\\n\\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\\n\\n#endif\";\n\t\n\t// File:src/renderers/shaders/ShaderChunk/worldpos_vertex.glsl\n\t\n\tTHREE.ShaderChunk[ 'worldpos_vertex'] = \"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\\n\\n\t#ifdef USE_SKINNING\\n\\n\t\tvec4 worldPosition = modelMatrix * skinned;\\n\\n\t#else\\n\\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n\\n\t#endif\\n\\n#endif\\n\";\n\t\n\t// File:src/renderers/shaders/UniformsUtils.js\n\t\n\t/**\n\t * Uniform Utilities\n\t */\n\t\n\tTHREE.UniformsUtils = {\n\t\n\t\tmerge: function ( uniforms ) {\n\t\n\t\t\tvar merged = {};\n\t\n\t\t\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\t\n\t\t\t\tvar tmp = this.clone( uniforms[ u ] );\n\t\n\t\t\t\tfor ( var p in tmp ) {\n\t\n\t\t\t\t\tmerged[ p ] = tmp[ p ];\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn merged;\n\t\n\t\t},\n\t\n\t\tclone: function ( uniforms_src ) {\n\t\n\t\t\tvar uniforms_dst = {};\n\t\n\t\t\tfor ( var u in uniforms_src ) {\n\t\n\t\t\t\tuniforms_dst[ u ] = {};\n\t\n\t\t\t\tfor ( var p in uniforms_src[ u ] ) {\n\t\n\t\t\t\t\tvar parameter_src = uniforms_src[ u ][ p ];\n\t\n\t\t\t\t\tif ( parameter_src instanceof THREE.Color ||\n\t\t\t\t\t\t parameter_src instanceof THREE.Vector2 ||\n\t\t\t\t\t\t parameter_src instanceof THREE.Vector3 ||\n\t\t\t\t\t\t parameter_src instanceof THREE.Vector4 ||\n\t\t\t\t\t\t parameter_src instanceof THREE.Matrix3 ||\n\t\t\t\t\t\t parameter_src instanceof THREE.Matrix4 ||\n\t\t\t\t\t\t parameter_src instanceof THREE.Texture ) {\n\t\n\t\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.clone();\n\t\n\t\t\t\t\t} else if ( Array.isArray( parameter_src ) ) {\n\t\n\t\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src.slice();\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tuniforms_dst[ u ][ p ] = parameter_src;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn uniforms_dst;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/renderers/shaders/UniformsLib.js\n\t\n\t/**\n\t * Uniforms library for shared webgl shaders\n\t */\n\t\n\tTHREE.UniformsLib = {\n\t\n\t\tcommon: {\n\t\n\t\t\t\"diffuse\" : { type: \"c\", value: new THREE.Color( 0xeeeeee ) },\n\t\t\t\"opacity\" : { type: \"f\", value: 1.0 },\n\t\n\t\t\t\"map\" : { type: \"t\", value: null },\n\t\t\t\"offsetRepeat\" : { type: \"v4\", value: new THREE.Vector4( 0, 0, 1, 1 ) },\n\t\n\t\t\t\"specularMap\" : { type: \"t\", value: null },\n\t\t\t\"alphaMap\" : { type: \"t\", value: null },\n\t\n\t\t\t\"envMap\" : { type: \"t\", value: null },\n\t\t\t\"flipEnvMap\" : { type: \"f\", value: - 1 },\n\t\t\t\"reflectivity\" : { type: \"f\", value: 1.0 },\n\t\t\t\"refractionRatio\" : { type: \"f\", value: 0.98 }\n\t\n\t\t},\n\t\n\t\taomap: {\n\t\n\t\t\t\"aoMap\" : { type: \"t\", value: null },\n\t\t\t\"aoMapIntensity\" : { type: \"f\", value: 1 },\n\t\n\t\t},\n\t\n\t\tlightmap: {\n\t\n\t\t\t\"lightMap\" : { type: \"t\", value: null },\n\t\t\t\"lightMapIntensity\" : { type: \"f\", value: 1 },\n\t\n\t\t},\n\t\n\t\temissivemap: {\n\t\n\t\t\t\"emissiveMap\" : { type: \"t\", value: null },\n\t\n\t\t},\n\t\n\t\tbumpmap: {\n\t\n\t\t\t\"bumpMap\" : { type: \"t\", value: null },\n\t\t\t\"bumpScale\" : { type: \"f\", value: 1 }\n\t\n\t\t},\n\t\n\t\tnormalmap: {\n\t\n\t\t\t\"normalMap\" : { type: \"t\", value: null },\n\t\t\t\"normalScale\" : { type: \"v2\", value: new THREE.Vector2( 1, 1 ) }\n\t\n\t\t},\n\t\n\t\tdisplacementmap: {\n\t\n\t\t\t\"displacementMap\" : { type: \"t\", value: null },\n\t\t\t\"displacementScale\" : { type: \"f\", value: 1 },\n\t\t\t\"displacementBias\" : { type: \"f\", value: 0 }\n\t\n\t\t},\n\t\n\t\tfog : {\n\t\n\t\t\t\"fogDensity\" : { type: \"f\", value: 0.00025 },\n\t\t\t\"fogNear\" : { type: \"f\", value: 1 },\n\t\t\t\"fogFar\" : { type: \"f\", value: 2000 },\n\t\t\t\"fogColor\" : { type: \"c\", value: new THREE.Color( 0xffffff ) }\n\t\n\t\t},\n\t\n\t\tlights: {\n\t\n\t\t\t\"ambientLightColor\" : { type: \"fv\", value: [] },\n\t\n\t\t\t\"directionalLightDirection\" : { type: \"fv\", value: [] },\n\t\t\t\"directionalLightColor\" : { type: \"fv\", value: [] },\n\t\n\t\t\t\"hemisphereLightDirection\" : { type: \"fv\", value: [] },\n\t\t\t\"hemisphereLightSkyColor\" : { type: \"fv\", value: [] },\n\t\t\t\"hemisphereLightGroundColor\" : { type: \"fv\", value: [] },\n\t\n\t\t\t\"pointLightColor\" : { type: \"fv\", value: [] },\n\t\t\t\"pointLightPosition\" : { type: \"fv\", value: [] },\n\t\t\t\"pointLightDistance\" : { type: \"fv1\", value: [] },\n\t\t\t\"pointLightDecay\" : { type: \"fv1\", value: [] },\n\t\n\t\t\t\"spotLightColor\" : { type: \"fv\", value: [] },\n\t\t\t\"spotLightPosition\" : { type: \"fv\", value: [] },\n\t\t\t\"spotLightDirection\" : { type: \"fv\", value: [] },\n\t\t\t\"spotLightDistance\" : { type: \"fv1\", value: [] },\n\t\t\t\"spotLightAngleCos\" : { type: \"fv1\", value: [] },\n\t\t\t\"spotLightExponent\" : { type: \"fv1\", value: [] },\n\t\t\t\"spotLightDecay\" : { type: \"fv1\", value: [] }\n\t\n\t\t},\n\t\n\t\tpoints: {\n\t\n\t\t\t\"psColor\" : { type: \"c\", value: new THREE.Color( 0xeeeeee ) },\n\t\t\t\"opacity\" : { type: \"f\", value: 1.0 },\n\t\t\t\"size\" : { type: \"f\", value: 1.0 },\n\t\t\t\"scale\" : { type: \"f\", value: 1.0 },\n\t\t\t\"map\" : { type: \"t\", value: null },\n\t\t\t\"offsetRepeat\" : { type: \"v4\", value: new THREE.Vector4( 0, 0, 1, 1 ) },\n\t\n\t\t\t\"fogDensity\" : { type: \"f\", value: 0.00025 },\n\t\t\t\"fogNear\" : { type: \"f\", value: 1 },\n\t\t\t\"fogFar\" : { type: \"f\", value: 2000 },\n\t\t\t\"fogColor\" : { type: \"c\", value: new THREE.Color( 0xffffff ) }\n\t\n\t\t},\n\t\n\t\tshadowmap: {\n\t\n\t\t\t\"shadowMap\": { type: \"tv\", value: [] },\n\t\t\t\"shadowMapSize\": { type: \"v2v\", value: [] },\n\t\n\t\t\t\"shadowBias\" : { type: \"fv1\", value: [] },\n\t\t\t\"shadowDarkness\": { type: \"fv1\", value: [] },\n\t\n\t\t\t\"shadowMatrix\" : { type: \"m4v\", value: [] }\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/renderers/shaders/ShaderLib.js\n\t\n\t/**\n\t * Webgl Shader Library for three.js\n\t *\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author mikael emtinger / http://gomo.se/\n\t */\n\t\n\t\n\tTHREE.ShaderLib = {\n\t\n\t\t'basic': {\n\t\n\t\t\tuniforms: THREE.UniformsUtils.merge( [\n\t\n\t\t\t\tTHREE.UniformsLib[ \"common\" ],\n\t\t\t\tTHREE.UniformsLib[ \"aomap\" ],\n\t\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\t\t\t\tTHREE.UniformsLib[ \"shadowmap\" ]\n\t\n\t\t\t] ),\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv2_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"uv_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"uv2_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\n\t\t\t\t\"\t#ifdef USE_ENVMAP\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"beginnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"defaultnormal_vertex\" ],\n\t\n\t\t\t\t\"\t#endif\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"begin_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"project_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"envmap_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform vec3 diffuse;\",\n\t\t\t\t\"uniform float opacity;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv2_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"map_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"alphamap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"aomap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"specularmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tvec3 outgoingLight = vec3( 0.0 );\",\n\t\t\t\t\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\t\t\t\t\"\tvec3 totalAmbientLight = vec3( 1.0 );\", // hardwired\n\t\t\t\t\"\tvec3 shadowMask = vec3( 1.0 );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"map_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"alphamap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"alphatest_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"specularmap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"aomap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\t\n\t\t\t\t\"\toutgoingLight = diffuseColor.rgb * totalAmbientLight * shadowMask;\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"envmap_fragment\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"linear_to_gamma_fragment\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\t\n\t\t\t\t\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t'lambert': {\n\t\n\t\t\tuniforms: THREE.UniformsUtils.merge( [\n\t\n\t\t\t\tTHREE.UniformsLib[ \"common\" ],\n\t\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\t\t\t\tTHREE.UniformsLib[ \"lights\" ],\n\t\t\t\tTHREE.UniformsLib[ \"shadowmap\" ],\n\t\n\t\t\t\t{\n\t\t\t\t\t\"emissive\" : { type: \"c\", value: new THREE.Color( 0x000000 ) }\n\t\t\t\t}\n\t\n\t\t\t] ),\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\t\"#define LAMBERT\",\n\t\n\t\t\t\t\"varying vec3 vLightFront;\",\n\t\n\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\t\n\t\t\t\t\"\tvarying vec3 vLightBack;\",\n\t\n\t\t\t\t\"#endif\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv2_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lights_lambert_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"uv_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"uv2_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"beginnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"defaultnormal_vertex\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"begin_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"project_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"envmap_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"lights_lambert_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform vec3 diffuse;\",\n\t\t\t\t\"uniform vec3 emissive;\",\n\t\t\t\t\"uniform float opacity;\",\n\t\n\t\t\t\t\"uniform vec3 ambientLightColor;\",\n\t\n\t\t\t\t\"varying vec3 vLightFront;\",\n\t\n\t\t\t\t\"#ifdef DOUBLE_SIDED\",\n\t\n\t\t\t\t\"\tvarying vec3 vLightBack;\",\n\t\n\t\t\t\t\"#endif\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv2_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"map_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"alphamap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"specularmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tvec3 outgoingLight = vec3( 0.0 );\",\t// outgoing light does not have an alpha, the surface does\n\t\t\t\t\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\t\t\t\t\"\tvec3 totalAmbientLight = ambientLightColor;\",\n\t\t\t\t\"\tvec3 shadowMask = vec3( 1.0 );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"map_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"alphamap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"alphatest_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"specularmap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\t\n\t\t\t\t\"\t#ifdef DOUBLE_SIDED\",\n\t\n\t\t\t\t\"\t\tif ( gl_FrontFacing )\",\n\t\t\t\t\"\t\t\toutgoingLight += diffuseColor.rgb * ( vLightFront * shadowMask + totalAmbientLight ) + emissive;\",\n\t\t\t\t\"\t\telse\",\n\t\t\t\t\"\t\t\toutgoingLight += diffuseColor.rgb * ( vLightBack * shadowMask + totalAmbientLight ) + emissive;\",\n\t\n\t\t\t\t\"\t#else\",\n\t\n\t\t\t\t\"\t\toutgoingLight += diffuseColor.rgb * ( vLightFront * shadowMask + totalAmbientLight ) + emissive;\",\n\t\n\t\t\t\t\"\t#endif\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"envmap_fragment\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"linear_to_gamma_fragment\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\t\n\t\t\t\t\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t'phong': {\n\t\n\t\t\tuniforms: THREE.UniformsUtils.merge( [\n\t\n\t\t\t\tTHREE.UniformsLib[ \"common\" ],\n\t\t\t\tTHREE.UniformsLib[ \"aomap\" ],\n\t\t\t\tTHREE.UniformsLib[ \"lightmap\" ],\n\t\t\t\tTHREE.UniformsLib[ \"emissivemap\" ],\n\t\t\t\tTHREE.UniformsLib[ \"bumpmap\" ],\n\t\t\t\tTHREE.UniformsLib[ \"normalmap\" ],\n\t\t\t\tTHREE.UniformsLib[ \"displacementmap\" ],\n\t\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\t\t\t\tTHREE.UniformsLib[ \"lights\" ],\n\t\t\t\tTHREE.UniformsLib[ \"shadowmap\" ],\n\t\n\t\t\t\t{\n\t\t\t\t\t\"emissive\" : { type: \"c\", value: new THREE.Color( 0x000000 ) },\n\t\t\t\t\t\"specular\" : { type: \"c\", value: new THREE.Color( 0x111111 ) },\n\t\t\t\t\t\"shininess\": { type: \"f\", value: 30 }\n\t\t\t\t}\n\t\n\t\t\t] ),\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\t\"#define PHONG\",\n\t\n\t\t\t\t\"varying vec3 vViewPosition;\",\n\t\n\t\t\t\t\"#ifndef FLAT_SHADED\",\n\t\n\t\t\t\t\"\tvarying vec3 vNormal;\",\n\t\n\t\t\t\t\"#endif\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv2_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"displacementmap_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lights_phong_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"uv_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"uv2_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"beginnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinnormal_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"defaultnormal_vertex\" ],\n\t\n\t\t\t\t\"#ifndef FLAT_SHADED\", // Normal computed with derivatives when FLAT_SHADED\n\t\n\t\t\t\t\"\tvNormal = normalize( transformedNormal );\",\n\t\n\t\t\t\t\"#endif\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"begin_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"displacementmap_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"project_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\"\tvViewPosition = - mvPosition.xyz;\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"envmap_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"lights_phong_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"#define PHONG\",\n\t\n\t\t\t\t\"uniform vec3 diffuse;\",\n\t\t\t\t\"uniform vec3 emissive;\",\n\t\t\t\t\"uniform vec3 specular;\",\n\t\t\t\t\"uniform float shininess;\",\n\t\t\t\t\"uniform float opacity;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"uv2_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"map_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"alphamap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"aomap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lightmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"emissivemap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"envmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"lights_phong_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"bumpmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"normalmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"specularmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tvec3 outgoingLight = vec3( 0.0 );\",\n\t\t\t\t\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\t\t\t\t\"\tvec3 totalAmbientLight = ambientLightColor;\",\n\t\t\t\t\"\tvec3 totalEmissiveLight = emissive;\",\n\t\t\t\t\"\tvec3 shadowMask = vec3( 1.0 );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"map_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"alphamap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"alphatest_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"specularmap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"normal_phong_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"lightmap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"hemilight_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"aomap_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"emissivemap_fragment\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"lights_phong_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\t\n\t\t\t\t\t\"totalDiffuseLight *= shadowMask;\",\n\t\t\t\t\t\"totalSpecularLight *= shadowMask;\",\n\t\n\t\t\t\t\t\"#ifdef METAL\",\n\t\n\t\t\t\t\t\"\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + totalAmbientLight ) * specular + totalSpecularLight + totalEmissiveLight;\",\n\t\n\t\t\t\t\t\"#else\",\n\t\n\t\t\t\t\t\"\toutgoingLight += diffuseColor.rgb * ( totalDiffuseLight + totalAmbientLight ) + totalSpecularLight + totalEmissiveLight;\",\n\t\n\t\t\t\t\t\"#endif\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"envmap_fragment\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"linear_to_gamma_fragment\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\t\n\t\t\t\t\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t'points': {\n\t\n\t\t\tuniforms: THREE.UniformsUtils.merge( [\n\t\n\t\t\t\tTHREE.UniformsLib[ \"points\" ],\n\t\t\t\tTHREE.UniformsLib[ \"shadowmap\" ]\n\t\n\t\t\t] ),\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\t\"uniform float size;\",\n\t\t\t\t\"uniform float scale;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\t\n\t\t\t\t\"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\t\n\t\t\t\t\"\t#ifdef USE_SIZEATTENUATION\",\n\t\t\t\t\"\t\tgl_PointSize = size * ( scale / length( mvPosition.xyz ) );\",\n\t\t\t\t\"\t#else\",\n\t\t\t\t\"\t\tgl_PointSize = size;\",\n\t\t\t\t\"\t#endif\",\n\t\n\t\t\t\t\"\tgl_Position = projectionMatrix * mvPosition;\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform vec3 psColor;\",\n\t\t\t\t\"uniform float opacity;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"map_particle_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tvec3 outgoingLight = vec3( 0.0 );\",\n\t\t\t\t\"\tvec4 diffuseColor = vec4( psColor, opacity );\",\n\t\t\t\t\"\tvec3 shadowMask = vec3( 1.0 );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"map_particle_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"alphatest_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"shadowmap_fragment\" ],\n\t\n\t\t\t\t\"\toutgoingLight = diffuseColor.rgb * shadowMask;\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\t\n\t\t\t\t\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t'dashed': {\n\t\n\t\t\tuniforms: THREE.UniformsUtils.merge( [\n\t\n\t\t\t\tTHREE.UniformsLib[ \"common\" ],\n\t\t\t\tTHREE.UniformsLib[ \"fog\" ],\n\t\n\t\t\t\t{\n\t\t\t\t\t\"scale\"    : { type: \"f\", value: 1 },\n\t\t\t\t\t\"dashSize\" : { type: \"f\", value: 1 },\n\t\t\t\t\t\"totalSize\": { type: \"f\", value: 2 }\n\t\t\t\t}\n\t\n\t\t\t] ),\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\t\"uniform float scale;\",\n\t\t\t\t\"attribute float lineDistance;\",\n\t\n\t\t\t\t\"varying float vLineDistance;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_vertex\" ],\n\t\n\t\t\t\t\"\tvLineDistance = scale * lineDistance;\",\n\t\n\t\t\t\t\"\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\",\n\t\t\t\t\"\tgl_Position = projectionMatrix * mvPosition;\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform vec3 diffuse;\",\n\t\t\t\t\"uniform float opacity;\",\n\t\n\t\t\t\t\"uniform float dashSize;\",\n\t\t\t\t\"uniform float totalSize;\",\n\t\n\t\t\t\t\"varying float vLineDistance;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"color_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"fog_pars_fragment\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\",\n\t\n\t\t\t\t\"\t\tdiscard;\",\n\t\n\t\t\t\t\"\t}\",\n\t\n\t\t\t\t\"\tvec3 outgoingLight = vec3( 0.0 );\",\n\t\t\t\t\"\tvec4 diffuseColor = vec4( diffuse, opacity );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"color_fragment\" ],\n\t\n\t\t\t\t\"\toutgoingLight = diffuseColor.rgb;\", // simple shader\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"fog_fragment\" ],\n\t\n\t\t\t\t\"\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t'depth': {\n\t\n\t\t\tuniforms: {\n\t\n\t\t\t\t\"mNear\": { type: \"f\", value: 1.0 },\n\t\t\t\t\"mFar\" : { type: \"f\", value: 2000.0 },\n\t\t\t\t\"opacity\" : { type: \"f\", value: 1.0 }\n\t\n\t\t\t},\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"begin_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"project_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform float mNear;\",\n\t\t\t\t\"uniform float mFar;\",\n\t\t\t\t\"uniform float opacity;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\n\t\t\t\t\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\n\t\n\t\t\t\t\"\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\",\n\t\n\t\t\t\t\"\t#else\",\n\t\n\t\t\t\t\"\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\",\n\t\n\t\t\t\t\"\t#endif\",\n\t\n\t\t\t\t\"\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );\",\n\t\t\t\t\"\tgl_FragColor = vec4( vec3( color ), opacity );\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t'normal': {\n\t\n\t\t\tuniforms: {\n\t\n\t\t\t\t\"opacity\" : { type: \"f\", value: 1.0 }\n\t\n\t\t\t},\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\t\"varying vec3 vNormal;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tvNormal = normalize( normalMatrix * normal );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"begin_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"project_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform float opacity;\",\n\t\t\t\t\"varying vec3 vNormal;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t/* -------------------------------------------------------------------------\n\t\t//\tCube map shader\n\t\t ------------------------------------------------------------------------- */\n\t\n\t\t'cube': {\n\t\n\t\t\tuniforms: { \"tCube\": { type: \"t\", value: null },\n\t\t\t\t\t\t\"tFlip\": { type: \"f\", value: - 1 } },\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\t\"varying vec3 vWorldPosition;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tvWorldPosition = transformDirection( position, modelMatrix );\",\n\t\n\t\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform samplerCube tCube;\",\n\t\t\t\t\"uniform float tFlip;\",\n\t\n\t\t\t\t\"varying vec3 vWorldPosition;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t/* -------------------------------------------------------------------------\n\t\t//\tCube map shader\n\t\t ------------------------------------------------------------------------- */\n\t\n\t\t'equirect': {\n\t\n\t\t\tuniforms: { \"tEquirect\": { type: \"t\", value: null },\n\t\t\t\t\t\t\"tFlip\": { type: \"f\", value: - 1 } },\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\t\"varying vec3 vWorldPosition;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\"\tvWorldPosition = transformDirection( position, modelMatrix );\",\n\t\n\t\t\t\t\"\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform sampler2D tEquirect;\",\n\t\t\t\t\"uniform float tFlip;\",\n\t\n\t\t\t\t\"varying vec3 vWorldPosition;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\t// \"\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\",\n\t\t\t\t\t\"vec3 direction = normalize( vWorldPosition );\",\n\t\t\t\t\t\"vec2 sampleUV;\",\n\t\t\t\t\t\"sampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\",\n\t\t\t\t\t\"sampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\n\t\t\t\t\t\"gl_FragColor = texture2D( tEquirect, sampleUV );\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\t/* Depth encoding into RGBA texture\n\t\t *\n\t\t * based on SpiderGL shadow map example\n\t\t * http://spidergl.org/example.php?id=6\n\t\t *\n\t\t * originally from\n\t\t * http://www.gamedev.net/topic/442138-packing-a-float-into-a-a8r8g8b8-texture-shader/page__whichpage__1%25EF%25BF%25BD\n\t\t *\n\t\t * see also\n\t\t * http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/\n\t\t */\n\t\n\t\t'depthRGBA': {\n\t\n\t\t\tuniforms: {},\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"begin_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"project_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_vertex\" ],\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_pars_fragment\" ],\n\t\n\t\t\t\t\"vec4 pack_depth( const in float depth ) {\",\n\t\n\t\t\t\t\"\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\",\n\t\t\t\t\"\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\",\n\t\t\t\t\"\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\", // \"\tvec4 res = fract( depth * bit_shift );\",\n\t\t\t\t\"\tres -= res.xxyz * bit_mask;\",\n\t\t\t\t\"\treturn res;\",\n\t\n\t\t\t\t\"}\",\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"logdepthbuf_fragment\" ],\n\t\n\t\t\t\t\"\t#ifdef USE_LOGDEPTHBUF_EXT\",\n\t\n\t\t\t\t\"\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\",\n\t\n\t\t\t\t\"\t#else\",\n\t\n\t\t\t\t\"\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\",\n\t\n\t\t\t\t\"\t#endif\",\n\t\n\t\t\t\t\t//\"gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z / gl_FragCoord.w );\",\n\t\t\t\t\t//\"float z = ( ( gl_FragCoord.z / gl_FragCoord.w ) - 3.0 ) / ( 4000.0 - 3.0 );\",\n\t\t\t\t\t//\"gl_FragData[ 0 ] = pack_depth( z );\",\n\t\t\t\t\t//\"gl_FragData[ 0 ] = vec4( z, z, z, 1.0 );\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t},\n\t\n\t\n\t\t'distanceRGBA': {\n\t\n\t\t\tuniforms: {\n\t\n\t\t\t\t\"lightPos\": { type: \"v3\", value: new THREE.Vector3( 0, 0, 0 ) }\n\t\n\t\t\t},\n\t\n\t\t\tvertexShader: [\n\t\n\t\t\t\t\"varying vec4 vWorldPosition;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_pars_vertex\" ],\n\t\t\t\tTHREE.ShaderChunk[ \"skinning_pars_vertex\" ],\n\t\n\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinbase_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"begin_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"morphtarget_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"skinning_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"project_vertex\" ],\n\t\t\t\t\tTHREE.ShaderChunk[ \"worldpos_vertex\" ],\n\t\n\t\t\t\t\t\"vWorldPosition = worldPosition;\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" ),\n\t\n\t\t\tfragmentShader: [\n\t\n\t\t\t\t\"uniform vec3 lightPos;\",\n\t\t\t\t\"varying vec4 vWorldPosition;\",\n\t\n\t\t\t\tTHREE.ShaderChunk[ \"common\" ],\n\t\n\t\t\t\t\"vec4 pack1K ( float depth ) {\",\n\t\n\t\t\t\t\"   depth /= 1000.0;\",\n\t\t\t\t\"   const vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\",\n\t  \t\t\t\"\tconst vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\",\n\t   \t\t\t\"\tvec4 res = fract( depth * bitSh );\",\n\t   \t\t\t\"\tres -= res.xxyz * bitMsk;\",\n\t   \t\t\t\"\treturn res; \",\n\t\n\t\t\t\t\"}\",\n\t\n\t\t\t\t\"float unpack1K ( vec4 color ) {\",\n\t\n\t\t\t\t\"\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\",\n\t\t\t\t\"\treturn dot( color, bitSh ) * 1000.0;\",\n\t\n\t\t\t\t\"}\",\n\t\n\t\t\t\t\"void main () {\",\n\t\n\t\t\t\t\"\tgl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );\",\n\t\n\t\t\t\t\"}\"\n\t\n\t\t\t].join( \"\\n\" )\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/renderers/WebGLRenderer.js\n\t\n\t/**\n\t * @author supereggbert / http://www.paulbrunt.co.uk/\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author szimek / https://github.com/szimek/\n\t */\n\t\n\tTHREE.WebGLRenderer = function ( parameters ) {\n\t\n\t\tconsole.log( 'THREE.WebGLRenderer', THREE.REVISION );\n\t\n\t\tparameters = parameters || {};\n\t\n\t\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElement( 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\t\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\t\n\t\tpixelRatio = 1,\n\t\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\n\t\t_clearColor = new THREE.Color( 0x000000 ),\n\t\t_clearAlpha = 0;\n\t\n\t\tvar lights = [];\n\t\n\t\tvar opaqueObjects = [];\n\t\tvar opaqueObjectsLastIndex = - 1;\n\t\tvar transparentObjects = [];\n\t\tvar transparentObjectsLastIndex = - 1;\n\t\n\t\tvar morphInfluences = new Float32Array( 8 );\n\t\n\t\n\t\tvar sprites = [];\n\t\tvar lensFlares = [];\n\t\n\t\t// public properties\n\t\n\t\tthis.domElement = _canvas;\n\t\tthis.context = null;\n\t\n\t\t// clearing\n\t\n\t\tthis.autoClear = true;\n\t\tthis.autoClearColor = true;\n\t\tthis.autoClearDepth = true;\n\t\tthis.autoClearStencil = true;\n\t\n\t\t// scene graph\n\t\n\t\tthis.sortObjects = true;\n\t\n\t\t// physically based shading\n\t\n\t\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\t\tthis.gammaInput = false;\n\t\tthis.gammaOutput = false;\n\t\n\t\t// morphs\n\t\n\t\tthis.maxMorphTargets = 8;\n\t\tthis.maxMorphNormals = 4;\n\t\n\t\t// flags\n\t\n\t\tthis.autoScaleCubemaps = true;\n\t\n\t\t// internal properties\n\t\n\t\tvar _this = this,\n\t\n\t\t// internal state cache\n\t\n\t\t_currentProgram = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\t\t_currentGeometryProgram = '',\n\t\t_currentCamera = null,\n\t\n\t\t_usedTextureUnits = 0,\n\t\n\t\t_viewportX = 0,\n\t\t_viewportY = 0,\n\t\t_viewportWidth = _canvas.width,\n\t\t_viewportHeight = _canvas.height,\n\t\t_currentWidth = 0,\n\t\t_currentHeight = 0,\n\t\n\t\t// frustum\n\t\n\t\t_frustum = new THREE.Frustum(),\n\t\n\t\t // camera matrices cache\n\t\n\t\t_projScreenMatrix = new THREE.Matrix4(),\n\t\n\t\t_vector3 = new THREE.Vector3(),\n\t\n\t\t// light arrays cache\n\t\n\t\t_direction = new THREE.Vector3(),\n\t\n\t\t_lightsNeedUpdate = true,\n\t\n\t\t_lights = {\n\t\n\t\t\tambient: [ 0, 0, 0 ],\n\t\t\tdirectional: { length: 0, colors: [], positions: [] },\n\t\t\tpoint: { length: 0, colors: [], positions: [], distances: [], decays: [] },\n\t\t\tspot: { length: 0, colors: [], positions: [], distances: [], directions: [], anglesCos: [], exponents: [], decays: [] },\n\t\t\themi: { length: 0, skyColors: [], groundColors: [], positions: [] }\n\t\n\t\t},\n\t\n\t\t// info\n\t\n\t\t_infoMemory = {\n\t\n\t\t\tgeometries: 0,\n\t\t\ttextures: 0\n\t\n\t\t},\n\t\n\t\t_infoRender = {\n\t\n\t\t\tcalls: 0,\n\t\t\tvertices: 0,\n\t\t\tfaces: 0,\n\t\t\tpoints: 0\n\t\n\t\t};\n\t\n\t\tthis.info = {\n\t\n\t\t\trender: _infoRender,\n\t\t\tmemory: _infoMemory,\n\t\t\tprograms: null\n\t\n\t\t};\n\t\n\t\n\t\t// initialize\n\t\n\t\tvar _gl;\n\t\n\t\ttry {\n\t\n\t\t\tvar attributes = {\n\t\t\t\talpha: _alpha,\n\t\t\t\tdepth: _depth,\n\t\t\t\tstencil: _stencil,\n\t\t\t\tantialias: _antialias,\n\t\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer\n\t\t\t};\n\t\n\t\t\t_gl = _context || _canvas.getContext( 'webgl', attributes ) || _canvas.getContext( 'experimental-webgl', attributes );\n\t\n\t\t\tif ( _gl === null ) {\n\t\n\t\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\t\n\t\t\t\t\tthrow 'Error creating WebGL context with your selected attributes.';\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthrow 'Error creating WebGL context.';\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\n\t\t} catch ( error ) {\n\t\n\t\t\tconsole.error( 'THREE.WebGLRenderer: ' + error );\n\t\n\t\t}\n\t\n\t\tvar extensions = new THREE.WebGLExtensions( _gl );\n\t\n\t\textensions.get( 'OES_texture_float' );\n\t\textensions.get( 'OES_texture_float_linear' );\n\t\textensions.get( 'OES_texture_half_float' );\n\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\textensions.get( 'OES_standard_derivatives' );\n\t\textensions.get( 'ANGLE_instanced_arrays' );\n\t\n\t\tif ( extensions.get( 'OES_element_index_uint' ) ) {\n\t\n\t\t\tTHREE.BufferGeometry.MaxIndex = 4294967296;\n\t\n\t\t}\n\t\n\t\tvar capabilities = new THREE.WebGLCapabilities( _gl, extensions, parameters );\n\t\n\t\tvar state = new THREE.WebGLState( _gl, extensions, paramThreeToGL );\n\t\tvar properties = new THREE.WebGLProperties();\n\t\tvar objects = new THREE.WebGLObjects( _gl, properties, this.info );\n\t\tvar programCache = new THREE.WebGLPrograms( this, capabilities );\n\t\n\t\tthis.info.programs = programCache.programs;\n\t\n\t\tvar bufferRenderer = new THREE.WebGLBufferRenderer( _gl, extensions, _infoRender );\n\t\tvar indexedBufferRenderer = new THREE.WebGLIndexedBufferRenderer( _gl, extensions, _infoRender );\n\t\n\t\t//\n\t\n\t\tfunction glClearColor( r, g, b, a ) {\n\t\n\t\t\tif ( _premultipliedAlpha === true ) {\n\t\n\t\t\t\tr *= a; g *= a; b *= a;\n\t\n\t\t\t}\n\t\n\t\t\t_gl.clearColor( r, g, b, a );\n\t\n\t\t}\n\t\n\t\tfunction setDefaultGLState() {\n\t\n\t\t\tstate.init();\n\t\n\t\t\t_gl.viewport( _viewportX, _viewportY, _viewportWidth, _viewportHeight );\n\t\n\t\t\tglClearColor( _clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha );\n\t\n\t\t}\n\t\n\t\tfunction resetGLState() {\n\t\n\t\t\t_currentProgram = null;\n\t\t\t_currentCamera = null;\n\t\n\t\t\t_currentGeometryProgram = '';\n\t\t\t_currentMaterialId = - 1;\n\t\n\t\t\t_lightsNeedUpdate = true;\n\t\n\t\t\tstate.reset();\n\t\n\t\t}\n\t\n\t\tsetDefaultGLState();\n\t\n\t\tthis.context = _gl;\n\t\tthis.capabilities = capabilities;\n\t\tthis.extensions = extensions;\n\t\tthis.state = state;\n\t\n\t\t// shadow map\n\t\n\t\tvar shadowMap = new THREE.WebGLShadowMap( this, lights, objects );\n\t\n\t\tthis.shadowMap = shadowMap;\n\t\n\t\n\t\t// Plugins\n\t\n\t\tvar spritePlugin = new THREE.SpritePlugin( this, sprites );\n\t\tvar lensFlarePlugin = new THREE.LensFlarePlugin( this, lensFlares );\n\t\n\t\t// API\n\t\n\t\tthis.getContext = function () {\n\t\n\t\t\treturn _gl;\n\t\n\t\t};\n\t\n\t\tthis.getContextAttributes = function () {\n\t\n\t\t\treturn _gl.getContextAttributes();\n\t\n\t\t};\n\t\n\t\tthis.forceContextLoss = function () {\n\t\n\t\t\textensions.get( 'WEBGL_lose_context' ).loseContext();\n\t\n\t\t};\n\t\n\t\tthis.getMaxAnisotropy = ( function () {\n\t\n\t\t\tvar value;\n\t\n\t\t\treturn function getMaxAnisotropy() {\n\t\n\t\t\t\tif ( value !== undefined ) return value;\n\t\n\t\t\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\t\n\t\t\t\tif ( extension !== null ) {\n\t\n\t\t\t\t\tvalue = _gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tvalue = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn value;\n\t\n\t\t\t}\n\t\n\t\t} )();\n\t\n\t\tthis.getPrecision = function () {\n\t\n\t\t\treturn capabilities.precision;\n\t\n\t\t};\n\t\n\t\tthis.getPixelRatio = function () {\n\t\n\t\t\treturn pixelRatio;\n\t\n\t\t};\n\t\n\t\tthis.setPixelRatio = function ( value ) {\n\t\n\t\t\tif ( value !== undefined ) pixelRatio = value;\n\t\n\t\t};\n\t\n\t\tthis.getSize = function () {\n\t\n\t\t\treturn {\n\t\t\t\twidth: _width,\n\t\t\t\theight: _height\n\t\t\t};\n\t\n\t\t};\n\t\n\t\tthis.setSize = function ( width, height, updateStyle ) {\n\t\n\t\t\t_width = width;\n\t\t\t_height = height;\n\t\n\t\t\t_canvas.width = width * pixelRatio;\n\t\t\t_canvas.height = height * pixelRatio;\n\t\n\t\t\tif ( updateStyle !== false ) {\n\t\n\t\t\t\t_canvas.style.width = width + 'px';\n\t\t\t\t_canvas.style.height = height + 'px';\n\t\n\t\t\t}\n\t\n\t\t\tthis.setViewport( 0, 0, width, height );\n\t\n\t\t};\n\t\n\t\tthis.setViewport = function ( x, y, width, height ) {\n\t\n\t\t\t_viewportX = x * pixelRatio;\n\t\t\t_viewportY = y * pixelRatio;\n\t\n\t\t\t_viewportWidth = width * pixelRatio;\n\t\t\t_viewportHeight = height * pixelRatio;\n\t\n\t\t\t_gl.viewport( _viewportX, _viewportY, _viewportWidth, _viewportHeight );\n\t\n\t\t};\n\t\n\t\tthis.getViewport = function ( dimensions ) {\n\t\n\t\t\tdimensions.x = _viewportX / pixelRatio;\n\t\t\tdimensions.y = _viewportY / pixelRatio;\n\t\n\t\t\tdimensions.z = _viewportWidth / pixelRatio;\n\t\t\tdimensions.w = _viewportHeight / pixelRatio;\n\t\n\t\t};\n\t\n\t\tthis.setScissor = function ( x, y, width, height ) {\n\t\n\t\t\t_gl.scissor(\n\t\t\t\tx * pixelRatio,\n\t\t\t\ty * pixelRatio,\n\t\t\t\twidth * pixelRatio,\n\t\t\t\theight * pixelRatio\n\t\t\t);\n\t\n\t\t};\n\t\n\t\tthis.enableScissorTest = function ( boolean ) {\n\t\n\t\t\tstate.setScissorTest( boolean );\n\t\n\t\t};\n\t\n\t\t// Clearing\n\t\n\t\tthis.getClearColor = function () {\n\t\n\t\t\treturn _clearColor;\n\t\n\t\t};\n\t\n\t\tthis.setClearColor = function ( color, alpha ) {\n\t\n\t\t\t_clearColor.set( color );\n\t\n\t\t\t_clearAlpha = alpha !== undefined ? alpha : 1;\n\t\n\t\t\tglClearColor( _clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha );\n\t\n\t\t};\n\t\n\t\tthis.getClearAlpha = function () {\n\t\n\t\t\treturn _clearAlpha;\n\t\n\t\t};\n\t\n\t\tthis.setClearAlpha = function ( alpha ) {\n\t\n\t\t\t_clearAlpha = alpha;\n\t\n\t\t\tglClearColor( _clearColor.r, _clearColor.g, _clearColor.b, _clearAlpha );\n\t\n\t\t};\n\t\n\t\tthis.clear = function ( color, depth, stencil ) {\n\t\n\t\t\tvar bits = 0;\n\t\n\t\t\tif ( color === undefined || color ) bits |= _gl.COLOR_BUFFER_BIT;\n\t\t\tif ( depth === undefined || depth ) bits |= _gl.DEPTH_BUFFER_BIT;\n\t\t\tif ( stencil === undefined || stencil ) bits |= _gl.STENCIL_BUFFER_BIT;\n\t\n\t\t\t_gl.clear( bits );\n\t\n\t\t};\n\t\n\t\tthis.clearColor = function () {\n\t\n\t\t\t_gl.clear( _gl.COLOR_BUFFER_BIT );\n\t\n\t\t};\n\t\n\t\tthis.clearDepth = function () {\n\t\n\t\t\t_gl.clear( _gl.DEPTH_BUFFER_BIT );\n\t\n\t\t};\n\t\n\t\tthis.clearStencil = function () {\n\t\n\t\t\t_gl.clear( _gl.STENCIL_BUFFER_BIT );\n\t\n\t\t};\n\t\n\t\tthis.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\t\n\t\t\tthis.setRenderTarget( renderTarget );\n\t\t\tthis.clear( color, depth, stencil );\n\t\n\t\t};\n\t\n\t\t// Reset\n\t\n\t\tthis.resetGLState = resetGLState;\n\t\n\t\tthis.dispose = function() {\n\t\n\t\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\n\t\t};\n\t\n\t\t// Events\n\t\n\t\tfunction onContextLost( event ) {\n\t\n\t\t\tevent.preventDefault();\n\t\n\t\t\tresetGLState();\n\t\t\tsetDefaultGLState();\n\t\n\t\t\tproperties.clear();\n\t\n\t\t};\n\t\n\t\tfunction onTextureDispose( event ) {\n\t\n\t\t\tvar texture = event.target;\n\t\n\t\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\t\n\t\t\tdeallocateTexture( texture );\n\t\n\t\t\t_infoMemory.textures --;\n\t\n\t\n\t\t}\n\t\n\t\tfunction onRenderTargetDispose( event ) {\n\t\n\t\t\tvar renderTarget = event.target;\n\t\n\t\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\t\n\t\t\tdeallocateRenderTarget( renderTarget );\n\t\n\t\t\t_infoMemory.textures --;\n\t\n\t\t}\n\t\n\t\tfunction onMaterialDispose( event ) {\n\t\n\t\t\tvar material = event.target;\n\t\n\t\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\t\n\t\t\tdeallocateMaterial( material );\n\t\n\t\t}\n\t\n\t\t// Buffer deallocation\n\t\n\t\tfunction deallocateTexture( texture ) {\n\t\n\t\t\tvar textureProperties = properties.get( texture );\n\t\n\t\t\tif ( texture.image && textureProperties.__image__webglTextureCube ) {\n\t\n\t\t\t\t// cube texture\n\t\n\t\t\t\t_gl.deleteTexture( textureProperties.__image__webglTextureCube );\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// 2D texture\n\t\n\t\t\t\tif ( textureProperties.__webglInit === undefined ) return;\n\t\n\t\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\t\n\t\t\t}\n\t\n\t\t\t// remove all webgl properties\n\t\t\tproperties.delete( texture );\n\t\n\t\t}\n\t\n\t\tfunction deallocateRenderTarget( renderTarget ) {\n\t\n\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\n\t\t\tif ( ! renderTarget || textureProperties.__webglTexture === undefined ) return;\n\t\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\t\n\t\t\tif ( renderTarget instanceof THREE.WebGLRenderTargetCube ) {\n\t\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\t\n\t\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\t_gl.deleteRenderbuffer( renderTargetProperties.__webglRenderbuffer[ i ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\t\t_gl.deleteRenderbuffer( renderTargetProperties.__webglRenderbuffer );\n\t\n\t\t\t}\n\t\n\t\t\tproperties.delete( renderTarget.texture );\n\t\t\tproperties.delete( renderTarget );\n\t\n\t\t}\n\t\n\t\tfunction deallocateMaterial( material ) {\n\t\n\t\t\treleaseMaterialProgramReference( material );\n\t\n\t\t\tproperties.delete( material );\n\t\n\t\t}\n\t\n\t\n\t\tfunction releaseMaterialProgramReference( material ) {\n\t\n\t\t\tvar programInfo = properties.get( material ).program;\n\t\n\t\t\tmaterial.program = undefined;\n\t\n\t\t\tif ( programInfo !== undefined ) {\n\t\n\t\t\t\tprogramCache.releaseProgram( programInfo );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// Buffer rendering\n\t\n\t\tthis.renderBufferImmediate = function ( object, program, material ) {\n\t\n\t\t\tstate.initAttributes();\n\t\n\t\t\tvar buffers = properties.get( object );\n\t\n\t\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\t\n\t\t\tvar attributes = program.getAttributes();\n\t\n\t\t\tif ( object.hasPositions ) {\n\t\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.position );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\n\t\n\t\t\t\tstate.enableAttribute( attributes.position );\n\t\t\t\t_gl.vertexAttribPointer( attributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\t\n\t\t\t}\n\t\n\t\t\tif ( object.hasNormals ) {\n\t\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.normal );\n\t\n\t\t\t\tif ( material.type !== 'MeshPhongMaterial' && material.shading === THREE.FlatShading ) {\n\t\n\t\t\t\t\tfor ( var i = 0, l = object.count * 3; i < l; i += 9 ) {\n\t\n\t\t\t\t\t\tvar array = object.normalArray;\n\t\n\t\t\t\t\t\tvar nx = ( array[ i + 0 ] + array[ i + 3 ] + array[ i + 6 ] ) / 3;\n\t\t\t\t\t\tvar ny = ( array[ i + 1 ] + array[ i + 4 ] + array[ i + 7 ] ) / 3;\n\t\t\t\t\t\tvar nz = ( array[ i + 2 ] + array[ i + 5 ] + array[ i + 8 ] ) / 3;\n\t\n\t\t\t\t\t\tarray[ i + 0 ] = nx;\n\t\t\t\t\t\tarray[ i + 1 ] = ny;\n\t\t\t\t\t\tarray[ i + 2 ] = nz;\n\t\n\t\t\t\t\t\tarray[ i + 3 ] = nx;\n\t\t\t\t\t\tarray[ i + 4 ] = ny;\n\t\t\t\t\t\tarray[ i + 5 ] = nz;\n\t\n\t\t\t\t\t\tarray[ i + 6 ] = nx;\n\t\t\t\t\t\tarray[ i + 7 ] = ny;\n\t\t\t\t\t\tarray[ i + 8 ] = nz;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\n\t\n\t\t\t\tstate.enableAttribute( attributes.normal );\n\t\n\t\t\t\t_gl.vertexAttribPointer( attributes.normal, 3, _gl.FLOAT, false, 0, 0 );\n\t\n\t\t\t}\n\t\n\t\t\tif ( object.hasUvs && material.map ) {\n\t\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.uv );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\n\t\n\t\t\t\tstate.enableAttribute( attributes.uv );\n\t\n\t\t\t\t_gl.vertexAttribPointer( attributes.uv, 2, _gl.FLOAT, false, 0, 0 );\n\t\n\t\t\t}\n\t\n\t\t\tif ( object.hasColors && material.vertexColors !== THREE.NoColors ) {\n\t\n\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.color );\n\t\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\n\t\n\t\t\t\tstate.enableAttribute( attributes.color );\n\t\n\t\t\t\t_gl.vertexAttribPointer( attributes.color, 3, _gl.FLOAT, false, 0, 0 );\n\t\n\t\t\t}\n\t\n\t\t\tstate.disableUnusedAttributes();\n\t\n\t\t\t_gl.drawArrays( _gl.TRIANGLES, 0, object.count );\n\t\n\t\t\tobject.count = 0;\n\t\n\t\t};\n\t\n\t\tthis.renderBufferDirect = function ( camera, lights, fog, geometry, material, object, group ) {\n\t\n\t\t\tsetMaterial( material );\n\t\n\t\t\tvar program = setProgram( camera, lights, fog, material, object );\n\t\n\t\t\tvar updateBuffers = false;\n\t\t\tvar geometryProgram = geometry.id + '_' + program.id + '_' + material.wireframe;\n\t\n\t\t\tif ( geometryProgram !== _currentGeometryProgram ) {\n\t\n\t\t\t\t_currentGeometryProgram = geometryProgram;\n\t\t\t\tupdateBuffers = true;\n\t\n\t\t\t}\n\t\n\t\t\t// morph targets\n\t\n\t\t\tvar morphTargetInfluences = object.morphTargetInfluences;\n\t\n\t\t\tif ( morphTargetInfluences !== undefined ) {\n\t\n\t\t\t\tvar activeInfluences = [];\n\t\n\t\t\t\tfor ( var i = 0, l = morphTargetInfluences.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tvar influence = morphTargetInfluences[ i ];\n\t\t\t\t\tactiveInfluences.push( [ influence, i ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tactiveInfluences.sort( numericalSort );\n\t\n\t\t\t\tif ( activeInfluences.length > 8 ) {\n\t\n\t\t\t\t\tactiveInfluences.length = 8;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\n\t\t\t\tfor ( var i = 0, l = activeInfluences.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tvar influence = activeInfluences[ i ];\n\t\t\t\t\tmorphInfluences[ i ] = influence[ 0 ];\n\t\n\t\t\t\t\tif ( influence[ 0 ] !== 0 ) {\n\t\n\t\t\t\t\t\tvar index = influence[ 1 ];\n\t\n\t\t\t\t\t\tif ( material.morphTargets === true && morphAttributes.position ) geometry.addAttribute( 'morphTarget' + i, morphAttributes.position[ index ] );\n\t\t\t\t\t\tif ( material.morphNormals === true && morphAttributes.normal ) geometry.addAttribute( 'morphNormal' + i, morphAttributes.normal[ index ] );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tif ( material.morphTargets === true ) geometry.removeAttribute( 'morphTarget' + i );\n\t\t\t\t\t\tif ( material.morphNormals === true ) geometry.removeAttribute( 'morphNormal' + i );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar uniforms = program.getUniforms();\n\t\n\t\t\t\tif ( uniforms.morphTargetInfluences !== null ) {\n\t\n\t\t\t\t\t_gl.uniform1fv( uniforms.morphTargetInfluences, morphInfluences );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tupdateBuffers = true;\n\t\n\t\t\t}\n\t\n\t\t\t//\n\t\n\t\t\tvar index = geometry.index;\n\t\t\tvar position = geometry.attributes.position;\n\t\n\t\t\tif ( material.wireframe === true ) {\n\t\n\t\t\t\tindex = objects.getWireframeAttribute( geometry );\n\t\n\t\t\t}\n\t\n\t\t\tvar renderer;\n\t\n\t\t\tif ( index !== null ) {\n\t\n\t\t\t\trenderer = indexedBufferRenderer;\n\t\t\t\trenderer.setIndex( index );\n\t\n\t\t\t} else {\n\t\n\t\t\t\trenderer = bufferRenderer;\n\t\n\t\t\t}\n\t\n\t\t\tif ( updateBuffers ) {\n\t\n\t\t\t\tsetupVertexAttributes( material, program, geometry );\n\t\n\t\t\t\tif ( index !== null ) {\n\t\n\t\t\t\t\t_gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, objects.getAttributeBuffer( index ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t//\n\t\n\t\t\tvar dataStart = 0;\n\t\t\tvar dataCount = Infinity;\n\t\n\t\t\tif ( index !== null ) {\n\t\n\t\t\t\tdataCount = index.count\n\t\n\t\t\t} else if ( position !== undefined ) {\n\t\n\t\t\t\tdataCount = position.count;\n\t\n\t\t\t}\n\t\n\t\t\tvar rangeStart = geometry.drawRange.start;\n\t\t\tvar rangeCount = geometry.drawRange.count;\n\t\n\t\t\tvar groupStart = group !== null ? group.start : 0;\n\t\t\tvar groupCount = group !== null ? group.count : Infinity;\n\t\n\t\t\tvar drawStart = Math.max( dataStart, rangeStart, groupStart );\n\t\t\tvar drawEnd = Math.min( dataStart + dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\t\n\t\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\t\n\t\t\t//\n\t\n\t\t\tif ( object instanceof THREE.Mesh ) {\n\t\n\t\t\t\tif ( material.wireframe === true ) {\n\t\n\t\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * pixelRatio );\n\t\t\t\t\trenderer.setMode( _gl.LINES );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\trenderer.setMode( _gl.TRIANGLES );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( geometry instanceof THREE.InstancedBufferGeometry && geometry.maxInstancedCount > 0 ) {\n\t\n\t\t\t\t\trenderer.renderInstances( geometry );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\trenderer.render( drawStart, drawCount );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( object instanceof THREE.Line ) {\n\t\n\t\t\t\tvar lineWidth = material.linewidth;\n\t\n\t\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\t\n\t\t\t\tstate.setLineWidth( lineWidth * pixelRatio );\n\t\n\t\t\t\tif ( object instanceof THREE.LineSegments ) {\n\t\n\t\t\t\t\trenderer.setMode( _gl.LINES );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\trenderer.setMode( _gl.LINE_STRIP );\n\t\n\t\t\t\t}\n\t\n\t\t\t\trenderer.render( drawStart, drawCount );\n\t\n\t\t\t} else if ( object instanceof THREE.Points ) {\n\t\n\t\t\t\trenderer.setMode( _gl.POINTS );\n\t\t\t\trenderer.render( drawStart, drawCount );\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tfunction setupVertexAttributes( material, program, geometry, startIndex ) {\n\t\n\t\t\tvar extension;\n\t\n\t\t\tif ( geometry instanceof THREE.InstancedBufferGeometry ) {\n\t\n\t\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\n\t\t\t\tif ( extension === null ) {\n\t\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\t\treturn;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( startIndex === undefined ) startIndex = 0;\n\t\n\t\t\tstate.initAttributes();\n\t\n\t\t\tvar geometryAttributes = geometry.attributes;\n\t\n\t\t\tvar programAttributes = program.getAttributes();\n\t\n\t\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\t\n\t\t\tfor ( var name in programAttributes ) {\n\t\n\t\t\t\tvar programAttribute = programAttributes[ name ];\n\t\n\t\t\t\tif ( programAttribute >= 0 ) {\n\t\n\t\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\t\n\t\t\t\t\tif ( geometryAttribute !== undefined ) {\n\t\n\t\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\t\t\t\t\t\tvar buffer = objects.getAttributeBuffer( geometryAttribute );\n\t\n\t\t\t\t\t\tif ( geometryAttribute instanceof THREE.InterleavedBufferAttribute ) {\n\t\n\t\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\t\n\t\t\t\t\t\t\tif ( data instanceof THREE.InstancedInterleavedBuffer ) {\n\t\n\t\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute, extension );\n\t\n\t\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\t\n\t\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\t\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, _gl.FLOAT, false, stride * data.array.BYTES_PER_ELEMENT, ( startIndex * stride + offset ) * data.array.BYTES_PER_ELEMENT );\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tif ( geometryAttribute instanceof THREE.InstancedBufferAttribute ) {\n\t\n\t\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute, extension );\n\t\n\t\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\t\n\t\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\t\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, _gl.FLOAT, false, 0, startIndex * size * 4 ); // 4 bytes per Float32\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\t\n\t\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\t\n\t\t\t\t\t\tif ( value !== undefined ) {\n\t\n\t\t\t\t\t\t\tswitch ( value.length ) {\n\t\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tstate.disableUnusedAttributes();\n\t\n\t\t}\n\t\n\t\t// Sorting\n\t\n\t\tfunction numericalSort ( a, b ) {\n\t\n\t\t\treturn b[ 0 ] - a[ 0 ];\n\t\n\t\t}\n\t\n\t\tfunction painterSortStable ( a, b ) {\n\t\n\t\t\tif ( a.object.renderOrder !== b.object.renderOrder ) {\n\t\n\t\t\t\treturn a.object.renderOrder - b.object.renderOrder;\n\t\n\t\t\t} else if ( a.material.id !== b.material.id ) {\n\t\n\t\t\t\treturn a.material.id - b.material.id;\n\t\n\t\t\t} else if ( a.z !== b.z ) {\n\t\n\t\t\t\treturn a.z - b.z;\n\t\n\t\t\t} else {\n\t\n\t\t\t\treturn a.id - b.id;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction reversePainterSortStable ( a, b ) {\n\t\n\t\t\tif ( a.object.renderOrder !== b.object.renderOrder ) {\n\t\n\t\t\t\treturn a.object.renderOrder - b.object.renderOrder;\n\t\n\t\t\t} if ( a.z !== b.z ) {\n\t\n\t\t\t\treturn b.z - a.z;\n\t\n\t\t\t} else {\n\t\n\t\t\t\treturn a.id - b.id;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// Rendering\n\t\n\t\tthis.render = function ( scene, camera, renderTarget, forceClear ) {\n\t\n\t\t\tif ( camera instanceof THREE.Camera === false ) {\n\t\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tvar fog = scene.fog;\n\t\n\t\t\t// reset caching for this frame\n\t\n\t\t\t_currentGeometryProgram = '';\n\t\t\t_currentMaterialId = - 1;\n\t\t\t_currentCamera = null;\n\t\t\t_lightsNeedUpdate = true;\n\t\n\t\t\t// update scene graph\n\t\n\t\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\t\n\t\t\t// update camera matrices and frustum\n\t\n\t\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\t\n\t\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\t\n\t\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\t\n\t\t\tlights.length = 0;\n\t\n\t\t\topaqueObjectsLastIndex = - 1;\n\t\t\ttransparentObjectsLastIndex = - 1;\n\t\n\t\t\tsprites.length = 0;\n\t\t\tlensFlares.length = 0;\n\t\n\t\t\tprojectObject( scene, camera );\n\t\n\t\t\topaqueObjects.length = opaqueObjectsLastIndex + 1;\n\t\t\ttransparentObjects.length = transparentObjectsLastIndex + 1;\n\t\n\t\t\tif ( _this.sortObjects === true ) {\n\t\n\t\t\t\topaqueObjects.sort( painterSortStable );\n\t\t\t\ttransparentObjects.sort( reversePainterSortStable );\n\t\n\t\t\t}\n\t\n\t\t\t//\n\t\n\t\t\tshadowMap.render( scene );\n\t\n\t\t\t//\n\t\n\t\t\t_infoRender.calls = 0;\n\t\t\t_infoRender.vertices = 0;\n\t\t\t_infoRender.faces = 0;\n\t\t\t_infoRender.points = 0;\n\t\n\t\t\tthis.setRenderTarget( renderTarget );\n\t\n\t\t\tif ( this.autoClear || forceClear ) {\n\t\n\t\t\t\tthis.clear( this.autoClearColor, this.autoClearDepth, this.autoClearStencil );\n\t\n\t\t\t}\n\t\n\t\t\t//\n\t\n\t\t\tif ( scene.overrideMaterial ) {\n\t\n\t\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\t\n\t\t\t\trenderObjects( opaqueObjects, camera, lights, fog, overrideMaterial );\n\t\t\t\trenderObjects( transparentObjects, camera, lights, fog, overrideMaterial );\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// opaque pass (front-to-back order)\n\t\n\t\t\t\tstate.setBlending( THREE.NoBlending );\n\t\t\t\trenderObjects( opaqueObjects, camera, lights, fog );\n\t\n\t\t\t\t// transparent pass (back-to-front order)\n\t\n\t\t\t\trenderObjects( transparentObjects, camera, lights, fog );\n\t\n\t\t\t}\n\t\n\t\t\t// custom render plugins (post pass)\n\t\n\t\t\tspritePlugin.render( scene, camera );\n\t\t\tlensFlarePlugin.render( scene, camera, _currentWidth, _currentHeight );\n\t\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\t\n\t\t\tif ( renderTarget ) {\n\t\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\n\t\t\t\tif ( texture.generateMipmaps && isTargetPowerOfTwo && texture.minFilter !== THREE.NearestFilter && texture.minFilter !== THREE.LinearFilter ) {\n\t\n\t\t\t\t\t updateRenderTargetMipmap( renderTarget );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\t\n\t\t\tstate.setDepthTest( true );\n\t\t\tstate.setDepthWrite( true );\n\t\t\tstate.setColorWrite( true );\n\t\n\t\t\t// _gl.finish();\n\t\n\t\t};\n\t\n\t\tfunction pushRenderItem( object, geometry, material, z, group ) {\n\t\n\t\t\tvar array, index;\n\t\n\t\t\t// allocate the next position in the appropriate array\n\t\n\t\t\tif ( material.transparent ) {\n\t\n\t\t\t\tarray = transparentObjects;\n\t\t\t\tindex = ++ transparentObjectsLastIndex;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tarray = opaqueObjects;\n\t\t\t\tindex = ++ opaqueObjectsLastIndex;\n\t\n\t\t\t}\n\t\n\t\t\t// recycle existing render item or grow the array\n\t\n\t\t\tvar renderItem = array[ index ];\n\t\n\t\t\tif ( renderItem !== undefined ) {\n\t\n\t\t\t\trenderItem.id = object.id;\n\t\t\t\trenderItem.object = object;\n\t\t\t\trenderItem.geometry = geometry;\n\t\t\t\trenderItem.material = material;\n\t\t\t\trenderItem.z = _vector3.z;\n\t\t\t\trenderItem.group = group;\n\t\n\t\t\t} else {\n\t\n\t\t\t\trenderItem = {\n\t\t\t\t\tid: object.id,\n\t\t\t\t\tobject: object,\n\t\t\t\t\tgeometry: geometry,\n\t\t\t\t\tmaterial: material,\n\t\t\t\t\tz: _vector3.z,\n\t\t\t\t\tgroup: group\n\t\t\t\t};\n\t\n\t\t\t\t// assert( index === array.length );\n\t\t\t\tarray.push( renderItem );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction projectObject( object, camera ) {\n\t\n\t\t\tif ( object.visible === false ) return;\n\t\n\t\t\tif ( ( object.channels.mask & camera.channels.mask ) !== 0 ) {\n\t\n\t\t\t\tif ( object instanceof THREE.Light ) {\n\t\n\t\t\t\t\tlights.push( object );\n\t\n\t\t\t\t} else if ( object instanceof THREE.Sprite ) {\n\t\n\t\t\t\t\tsprites.push( object );\n\t\n\t\t\t\t} else if ( object instanceof THREE.LensFlare ) {\n\t\n\t\t\t\t\tlensFlares.push( object );\n\t\n\t\t\t\t} else if ( object instanceof THREE.ImmediateRenderObject ) {\n\t\n\t\t\t\t\tif ( _this.sortObjects === true ) {\n\t\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld );\n\t\t\t\t\t\t_vector3.applyProjection( _projScreenMatrix );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tpushRenderItem( object, null, object.material, _vector3.z, null );\n\t\n\t\t\t\t} else if ( object instanceof THREE.Mesh || object instanceof THREE.Line || object instanceof THREE.Points ) {\n\t\n\t\t\t\t\tif ( object instanceof THREE.SkinnedMesh ) {\n\t\n\t\t\t\t\t\tobject.skeleton.update();\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( object.frustumCulled === false || _frustum.intersectsObject( object ) === true ) {\n\t\n\t\t\t\t\t\tvar material = object.material;\n\t\n\t\t\t\t\t\tif ( material.visible === true ) {\n\t\n\t\t\t\t\t\t\tif ( _this.sortObjects === true ) {\n\t\n\t\t\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld );\n\t\t\t\t\t\t\t\t_vector3.applyProjection( _projScreenMatrix );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tvar geometry = objects.update( object );\n\t\n\t\t\t\t\t\t\tif ( material instanceof THREE.MeshFaceMaterial ) {\n\t\n\t\t\t\t\t\t\t\tvar groups = geometry.groups;\n\t\t\t\t\t\t\t\tvar materials = material.materials;\n\t\n\t\t\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\t\n\t\t\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\t\t\tvar groupMaterial = materials[ group.materialIndex ];\n\t\n\t\t\t\t\t\t\t\t\tif ( groupMaterial.visible === true ) {\n\t\n\t\t\t\t\t\t\t\t\t\tpushRenderItem( object, geometry, groupMaterial, _vector3.z, group );\n\t\n\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\tpushRenderItem( object, geometry, material, _vector3.z, null );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar children = object.children;\n\t\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\t\n\t\t\t\tprojectObject( children[ i ], camera );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction renderObjects( renderList, camera, lights, fog, overrideMaterial ) {\n\t\n\t\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar renderItem = renderList[ i ];\n\t\n\t\t\t\tvar object = renderItem.object;\n\t\t\t\tvar geometry = renderItem.geometry;\n\t\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\t\tvar group = renderItem.group;\n\t\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\t\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\t\n\t\t\t\tif ( object instanceof THREE.ImmediateRenderObject ) {\n\t\n\t\t\t\t\tsetMaterial( material );\n\t\n\t\t\t\t\tvar program = setProgram( camera, lights, fog, material, object );\n\t\n\t\t\t\t\t_currentGeometryProgram = '';\n\t\n\t\t\t\t\tobject.render( function ( object ) {\n\t\n\t\t\t\t\t\t_this.renderBufferImmediate( object, program, material );\n\t\n\t\t\t\t\t} );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t_this.renderBufferDirect( camera, lights, fog, geometry, material, object, group );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction initMaterial( material, lights, fog, object ) {\n\t\n\t\t\tvar materialProperties = properties.get( material );\n\t\n\t\t\tvar parameters = programCache.getParameters( material, lights, fog, object );\n\t\t\tvar code = programCache.getProgramCode( material, parameters );\n\t\n\t\t\tvar program = materialProperties.program;\n\t\t\tvar programChange = true;\n\t\n\t\t\tif ( program === undefined ) {\n\t\n\t\t\t\t// new material\n\t\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\t\n\t\t\t} else if ( program.code !== code ) {\n\t\n\t\t\t\t// changed glsl or parameters\n\t\t\t\treleaseMaterialProgramReference( material );\n\t\n\t\t\t} else if ( parameters.shaderID !== undefined ) {\n\t\n\t\t\t\t// same glsl and uniform list\n\t\t\t\treturn;\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// only rebuild uniform list\n\t\t\t\tprogramChange = false;\n\t\n\t\t\t}\n\t\n\t\t\tif ( programChange ) {\n\t\n\t\t\t\tif ( parameters.shaderID ) {\n\t\n\t\t\t\t\tvar shader = THREE.ShaderLib[ parameters.shaderID ];\n\t\n\t\t\t\t\tmaterialProperties.__webglShader = {\n\t\t\t\t\t\tname: material.type,\n\t\t\t\t\t\tuniforms: THREE.UniformsUtils.clone( shader.uniforms ),\n\t\t\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t\t\t};\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tmaterialProperties.__webglShader = {\n\t\t\t\t\t\tname: material.type,\n\t\t\t\t\t\tuniforms: material.uniforms,\n\t\t\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t\t\t};\n\t\n\t\t\t\t}\n\t\n\t\t\t\tmaterial.__webglShader = materialProperties.__webglShader;\n\t\n\t\t\t\tprogram = programCache.acquireProgram( material, parameters, code );\n\t\n\t\t\t\tmaterialProperties.program = program;\n\t\t\t\tmaterial.program = program;\n\t\n\t\t\t}\n\t\n\t\t\tvar attributes = program.getAttributes();\n\t\n\t\t\tif ( material.morphTargets ) {\n\t\n\t\t\t\tmaterial.numSupportedMorphTargets = 0;\n\t\n\t\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\t\n\t\t\t\t\tif ( attributes[ 'morphTarget' + i ] >= 0 ) {\n\t\n\t\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( material.morphNormals ) {\n\t\n\t\t\t\tmaterial.numSupportedMorphNormals = 0;\n\t\n\t\t\t\tfor ( i = 0; i < _this.maxMorphNormals; i ++ ) {\n\t\n\t\t\t\t\tif ( attributes[ 'morphNormal' + i ] >= 0 ) {\n\t\n\t\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tmaterialProperties.uniformsList = [];\n\t\n\t\t\tvar uniformLocations = materialProperties.program.getUniforms();\n\t\n\t\t\tfor ( var u in materialProperties.__webglShader.uniforms ) {\n\t\n\t\t\t\tvar location = uniformLocations[ u ];\n\t\n\t\t\t\tif ( location ) {\n\t\n\t\t\t\t\tmaterialProperties.uniformsList.push( [ materialProperties.__webglShader.uniforms[ u ], location ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction setMaterial( material ) {\n\t\n\t\t\tsetMaterialFaces( material );\n\t\n\t\t\tif ( material.transparent === true ) {\n\t\n\t\t\t\tstate.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tstate.setBlending( THREE.NoBlending );\n\t\n\t\t\t}\n\t\n\t\t\tstate.setDepthFunc( material.depthFunc );\n\t\t\tstate.setDepthTest( material.depthTest );\n\t\t\tstate.setDepthWrite( material.depthWrite );\n\t\t\tstate.setColorWrite( material.colorWrite );\n\t\t\tstate.setPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\t\n\t\t}\n\t\n\t\tfunction setMaterialFaces( material ) {\n\t\n\t\t\tmaterial.side !== THREE.DoubleSide ? state.enable( _gl.CULL_FACE ) : state.disable( _gl.CULL_FACE );\n\t\t\tstate.setFlipSided( material.side === THREE.BackSide );\n\t\n\t\t}\n\t\n\t\tfunction setProgram( camera, lights, fog, material, object ) {\n\t\n\t\t\t_usedTextureUnits = 0;\n\t\n\t\t\tvar materialProperties = properties.get( material );\n\t\n\t\t\tif ( material.needsUpdate || ! materialProperties.program ) {\n\t\n\t\t\t\tinitMaterial( material, lights, fog, object );\n\t\t\t\tmaterial.needsUpdate = false;\n\t\n\t\t\t}\n\t\n\t\t\tvar refreshProgram = false;\n\t\t\tvar refreshMaterial = false;\n\t\t\tvar refreshLights = false;\n\t\n\t\t\tvar program = materialProperties.program,\n\t\t\t\tp_uniforms = program.getUniforms(),\n\t\t\t\tm_uniforms = materialProperties.__webglShader.uniforms;\n\t\n\t\t\tif ( program.id !== _currentProgram ) {\n\t\n\t\t\t\t_gl.useProgram( program.program );\n\t\t\t\t_currentProgram = program.id;\n\t\n\t\t\t\trefreshProgram = true;\n\t\t\t\trefreshMaterial = true;\n\t\t\t\trefreshLights = true;\n\t\n\t\t\t}\n\t\n\t\t\tif ( material.id !== _currentMaterialId ) {\n\t\n\t\t\t\tif ( _currentMaterialId === - 1 ) refreshLights = true;\n\t\t\t\t_currentMaterialId = material.id;\n\t\n\t\t\t\trefreshMaterial = true;\n\t\n\t\t\t}\n\t\n\t\t\tif ( refreshProgram || camera !== _currentCamera ) {\n\t\n\t\t\t\t_gl.uniformMatrix4fv( p_uniforms.projectionMatrix, false, camera.projectionMatrix.elements );\n\t\n\t\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\t\n\t\t\t\t\t_gl.uniform1f( p_uniforms.logDepthBufFC, 2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\t\n\t\t\t\t}\n\t\n\t\n\t\t\t\tif ( camera !== _currentCamera ) _currentCamera = camera;\n\t\n\t\t\t\t// load material specific uniforms\n\t\t\t\t// (shader material also gets them for the sake of genericity)\n\t\n\t\t\t\tif ( material instanceof THREE.ShaderMaterial ||\n\t\t\t\t\t material instanceof THREE.MeshPhongMaterial ||\n\t\t\t\t\t material.envMap ) {\n\t\n\t\t\t\t\tif ( p_uniforms.cameraPosition !== undefined ) {\n\t\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t\t\t\t_gl.uniform3f( p_uniforms.cameraPosition, _vector3.x, _vector3.y, _vector3.z );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( material instanceof THREE.MeshPhongMaterial ||\n\t\t\t\t\t material instanceof THREE.MeshLambertMaterial ||\n\t\t\t\t\t material instanceof THREE.MeshBasicMaterial ||\n\t\t\t\t\t material instanceof THREE.ShaderMaterial ||\n\t\t\t\t\t material.skinning ) {\n\t\n\t\t\t\t\tif ( p_uniforms.viewMatrix !== undefined ) {\n\t\n\t\t\t\t\t\t_gl.uniformMatrix4fv( p_uniforms.viewMatrix, false, camera.matrixWorldInverse.elements );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// skinning uniforms must be set even if material didn't change\n\t\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t\t// not sure why, but otherwise weird things happen\n\t\n\t\t\tif ( material.skinning ) {\n\t\n\t\t\t\tif ( object.bindMatrix && p_uniforms.bindMatrix !== undefined ) {\n\t\n\t\t\t\t\t_gl.uniformMatrix4fv( p_uniforms.bindMatrix, false, object.bindMatrix.elements );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( object.bindMatrixInverse && p_uniforms.bindMatrixInverse !== undefined ) {\n\t\n\t\t\t\t\t_gl.uniformMatrix4fv( p_uniforms.bindMatrixInverse, false, object.bindMatrixInverse.elements );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( capabilities.floatVertexTextures && object.skeleton && object.skeleton.useVertexTexture ) {\n\t\n\t\t\t\t\tif ( p_uniforms.boneTexture !== undefined ) {\n\t\n\t\t\t\t\t\tvar textureUnit = getTextureUnit();\n\t\n\t\t\t\t\t\t_gl.uniform1i( p_uniforms.boneTexture, textureUnit );\n\t\t\t\t\t\t_this.setTexture( object.skeleton.boneTexture, textureUnit );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( p_uniforms.boneTextureWidth !== undefined ) {\n\t\n\t\t\t\t\t\t_gl.uniform1i( p_uniforms.boneTextureWidth, object.skeleton.boneTextureWidth );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( p_uniforms.boneTextureHeight !== undefined ) {\n\t\n\t\t\t\t\t\t_gl.uniform1i( p_uniforms.boneTextureHeight, object.skeleton.boneTextureHeight );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else if ( object.skeleton && object.skeleton.boneMatrices ) {\n\t\n\t\t\t\t\tif ( p_uniforms.boneGlobalMatrices !== undefined ) {\n\t\n\t\t\t\t\t\t_gl.uniformMatrix4fv( p_uniforms.boneGlobalMatrices, false, object.skeleton.boneMatrices );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( refreshMaterial ) {\n\t\n\t\t\t\t// refresh uniforms common to several materials\n\t\n\t\t\t\tif ( fog && material.fog ) {\n\t\n\t\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( material instanceof THREE.MeshPhongMaterial ||\n\t\t\t\t\t material instanceof THREE.MeshLambertMaterial ||\n\t\t\t\t\t material.lights ) {\n\t\n\t\t\t\t\tif ( _lightsNeedUpdate ) {\n\t\n\t\t\t\t\t\trefreshLights = true;\n\t\t\t\t\t\tsetupLights( lights, camera );\n\t\t\t\t\t\t_lightsNeedUpdate = false;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( refreshLights ) {\n\t\n\t\t\t\t\t\trefreshUniformsLights( m_uniforms, _lights );\n\t\t\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, true );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, false );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( material instanceof THREE.MeshBasicMaterial ||\n\t\t\t\t\t material instanceof THREE.MeshLambertMaterial ||\n\t\t\t\t\t material instanceof THREE.MeshPhongMaterial ) {\n\t\n\t\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// refresh single material specific uniforms\n\t\n\t\t\t\tif ( material instanceof THREE.LineBasicMaterial ) {\n\t\n\t\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\t\n\t\t\t\t} else if ( material instanceof THREE.LineDashedMaterial ) {\n\t\n\t\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\t\n\t\t\t\t} else if ( material instanceof THREE.PointsMaterial ) {\n\t\n\t\t\t\t\trefreshUniformsParticle( m_uniforms, material );\n\t\n\t\t\t\t} else if ( material instanceof THREE.MeshPhongMaterial ) {\n\t\n\t\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\t\n\t\t\t\t} else if ( material instanceof THREE.MeshDepthMaterial ) {\n\t\n\t\t\t\t\tm_uniforms.mNear.value = camera.near;\n\t\t\t\t\tm_uniforms.mFar.value = camera.far;\n\t\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\t\n\t\t\t\t} else if ( material instanceof THREE.MeshNormalMaterial ) {\n\t\n\t\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( object.receiveShadow && ! material._shadowPass ) {\n\t\n\t\t\t\t\trefreshUniformsShadow( m_uniforms, lights, camera );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// load common uniforms\n\t\n\t\t\t\tloadUniformsGeneric( materialProperties.uniformsList );\n\t\n\t\t\t}\n\t\n\t\t\tloadUniformsMatrices( p_uniforms, object );\n\t\n\t\t\tif ( p_uniforms.modelMatrix !== undefined ) {\n\t\n\t\t\t\t_gl.uniformMatrix4fv( p_uniforms.modelMatrix, false, object.matrixWorld.elements );\n\t\n\t\t\t}\n\t\n\t\t\treturn program;\n\t\n\t\t}\n\t\n\t\t// Uniforms (refresh uniforms objects)\n\t\n\t\tfunction refreshUniformsCommon ( uniforms, material ) {\n\t\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\n\t\t\tuniforms.diffuse.value = material.color;\n\t\n\t\t\tif ( material.emissive ) {\n\t\n\t\t\t\tuniforms.emissive.value = material.emissive;\n\t\n\t\t\t}\n\t\n\t\t\tuniforms.map.value = material.map;\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\t\n\t\t\tif ( material.aoMap ) {\n\t\n\t\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\t\n\t\t\t}\n\t\n\t\t\t// uv repeat and offset setting priorities\n\t\t\t// 1. color map\n\t\t\t// 2. specular map\n\t\t\t// 3. normal map\n\t\t\t// 4. bump map\n\t\t\t// 5. alpha map\n\t\t\t// 6. emissive map\n\t\n\t\t\tvar uvScaleMap;\n\t\n\t\t\tif ( material.map ) {\n\t\n\t\t\t\tuvScaleMap = material.map;\n\t\n\t\t\t} else if ( material.specularMap ) {\n\t\n\t\t\t\tuvScaleMap = material.specularMap;\n\t\n\t\t\t} else if ( material.displacementMap ) {\n\t\n\t\t\t\tuvScaleMap = material.displacementMap;\n\t\n\t\t\t} else if ( material.normalMap ) {\n\t\n\t\t\t\tuvScaleMap = material.normalMap;\n\t\n\t\t\t} else if ( material.bumpMap ) {\n\t\n\t\t\t\tuvScaleMap = material.bumpMap;\n\t\n\t\t\t} else if ( material.alphaMap ) {\n\t\n\t\t\t\tuvScaleMap = material.alphaMap;\n\t\n\t\t\t} else if ( material.emissiveMap ) {\n\t\n\t\t\t\tuvScaleMap = material.emissiveMap;\n\t\n\t\t\t}\n\t\n\t\t\tif ( uvScaleMap !== undefined ) {\n\t\n\t\t\t\tif ( uvScaleMap instanceof THREE.WebGLRenderTarget ) uvScaleMap = uvScaleMap.texture;\n\t\t\t\tvar offset = uvScaleMap.offset;\n\t\t\t\tvar repeat = uvScaleMap.repeat;\n\t\n\t\t\t\tuniforms.offsetRepeat.value.set( offset.x, offset.y, repeat.x, repeat.y );\n\t\n\t\t\t}\n\t\n\t\t\tuniforms.envMap.value = material.envMap;\n\t\t\tuniforms.flipEnvMap.value = ( material.envMap instanceof THREE.WebGLRenderTargetCube ) ? 1 : - 1;\n\t\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\t\n\t\t}\n\t\n\t\tfunction refreshUniformsLine ( uniforms, material ) {\n\t\n\t\t\tuniforms.diffuse.value = material.color;\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\n\t\t}\n\t\n\t\tfunction refreshUniformsDash ( uniforms, material ) {\n\t\n\t\t\tuniforms.dashSize.value = material.dashSize;\n\t\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\t\tuniforms.scale.value = material.scale;\n\t\n\t\t}\n\t\n\t\tfunction refreshUniformsParticle ( uniforms, material ) {\n\t\n\t\t\tuniforms.psColor.value = material.color;\n\t\t\tuniforms.opacity.value = material.opacity;\n\t\t\tuniforms.size.value = material.size;\n\t\t\tuniforms.scale.value = _canvas.height / 2.0; // TODO: Cache this.\n\t\n\t\t\tuniforms.map.value = material.map;\n\t\n\t\t\tif ( material.map !== null ) {\n\t\n\t\t\t\tvar offset = material.map.offset;\n\t\t\t\tvar repeat = material.map.repeat;\n\t\n\t\t\t\tuniforms.offsetRepeat.value.set( offset.x, offset.y, repeat.x, repeat.y );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction refreshUniformsFog ( uniforms, fog ) {\n\t\n\t\t\tuniforms.fogColor.value = fog.color;\n\t\n\t\t\tif ( fog instanceof THREE.Fog ) {\n\t\n\t\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\t\tuniforms.fogFar.value = fog.far;\n\t\n\t\t\t} else if ( fog instanceof THREE.FogExp2 ) {\n\t\n\t\t\t\tuniforms.fogDensity.value = fog.density;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction refreshUniformsPhong ( uniforms, material ) {\n\t\n\t\t\tuniforms.specular.value = material.specular;\n\t\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\t\n\t\t\tif ( material.lightMap ) {\n\t\n\t\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\t\n\t\t\t}\n\t\n\t\t\tif ( material.emissiveMap ) {\n\t\n\t\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\t\n\t\t\t}\n\t\n\t\t\tif ( material.bumpMap ) {\n\t\n\t\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\n\t\t\t}\n\t\n\t\t\tif ( material.normalMap ) {\n\t\n\t\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\n\t\t\t}\n\t\n\t\t\tif ( material.displacementMap ) {\n\t\n\t\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction refreshUniformsLights ( uniforms, lights ) {\n\t\n\t\t\tuniforms.ambientLightColor.value = lights.ambient;\n\t\n\t\t\tuniforms.directionalLightColor.value = lights.directional.colors;\n\t\t\tuniforms.directionalLightDirection.value = lights.directional.positions;\n\t\n\t\t\tuniforms.pointLightColor.value = lights.point.colors;\n\t\t\tuniforms.pointLightPosition.value = lights.point.positions;\n\t\t\tuniforms.pointLightDistance.value = lights.point.distances;\n\t\t\tuniforms.pointLightDecay.value = lights.point.decays;\n\t\n\t\t\tuniforms.spotLightColor.value = lights.spot.colors;\n\t\t\tuniforms.spotLightPosition.value = lights.spot.positions;\n\t\t\tuniforms.spotLightDistance.value = lights.spot.distances;\n\t\t\tuniforms.spotLightDirection.value = lights.spot.directions;\n\t\t\tuniforms.spotLightAngleCos.value = lights.spot.anglesCos;\n\t\t\tuniforms.spotLightExponent.value = lights.spot.exponents;\n\t\t\tuniforms.spotLightDecay.value = lights.spot.decays;\n\t\n\t\t\tuniforms.hemisphereLightSkyColor.value = lights.hemi.skyColors;\n\t\t\tuniforms.hemisphereLightGroundColor.value = lights.hemi.groundColors;\n\t\t\tuniforms.hemisphereLightDirection.value = lights.hemi.positions;\n\t\n\t\t}\n\t\n\t\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\t\n\t\tfunction markUniformsLightsNeedsUpdate ( uniforms, value ) {\n\t\n\t\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\n\t\t\tuniforms.directionalLightColor.needsUpdate = value;\n\t\t\tuniforms.directionalLightDirection.needsUpdate = value;\n\t\n\t\t\tuniforms.pointLightColor.needsUpdate = value;\n\t\t\tuniforms.pointLightPosition.needsUpdate = value;\n\t\t\tuniforms.pointLightDistance.needsUpdate = value;\n\t\t\tuniforms.pointLightDecay.needsUpdate = value;\n\t\n\t\t\tuniforms.spotLightColor.needsUpdate = value;\n\t\t\tuniforms.spotLightPosition.needsUpdate = value;\n\t\t\tuniforms.spotLightDistance.needsUpdate = value;\n\t\t\tuniforms.spotLightDirection.needsUpdate = value;\n\t\t\tuniforms.spotLightAngleCos.needsUpdate = value;\n\t\t\tuniforms.spotLightExponent.needsUpdate = value;\n\t\t\tuniforms.spotLightDecay.needsUpdate = value;\n\t\n\t\t\tuniforms.hemisphereLightSkyColor.needsUpdate = value;\n\t\t\tuniforms.hemisphereLightGroundColor.needsUpdate = value;\n\t\t\tuniforms.hemisphereLightDirection.needsUpdate = value;\n\t\n\t\t}\n\t\n\t\tfunction refreshUniformsShadow ( uniforms, lights, camera ) {\n\t\n\t\t\tif ( uniforms.shadowMatrix ) {\n\t\n\t\t\t\tvar j = 0;\n\t\n\t\t\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\t\n\t\t\t\t\tvar light = lights[ i ];\n\t\n\t\t\t\t\tif ( light.castShadow === true ) {\n\t\n\t\t\t\t\t\tif ( light instanceof THREE.PointLight || light instanceof THREE.SpotLight || light instanceof THREE.DirectionalLight ) {\n\t\n\t\t\t\t\t\t\tvar shadow = light.shadow;\n\t\n\t\t\t\t\t\t\tif ( light instanceof THREE.PointLight ) {\n\t\n\t\t\t\t\t\t\t\t// for point lights we set the shadow matrix to be a translation-only matrix\n\t\t\t\t\t\t\t\t// equal to inverse of the light's position\n\t\t\t\t\t\t\t\t_vector3.setFromMatrixPosition( light.matrixWorld ).negate();\n\t\t\t\t\t\t\t\tshadow.matrix.identity().setPosition( _vector3 );\n\t\n\t\t\t\t\t\t\t\t// for point lights we set the sign of the shadowDarkness uniform to be negative\n\t\t\t\t\t\t\t\tuniforms.shadowDarkness.value[ j ] = - shadow.darkness;\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\tuniforms.shadowDarkness.value[ j ] = shadow.darkness;\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\tuniforms.shadowMatrix.value[ j ] = shadow.matrix;\n\t\t\t\t\t\t\tuniforms.shadowMap.value[ j ] = shadow.map;\n\t\t\t\t\t\t\tuniforms.shadowMapSize.value[ j ] = shadow.mapSize;\n\t\t\t\t\t\t\tuniforms.shadowBias.value[ j ] = shadow.bias;\n\t\n\t\t\t\t\t\t\tj ++;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// Uniforms (load to GPU)\n\t\n\t\tfunction loadUniformsMatrices ( uniforms, object ) {\n\t\n\t\t\t_gl.uniformMatrix4fv( uniforms.modelViewMatrix, false, object.modelViewMatrix.elements );\n\t\n\t\t\tif ( uniforms.normalMatrix ) {\n\t\n\t\t\t\t_gl.uniformMatrix3fv( uniforms.normalMatrix, false, object.normalMatrix.elements );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction getTextureUnit() {\n\t\n\t\t\tvar textureUnit = _usedTextureUnits;\n\t\n\t\t\tif ( textureUnit >= capabilities.maxTextures ) {\n\t\n\t\t\t\tconsole.warn( 'WebGLRenderer: trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\n\t\n\t\t\t}\n\t\n\t\t\t_usedTextureUnits += 1;\n\t\n\t\t\treturn textureUnit;\n\t\n\t\t}\n\t\n\t\tfunction loadUniformsGeneric ( uniforms ) {\n\t\n\t\t\tvar texture, textureUnit;\n\t\n\t\t\tfor ( var j = 0, jl = uniforms.length; j < jl; j ++ ) {\n\t\n\t\t\t\tvar uniform = uniforms[ j ][ 0 ];\n\t\n\t\t\t\t// needsUpdate property is not added to all uniforms.\n\t\t\t\tif ( uniform.needsUpdate === false ) continue;\n\t\n\t\t\t\tvar type = uniform.type;\n\t\t\t\tvar value = uniform.value;\n\t\t\t\tvar location = uniforms[ j ][ 1 ];\n\t\n\t\t\t\tswitch ( type ) {\n\t\n\t\t\t\t\tcase '1i':\n\t\t\t\t\t\t_gl.uniform1i( location, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '1f':\n\t\t\t\t\t\t_gl.uniform1f( location, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '2f':\n\t\t\t\t\t\t_gl.uniform2f( location, value[ 0 ], value[ 1 ] );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '3f':\n\t\t\t\t\t\t_gl.uniform3f( location, value[ 0 ], value[ 1 ], value[ 2 ] );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '4f':\n\t\t\t\t\t\t_gl.uniform4f( location, value[ 0 ], value[ 1 ], value[ 2 ], value[ 3 ] );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '1iv':\n\t\t\t\t\t\t_gl.uniform1iv( location, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '3iv':\n\t\t\t\t\t\t_gl.uniform3iv( location, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '1fv':\n\t\t\t\t\t\t_gl.uniform1fv( location, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '2fv':\n\t\t\t\t\t\t_gl.uniform2fv( location, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '3fv':\n\t\t\t\t\t\t_gl.uniform3fv( location, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase '4fv':\n\t\t\t\t\t\t_gl.uniform4fv( location, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'Matrix3fv':\n\t\t\t\t\t\t_gl.uniformMatrix3fv( location, false, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'Matrix4fv':\n\t\t\t\t\t\t_gl.uniformMatrix4fv( location, false, value );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//\n\t\n\t\t\t\t\tcase 'i':\n\t\n\t\t\t\t\t\t// single integer\n\t\t\t\t\t\t_gl.uniform1i( location, value );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'f':\n\t\n\t\t\t\t\t\t// single float\n\t\t\t\t\t\t_gl.uniform1f( location, value );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'v2':\n\t\n\t\t\t\t\t\t// single THREE.Vector2\n\t\t\t\t\t\t_gl.uniform2f( location, value.x, value.y );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'v3':\n\t\n\t\t\t\t\t\t// single THREE.Vector3\n\t\t\t\t\t\t_gl.uniform3f( location, value.x, value.y, value.z );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'v4':\n\t\n\t\t\t\t\t\t// single THREE.Vector4\n\t\t\t\t\t\t_gl.uniform4f( location, value.x, value.y, value.z, value.w );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'c':\n\t\n\t\t\t\t\t\t// single THREE.Color\n\t\t\t\t\t\t_gl.uniform3f( location, value.r, value.g, value.b );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'iv1':\n\t\n\t\t\t\t\t\t// flat array of integers (JS or typed array)\n\t\t\t\t\t\t_gl.uniform1iv( location, value );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'iv':\n\t\n\t\t\t\t\t\t// flat array of integers with 3 x N size (JS or typed array)\n\t\t\t\t\t\t_gl.uniform3iv( location, value );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'fv1':\n\t\n\t\t\t\t\t\t// flat array of floats (JS or typed array)\n\t\t\t\t\t\t_gl.uniform1fv( location, value );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'fv':\n\t\n\t\t\t\t\t\t// flat array of floats with 3 x N size (JS or typed array)\n\t\t\t\t\t\t_gl.uniform3fv( location, value );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'v2v':\n\t\n\t\t\t\t\t\t// array of THREE.Vector2\n\t\n\t\t\t\t\t\tif ( uniform._array === undefined ) {\n\t\n\t\t\t\t\t\t\tuniform._array = new Float32Array( 2 * value.length );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tfor ( var i = 0, i2 = 0, il = value.length; i < il; i ++, i2 += 2 ) {\n\t\n\t\t\t\t\t\t\tuniform._array[ i2 + 0 ] = value[ i ].x;\n\t\t\t\t\t\t\tuniform._array[ i2 + 1 ] = value[ i ].y;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_gl.uniform2fv( location, uniform._array );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'v3v':\n\t\n\t\t\t\t\t\t// array of THREE.Vector3\n\t\n\t\t\t\t\t\tif ( uniform._array === undefined ) {\n\t\n\t\t\t\t\t\t\tuniform._array = new Float32Array( 3 * value.length );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tfor ( var i = 0, i3 = 0, il = value.length; i < il; i ++, i3 += 3 ) {\n\t\n\t\t\t\t\t\t\tuniform._array[ i3 + 0 ] = value[ i ].x;\n\t\t\t\t\t\t\tuniform._array[ i3 + 1 ] = value[ i ].y;\n\t\t\t\t\t\t\tuniform._array[ i3 + 2 ] = value[ i ].z;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_gl.uniform3fv( location, uniform._array );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'v4v':\n\t\n\t\t\t\t\t\t// array of THREE.Vector4\n\t\n\t\t\t\t\t\tif ( uniform._array === undefined ) {\n\t\n\t\t\t\t\t\t\tuniform._array = new Float32Array( 4 * value.length );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tfor ( var i = 0, i4 = 0, il = value.length; i < il; i ++, i4 += 4 ) {\n\t\n\t\t\t\t\t\t\tuniform._array[ i4 + 0 ] = value[ i ].x;\n\t\t\t\t\t\t\tuniform._array[ i4 + 1 ] = value[ i ].y;\n\t\t\t\t\t\t\tuniform._array[ i4 + 2 ] = value[ i ].z;\n\t\t\t\t\t\t\tuniform._array[ i4 + 3 ] = value[ i ].w;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_gl.uniform4fv( location, uniform._array );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'm3':\n\t\n\t\t\t\t\t\t// single THREE.Matrix3\n\t\t\t\t\t\t_gl.uniformMatrix3fv( location, false, value.elements );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'm3v':\n\t\n\t\t\t\t\t\t// array of THREE.Matrix3\n\t\n\t\t\t\t\t\tif ( uniform._array === undefined ) {\n\t\n\t\t\t\t\t\t\tuniform._array = new Float32Array( 9 * value.length );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tfor ( var i = 0, il = value.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\t\tvalue[ i ].flattenToArrayOffset( uniform._array, i * 9 );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_gl.uniformMatrix3fv( location, false, uniform._array );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'm4':\n\t\n\t\t\t\t\t\t// single THREE.Matrix4\n\t\t\t\t\t\t_gl.uniformMatrix4fv( location, false, value.elements );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'm4v':\n\t\n\t\t\t\t\t\t// array of THREE.Matrix4\n\t\n\t\t\t\t\t\tif ( uniform._array === undefined ) {\n\t\n\t\t\t\t\t\t\tuniform._array = new Float32Array( 16 * value.length );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tfor ( var i = 0, il = value.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\t\tvalue[ i ].flattenToArrayOffset( uniform._array, i * 16 );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_gl.uniformMatrix4fv( location, false, uniform._array );\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 't':\n\t\n\t\t\t\t\t\t// single THREE.Texture (2d or cube)\n\t\n\t\t\t\t\t\ttexture = value;\n\t\t\t\t\t\ttextureUnit = getTextureUnit();\n\t\n\t\t\t\t\t\t_gl.uniform1i( location, textureUnit );\n\t\n\t\t\t\t\t\tif ( ! texture ) continue;\n\t\n\t\t\t\t\t\tif ( texture instanceof THREE.CubeTexture ||\n\t\t\t\t\t\t\t ( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\t\n\t\t\t\t\t\t\t// CompressedTexture can have Array in image :/\n\t\n\t\t\t\t\t\t\tsetCubeTexture( texture, textureUnit );\n\t\n\t\t\t\t\t\t} else if ( texture instanceof THREE.WebGLRenderTargetCube ) {\n\t\n\t\t\t\t\t\t\tsetCubeTextureDynamic( texture.texture, textureUnit );\n\t\n\t\t\t\t\t\t} else if ( texture instanceof THREE.WebGLRenderTarget ) {\n\t\n\t\t\t\t\t\t\t_this.setTexture( texture.texture, textureUnit );\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t_this.setTexture( texture, textureUnit );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase 'tv':\n\t\n\t\t\t\t\t\t// array of THREE.Texture (2d or cube)\n\t\n\t\t\t\t\t\tif ( uniform._array === undefined ) {\n\t\n\t\t\t\t\t\t\tuniform._array = [];\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tfor ( var i = 0, il = uniform.value.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\t\tuniform._array[ i ] = getTextureUnit();\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t_gl.uniform1iv( location, uniform._array );\n\t\n\t\t\t\t\t\tfor ( var i = 0, il = uniform.value.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\t\ttexture = uniform.value[ i ];\n\t\t\t\t\t\t\ttextureUnit = uniform._array[ i ];\n\t\n\t\t\t\t\t\t\tif ( ! texture ) continue;\n\t\n\t\t\t\t\t\t\tif ( texture instanceof THREE.CubeTexture ||\n\t\t\t\t\t\t\t\t ( texture.image instanceof Array && texture.image.length === 6 ) ) {\n\t\n\t\t\t\t\t\t\t\t// CompressedTexture can have Array in image :/\n\t\n\t\t\t\t\t\t\t\tsetCubeTexture( texture, textureUnit );\n\t\n\t\t\t\t\t\t\t} else if ( texture instanceof THREE.WebGLRenderTarget ) {\n\t\n\t\t\t\t\t\t\t\t_this.setTexture( texture.texture, textureUnit );\n\t\n\t\t\t\t\t\t\t} else if ( texture instanceof THREE.WebGLRenderTargetCube ) {\n\t\n\t\t\t\t\t\t\t\tsetCubeTextureDynamic( texture.texture, textureUnit );\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\t_this.setTexture( texture, textureUnit );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Unknown uniform type: ' + type );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction setColorLinear( array, offset, color, intensity ) {\n\t\n\t\t\tarray[ offset + 0 ] = color.r * intensity;\n\t\t\tarray[ offset + 1 ] = color.g * intensity;\n\t\t\tarray[ offset + 2 ] = color.b * intensity;\n\t\n\t\t}\n\t\n\t\tfunction setupLights ( lights, camera ) {\n\t\n\t\t\tvar l, ll, light,\n\t\t\tr = 0, g = 0, b = 0,\n\t\t\tcolor, skyColor, groundColor,\n\t\t\tintensity,\n\t\t\tdistance,\n\t\n\t\t\tzlights = _lights,\n\t\n\t\t\tviewMatrix = camera.matrixWorldInverse,\n\t\n\t\t\tdirColors = zlights.directional.colors,\n\t\t\tdirPositions = zlights.directional.positions,\n\t\n\t\t\tpointColors = zlights.point.colors,\n\t\t\tpointPositions = zlights.point.positions,\n\t\t\tpointDistances = zlights.point.distances,\n\t\t\tpointDecays = zlights.point.decays,\n\t\n\t\t\tspotColors = zlights.spot.colors,\n\t\t\tspotPositions = zlights.spot.positions,\n\t\t\tspotDistances = zlights.spot.distances,\n\t\t\tspotDirections = zlights.spot.directions,\n\t\t\tspotAnglesCos = zlights.spot.anglesCos,\n\t\t\tspotExponents = zlights.spot.exponents,\n\t\t\tspotDecays = zlights.spot.decays,\n\t\n\t\t\themiSkyColors = zlights.hemi.skyColors,\n\t\t\themiGroundColors = zlights.hemi.groundColors,\n\t\t\themiPositions = zlights.hemi.positions,\n\t\n\t\t\tdirLength = 0,\n\t\t\tpointLength = 0,\n\t\t\tspotLength = 0,\n\t\t\themiLength = 0,\n\t\n\t\t\tdirCount = 0,\n\t\t\tpointCount = 0,\n\t\t\tspotCount = 0,\n\t\t\themiCount = 0,\n\t\n\t\t\tdirOffset = 0,\n\t\t\tpointOffset = 0,\n\t\t\tspotOffset = 0,\n\t\t\themiOffset = 0;\n\t\n\t\t\tfor ( l = 0, ll = lights.length; l < ll; l ++ ) {\n\t\n\t\t\t\tlight = lights[ l ];\n\t\n\t\t\t\tcolor = light.color;\n\t\t\t\tintensity = light.intensity;\n\t\t\t\tdistance = light.distance;\n\t\n\t\t\t\tif ( light instanceof THREE.AmbientLight ) {\n\t\n\t\t\t\t\tif ( ! light.visible ) continue;\n\t\n\t\t\t\t\tr += color.r;\n\t\t\t\t\tg += color.g;\n\t\t\t\t\tb += color.b;\n\t\n\t\t\t\t} else if ( light instanceof THREE.DirectionalLight ) {\n\t\n\t\t\t\t\tdirCount += 1;\n\t\n\t\t\t\t\tif ( ! light.visible ) continue;\n\t\n\t\t\t\t\t_direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\t\t_vector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\t\t_direction.sub( _vector3 );\n\t\t\t\t\t_direction.transformDirection( viewMatrix );\n\t\n\t\t\t\t\tdirOffset = dirLength * 3;\n\t\n\t\t\t\t\tdirPositions[ dirOffset + 0 ] = _direction.x;\n\t\t\t\t\tdirPositions[ dirOffset + 1 ] = _direction.y;\n\t\t\t\t\tdirPositions[ dirOffset + 2 ] = _direction.z;\n\t\n\t\t\t\t\tsetColorLinear( dirColors, dirOffset, color, intensity );\n\t\n\t\t\t\t\tdirLength += 1;\n\t\n\t\t\t\t} else if ( light instanceof THREE.PointLight ) {\n\t\n\t\t\t\t\tpointCount += 1;\n\t\n\t\t\t\t\tif ( ! light.visible ) continue;\n\t\n\t\t\t\t\tpointOffset = pointLength * 3;\n\t\n\t\t\t\t\tsetColorLinear( pointColors, pointOffset, color, intensity );\n\t\n\t\t\t\t\t_vector3.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\t\t_vector3.applyMatrix4( viewMatrix );\n\t\n\t\t\t\t\tpointPositions[ pointOffset + 0 ] = _vector3.x;\n\t\t\t\t\tpointPositions[ pointOffset + 1 ] = _vector3.y;\n\t\t\t\t\tpointPositions[ pointOffset + 2 ] = _vector3.z;\n\t\n\t\t\t\t\t// distance is 0 if decay is 0, because there is no attenuation at all.\n\t\t\t\t\tpointDistances[ pointLength ] = distance;\n\t\t\t\t\tpointDecays[ pointLength ] = ( light.distance === 0 ) ? 0.0 : light.decay;\n\t\n\t\t\t\t\tpointLength += 1;\n\t\n\t\t\t\t} else if ( light instanceof THREE.SpotLight ) {\n\t\n\t\t\t\t\tspotCount += 1;\n\t\n\t\t\t\t\tif ( ! light.visible ) continue;\n\t\n\t\t\t\t\tspotOffset = spotLength * 3;\n\t\n\t\t\t\t\tsetColorLinear( spotColors, spotOffset, color, intensity );\n\t\n\t\t\t\t\t_direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\t\t_vector3.copy( _direction ).applyMatrix4( viewMatrix );\n\t\n\t\t\t\t\tspotPositions[ spotOffset + 0 ] = _vector3.x;\n\t\t\t\t\tspotPositions[ spotOffset + 1 ] = _vector3.y;\n\t\t\t\t\tspotPositions[ spotOffset + 2 ] = _vector3.z;\n\t\n\t\t\t\t\tspotDistances[ spotLength ] = distance;\n\t\n\t\t\t\t\t_vector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\t\t_direction.sub( _vector3 );\n\t\t\t\t\t_direction.transformDirection( viewMatrix );\n\t\n\t\t\t\t\tspotDirections[ spotOffset + 0 ] = _direction.x;\n\t\t\t\t\tspotDirections[ spotOffset + 1 ] = _direction.y;\n\t\t\t\t\tspotDirections[ spotOffset + 2 ] = _direction.z;\n\t\n\t\t\t\t\tspotAnglesCos[ spotLength ] = Math.cos( light.angle );\n\t\t\t\t\tspotExponents[ spotLength ] = light.exponent;\n\t\t\t\t\tspotDecays[ spotLength ] = ( light.distance === 0 ) ? 0.0 : light.decay;\n\t\n\t\t\t\t\tspotLength += 1;\n\t\n\t\t\t\t} else if ( light instanceof THREE.HemisphereLight ) {\n\t\n\t\t\t\t\themiCount += 1;\n\t\n\t\t\t\t\tif ( ! light.visible ) continue;\n\t\n\t\t\t\t\t_direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\t\t_direction.transformDirection( viewMatrix );\n\t\n\t\t\t\t\themiOffset = hemiLength * 3;\n\t\n\t\t\t\t\themiPositions[ hemiOffset + 0 ] = _direction.x;\n\t\t\t\t\themiPositions[ hemiOffset + 1 ] = _direction.y;\n\t\t\t\t\themiPositions[ hemiOffset + 2 ] = _direction.z;\n\t\n\t\t\t\t\tskyColor = light.color;\n\t\t\t\t\tgroundColor = light.groundColor;\n\t\n\t\t\t\t\tsetColorLinear( hemiSkyColors, hemiOffset, skyColor, intensity );\n\t\t\t\t\tsetColorLinear( hemiGroundColors, hemiOffset, groundColor, intensity );\n\t\n\t\t\t\t\themiLength += 1;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// null eventual remains from removed lights\n\t\t\t// (this is to avoid if in shader)\n\t\n\t\t\tfor ( l = dirLength * 3, ll = Math.max( dirColors.length, dirCount * 3 ); l < ll; l ++ ) dirColors[ l ] = 0.0;\n\t\t\tfor ( l = pointLength * 3, ll = Math.max( pointColors.length, pointCount * 3 ); l < ll; l ++ ) pointColors[ l ] = 0.0;\n\t\t\tfor ( l = spotLength * 3, ll = Math.max( spotColors.length, spotCount * 3 ); l < ll; l ++ ) spotColors[ l ] = 0.0;\n\t\t\tfor ( l = hemiLength * 3, ll = Math.max( hemiSkyColors.length, hemiCount * 3 ); l < ll; l ++ ) hemiSkyColors[ l ] = 0.0;\n\t\t\tfor ( l = hemiLength * 3, ll = Math.max( hemiGroundColors.length, hemiCount * 3 ); l < ll; l ++ ) hemiGroundColors[ l ] = 0.0;\n\t\n\t\t\tzlights.directional.length = dirLength;\n\t\t\tzlights.point.length = pointLength;\n\t\t\tzlights.spot.length = spotLength;\n\t\t\tzlights.hemi.length = hemiLength;\n\t\n\t\t\tzlights.ambient[ 0 ] = r;\n\t\t\tzlights.ambient[ 1 ] = g;\n\t\t\tzlights.ambient[ 2 ] = b;\n\t\n\t\t}\n\t\n\t\t// GL state setting\n\t\n\t\tthis.setFaceCulling = function ( cullFace, frontFaceDirection ) {\n\t\n\t\t\tif ( cullFace === THREE.CullFaceNone ) {\n\t\n\t\t\t\tstate.disable( _gl.CULL_FACE );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tif ( frontFaceDirection === THREE.FrontFaceDirectionCW ) {\n\t\n\t\t\t\t\t_gl.frontFace( _gl.CW );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t_gl.frontFace( _gl.CCW );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( cullFace === THREE.CullFaceBack ) {\n\t\n\t\t\t\t\t_gl.cullFace( _gl.BACK );\n\t\n\t\t\t\t} else if ( cullFace === THREE.CullFaceFront ) {\n\t\n\t\t\t\t\t_gl.cullFace( _gl.FRONT );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t_gl.cullFace( _gl.FRONT_AND_BACK );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tstate.enable( _gl.CULL_FACE );\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\t// Textures\n\t\n\t\tfunction setTextureParameters ( textureType, texture, isImagePowerOfTwo ) {\n\t\n\t\t\tvar extension;\n\t\n\t\t\tif ( isImagePowerOfTwo ) {\n\t\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, paramThreeToGL( texture.wrapS ) );\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, paramThreeToGL( texture.wrapT ) );\n\t\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, paramThreeToGL( texture.magFilter ) );\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, paramThreeToGL( texture.minFilter ) );\n\t\n\t\t\t} else {\n\t\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\t\n\t\t\t\tif ( texture.wrapS !== THREE.ClampToEdgeWrapping || texture.wrapT !== THREE.ClampToEdgeWrapping ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.', texture );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\n\t\n\t\t\t\tif ( texture.minFilter !== THREE.NearestFilter && texture.minFilter !== THREE.LinearFilter ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.', texture );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\textension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\t\n\t\t\tif ( extension ) {\n\t\n\t\t\t\tif ( texture.type === THREE.FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\t\tif ( texture.type === THREE.HalfFloatType && extensions.get( 'OES_texture_half_float_linear' ) === null ) return;\n\t\n\t\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\t\n\t\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, _this.getMaxAnisotropy() ) );\n\t\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction uploadTexture( textureProperties, texture, slot ) {\n\t\n\t\t\tif ( textureProperties.__webglInit === undefined ) {\n\t\n\t\t\t\ttextureProperties.__webglInit = true;\n\t\n\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\t\n\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\n\t\t\t\t_infoMemory.textures ++;\n\t\n\t\t\t}\n\t\n\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\t\n\t\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\t\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\n\t\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\n\t\n\t\t\ttexture.image = clampToMaxSize( texture.image, capabilities.maxTextureSize );\n\t\n\t\t\tif ( textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false ) {\n\t\n\t\t\t\ttexture.image = makePowerOfTwo( texture.image );\n\t\n\t\t\t}\n\t\n\t\t\tvar image = texture.image,\n\t\t\tisImagePowerOfTwo = isPowerOfTwo( image ),\n\t\t\tglFormat = paramThreeToGL( texture.format ),\n\t\t\tglType = paramThreeToGL( texture.type );\n\t\n\t\t\tsetTextureParameters( _gl.TEXTURE_2D, texture, isImagePowerOfTwo );\n\t\n\t\t\tvar mipmap, mipmaps = texture.mipmaps;\n\t\n\t\t\tif ( texture instanceof THREE.DataTexture ) {\n\t\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\t\n\t\t\t\tif ( mipmaps.length > 0 && isImagePowerOfTwo ) {\n\t\n\t\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( texture instanceof THREE.CompressedTexture ) {\n\t\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\t\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\n\t\t\t\t\tif ( texture.format !== THREE.RGBAFormat && texture.format !== THREE.RGBFormat ) {\n\t\n\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\t\n\t\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\" );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// regular Texture (image, video, canvas)\n\t\n\t\t\t\t// use manually created mipmaps if available\n\t\t\t\t// if there are no manual mipmaps\n\t\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\t\n\t\t\t\tif ( mipmaps.length > 0 && isImagePowerOfTwo ) {\n\t\n\t\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\t\n\t\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glFormat, glFormat, glType, mipmap );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttexture.generateMipmaps = false;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, glFormat, glType, texture.image );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( texture.generateMipmaps && isImagePowerOfTwo ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\t\n\t\t\ttextureProperties.__version = texture.version;\n\t\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\t\n\t\t}\n\t\n\t\tthis.setTexture = function ( texture, slot ) {\n\t\n\t\t\tvar textureProperties = properties.get( texture );\n\t\n\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\t\n\t\t\t\tvar image = texture.image;\n\t\n\t\t\t\tif ( image === undefined ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined', texture );\n\t\t\t\t\treturn;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( image.complete === false ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete', texture );\n\t\t\t\t\treturn;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\t\n\t\t};\n\t\n\t\tfunction clampToMaxSize ( image, maxSize ) {\n\t\n\t\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\t\n\t\t\t\t// Warning: Scaling through the canvas will only work with images that use\n\t\t\t\t// premultiplied alpha.\n\t\n\t\t\t\tvar scale = maxSize / Math.max( image.width, image.height );\n\t\n\t\t\t\tvar canvas = document.createElement( 'canvas' );\n\t\t\t\tcanvas.width = Math.floor( image.width * scale );\n\t\t\t\tcanvas.height = Math.floor( image.height * scale );\n\t\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height );\n\t\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\n\t\n\t\t\t\treturn canvas;\n\t\n\t\t\t}\n\t\n\t\t\treturn image;\n\t\n\t\t}\n\t\n\t\tfunction isPowerOfTwo( image ) {\n\t\n\t\t\treturn THREE.Math.isPowerOfTwo( image.width ) && THREE.Math.isPowerOfTwo( image.height );\n\t\n\t\t}\n\t\n\t\tfunction textureNeedsPowerOfTwo( texture ) {\n\t\n\t\t\tif ( texture.wrapS !== THREE.ClampToEdgeWrapping || texture.wrapT !== THREE.ClampToEdgeWrapping ) return true;\n\t\t\tif ( texture.minFilter !== THREE.NearestFilter && texture.minFilter !== THREE.LinearFilter ) return true;\n\t\n\t\t\treturn false;\n\t\n\t\t}\n\t\n\t\tfunction makePowerOfTwo( image ) {\n\t\n\t\t\tif ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement ) {\n\t\n\t\t\t\tvar canvas = document.createElement( 'canvas' );\n\t\t\t\tcanvas.width = THREE.Math.nearestPowerOfTwo( image.width );\n\t\t\t\tcanvas.height = THREE.Math.nearestPowerOfTwo( image.height );\n\t\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, canvas.width, canvas.height );\n\t\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height, image );\n\t\n\t\t\t\treturn canvas;\n\t\n\t\t\t}\n\t\n\t\t\treturn image;\n\t\n\t\t}\n\t\n\t\tfunction setCubeTexture ( texture, slot ) {\n\t\n\t\t\tvar textureProperties = properties.get( texture );\n\t\n\t\t\tif ( texture.image.length === 6 ) {\n\t\n\t\t\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\t\n\t\t\t\t\tif ( ! textureProperties.__image__webglTextureCube ) {\n\t\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\t\n\t\t\t\t\t\ttextureProperties.__image__webglTextureCube = _gl.createTexture();\n\t\n\t\t\t\t\t\t_infoMemory.textures ++;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\t\n\t\t\t\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\t\n\t\t\t\t\tvar isCompressed = texture instanceof THREE.CompressedTexture;\n\t\t\t\t\tvar isDataTexture = texture.image[ 0 ] instanceof THREE.DataTexture;\n\t\n\t\t\t\t\tvar cubeImage = [];\n\t\n\t\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\t\n\t\t\t\t\t\tif ( _this.autoScaleCubemaps && ! isCompressed && ! isDataTexture ) {\n\t\n\t\t\t\t\t\t\tcubeImage[ i ] = clampToMaxSize( texture.image[ i ], capabilities.maxCubemapSize );\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\t\tisImagePowerOfTwo = isPowerOfTwo( image ),\n\t\t\t\t\tglFormat = paramThreeToGL( texture.format ),\n\t\t\t\t\tglType = paramThreeToGL( texture.type );\n\t\n\t\t\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, isImagePowerOfTwo );\n\t\n\t\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\t\n\t\t\t\t\t\tif ( ! isCompressed ) {\n\t\n\t\t\t\t\t\t\tif ( isDataTexture ) {\n\t\n\t\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, glFormat, glType, cubeImage[ i ] );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tvar mipmap, mipmaps = cubeImage[ i ].mipmaps;\n\t\n\t\t\t\t\t\t\tfor ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\t\t\t\tmipmap = mipmaps[ j ];\n\t\n\t\t\t\t\t\t\t\tif ( texture.format !== THREE.RGBAFormat && texture.format !== THREE.RGBFormat ) {\n\t\n\t\t\t\t\t\t\t\t\tif ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\n\t\n\t\t\t\t\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\t\n\t\t\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\t\t\tconsole.warn( \"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setCubeTexture()\" );\n\t\n\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\t\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( texture.generateMipmaps && isImagePowerOfTwo ) {\n\t\n\t\t\t\t\t\t_gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttextureProperties.__version = texture.version;\n\t\n\t\t\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction setCubeTextureDynamic ( texture, slot ) {\n\t\n\t\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, properties.get( texture ).__webglTexture );\n\t\n\t\t}\n\t\n\t\t// Render targets\n\t\n\t\tfunction setupFrameBuffer ( framebuffer, renderTarget, textureTarget ) {\n\t\n\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\n\t\t}\n\t\n\t\tfunction setupRenderBuffer ( renderbuffer, renderTarget ) {\n\t\n\t\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\n\t\n\t\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\t\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\n\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\t\n\t\t\t/* For some reason this is not working. Defaulting to RGBA4.\n\t\t\t} else if ( ! renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\t\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.STENCIL_INDEX8, renderTarget.width, renderTarget.height );\n\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\t\t\t*/\n\t\n\t\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\t\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\n\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\t\n\t\t\t} else {\n\t\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.setRenderTarget = function ( renderTarget ) {\n\t\n\t\t\tvar isCube = ( renderTarget instanceof THREE.WebGLRenderTargetCube );\n\t\n\t\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\t\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\n\t\t\t\tif ( renderTarget.depthBuffer === undefined ) renderTarget.depthBuffer = true;\n\t\t\t\tif ( renderTarget.stencilBuffer === undefined ) renderTarget.stencilBuffer = true;\n\t\n\t\t\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\t\n\t\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\n\t\t\t\t_infoMemory.textures ++;\n\t\n\t\t\t\t// Setup texture, create render and frame buffers\n\t\n\t\t\t\tvar isTargetPowerOfTwo = isPowerOfTwo( renderTarget ),\n\t\t\t\t\tglFormat = paramThreeToGL( renderTarget.texture.format ),\n\t\t\t\t\tglType = paramThreeToGL( renderTarget.texture.type );\n\t\n\t\t\t\tif ( isCube ) {\n\t\n\t\t\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\t\t\t\t\trenderTargetProperties.__webglRenderbuffer = [];\n\t\n\t\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\n\t\n\t\t\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo );\n\t\n\t\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\t\n\t\t\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\t\t\t\t\t\trenderTargetProperties.__webglRenderbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\n\t\t\t\t\t\tsetupFrameBuffer( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\n\t\t\t\t\t\tsetupRenderBuffer( renderTargetProperties.__webglRenderbuffer[ i ], renderTarget );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( renderTarget.texture.generateMipmaps && isTargetPowerOfTwo ) _gl.generateMipmap( _gl.TEXTURE_CUBE_MAP );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\t\n\t\t\t\t\tif ( renderTarget.shareDepthFrom ) {\n\t\n\t\t\t\t\t\trenderTargetProperties.__webglRenderbuffer = renderTarget.shareDepthFrom.__webglRenderbuffer;\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\trenderTargetProperties.__webglRenderbuffer = _gl.createRenderbuffer();\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\t\t\t\t\tsetTextureParameters( _gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo );\n\t\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\n\t\t\t\t\tsetupFrameBuffer( renderTargetProperties.__webglFramebuffer, renderTarget, _gl.TEXTURE_2D );\n\t\n\t\t\t\t\tif ( renderTarget.shareDepthFrom ) {\n\t\n\t\t\t\t\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\t\n\t\t\t\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderTargetProperties.__webglRenderbuffer );\n\t\n\t\t\t\t\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\t\n\t\t\t\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderTargetProperties.__webglRenderbuffer );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tsetupRenderBuffer( renderTargetProperties.__webglRenderbuffer, renderTarget );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( renderTarget.texture.generateMipmaps && isTargetPowerOfTwo ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// Release everything\n\t\n\t\t\t\tif ( isCube ) {\n\t\n\t\t\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tstate.bindTexture( _gl.TEXTURE_2D, null );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\t\n\t\t\t}\n\t\n\t\t\tvar framebuffer, width, height, vx, vy;\n\t\n\t\t\tif ( renderTarget ) {\n\t\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\n\t\t\t\tif ( isCube ) {\n\t\n\t\t\t\t\tframebuffer = renderTargetProperties.__webglFramebuffer[ renderTarget.activeCubeFace ];\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tframebuffer = renderTargetProperties.__webglFramebuffer;\n\t\n\t\t\t\t}\n\t\n\t\t\t\twidth = renderTarget.width;\n\t\t\t\theight = renderTarget.height;\n\t\n\t\t\t\tvx = 0;\n\t\t\t\tvy = 0;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tframebuffer = null;\n\t\n\t\t\t\twidth = _viewportWidth;\n\t\t\t\theight = _viewportHeight;\n\t\n\t\t\t\tvx = _viewportX;\n\t\t\t\tvy = _viewportY;\n\t\n\t\t\t}\n\t\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\t\n\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t\t\t_gl.viewport( vx, vy, width, height );\n\t\n\t\t\t\t_currentFramebuffer = framebuffer;\n\t\n\t\t\t}\n\t\n\t\t\tif ( isCube ) {\n\t\n\t\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, 0 );\n\t\n\t\t\t}\n\t\n\t\t\t_currentWidth = width;\n\t\t\t_currentHeight = height;\n\t\n\t\t};\n\t\n\t\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\n\t\n\t\t\tif ( renderTarget instanceof THREE.WebGLRenderTarget === false ) {\n\t\n\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\t\n\t\t\tif ( framebuffer ) {\n\t\n\t\t\t\tvar restore = false;\n\t\n\t\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\t\n\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\n\t\t\t\t\trestore = true;\n\t\n\t\t\t\t}\n\t\n\t\t\t\ttry {\n\t\n\t\t\t\t\tvar texture = renderTarget.texture;\n\t\n\t\t\t\t\tif ( texture.format !== THREE.RGBAFormat\n\t\t\t\t\t\t&& paramThreeToGL( texture.format ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_FORMAT ) ) {\n\t\n\t\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\t\treturn;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( texture.type !== THREE.UnsignedByteType\n\t\t\t\t\t\t&& paramThreeToGL( texture.type ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_TYPE )\n\t\t\t\t\t\t&& ! ( texture.type === THREE.FloatType && extensions.get( 'WEBGL_color_buffer_float' ) )\n\t\t\t\t\t\t&& ! ( texture.type === THREE.HalfFloatType && extensions.get( 'EXT_color_buffer_half_float' ) ) ) {\n\t\n\t\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\t\treturn;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( _gl.checkFramebufferStatus( _gl.FRAMEBUFFER ) === _gl.FRAMEBUFFER_COMPLETE ) {\n\t\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, paramThreeToGL( texture.format ), paramThreeToGL( texture.type ), buffer );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} finally {\n\t\n\t\t\t\t\tif ( restore ) {\n\t\n\t\t\t\t\t\t_gl.bindFramebuffer( _gl.FRAMEBUFFER, _currentFramebuffer );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tfunction updateRenderTargetMipmap( renderTarget ) {\n\t\n\t\t\tvar target = renderTarget instanceof THREE.WebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n\t\t\tvar texture = properties.get( renderTarget.texture ).__webglTexture;\n\t\n\t\t\tstate.bindTexture( target, texture );\n\t\t\t_gl.generateMipmap( target );\n\t\t\tstate.bindTexture( target, null );\n\t\n\t\t}\n\t\n\t\t// Fallback filters for non-power-of-2 textures\n\t\n\t\tfunction filterFallback ( f ) {\n\t\n\t\t\tif ( f === THREE.NearestFilter || f === THREE.NearestMipMapNearestFilter || f === THREE.NearestMipMapLinearFilter ) {\n\t\n\t\t\t\treturn _gl.NEAREST;\n\t\n\t\t\t}\n\t\n\t\t\treturn _gl.LINEAR;\n\t\n\t\t}\n\t\n\t\t// Map three.js constants to WebGL constants\n\t\n\t\tfunction paramThreeToGL ( p ) {\n\t\n\t\t\tvar extension;\n\t\n\t\t\tif ( p === THREE.RepeatWrapping ) return _gl.REPEAT;\n\t\t\tif ( p === THREE.ClampToEdgeWrapping ) return _gl.CLAMP_TO_EDGE;\n\t\t\tif ( p === THREE.MirroredRepeatWrapping ) return _gl.MIRRORED_REPEAT;\n\t\n\t\t\tif ( p === THREE.NearestFilter ) return _gl.NEAREST;\n\t\t\tif ( p === THREE.NearestMipMapNearestFilter ) return _gl.NEAREST_MIPMAP_NEAREST;\n\t\t\tif ( p === THREE.NearestMipMapLinearFilter ) return _gl.NEAREST_MIPMAP_LINEAR;\n\t\n\t\t\tif ( p === THREE.LinearFilter ) return _gl.LINEAR;\n\t\t\tif ( p === THREE.LinearMipMapNearestFilter ) return _gl.LINEAR_MIPMAP_NEAREST;\n\t\t\tif ( p === THREE.LinearMipMapLinearFilter ) return _gl.LINEAR_MIPMAP_LINEAR;\n\t\n\t\t\tif ( p === THREE.UnsignedByteType ) return _gl.UNSIGNED_BYTE;\n\t\t\tif ( p === THREE.UnsignedShort4444Type ) return _gl.UNSIGNED_SHORT_4_4_4_4;\n\t\t\tif ( p === THREE.UnsignedShort5551Type ) return _gl.UNSIGNED_SHORT_5_5_5_1;\n\t\t\tif ( p === THREE.UnsignedShort565Type ) return _gl.UNSIGNED_SHORT_5_6_5;\n\t\n\t\t\tif ( p === THREE.ByteType ) return _gl.BYTE;\n\t\t\tif ( p === THREE.ShortType ) return _gl.SHORT;\n\t\t\tif ( p === THREE.UnsignedShortType ) return _gl.UNSIGNED_SHORT;\n\t\t\tif ( p === THREE.IntType ) return _gl.INT;\n\t\t\tif ( p === THREE.UnsignedIntType ) return _gl.UNSIGNED_INT;\n\t\t\tif ( p === THREE.FloatType ) return _gl.FLOAT;\n\t\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\t\n\t\t\tif ( extension !== null ) {\n\t\n\t\t\t\tif ( p === THREE.HalfFloatType ) return extension.HALF_FLOAT_OES;\n\t\n\t\t\t}\n\t\n\t\t\tif ( p === THREE.AlphaFormat ) return _gl.ALPHA;\n\t\t\tif ( p === THREE.RGBFormat ) return _gl.RGB;\n\t\t\tif ( p === THREE.RGBAFormat ) return _gl.RGBA;\n\t\t\tif ( p === THREE.LuminanceFormat ) return _gl.LUMINANCE;\n\t\t\tif ( p === THREE.LuminanceAlphaFormat ) return _gl.LUMINANCE_ALPHA;\n\t\n\t\t\tif ( p === THREE.AddEquation ) return _gl.FUNC_ADD;\n\t\t\tif ( p === THREE.SubtractEquation ) return _gl.FUNC_SUBTRACT;\n\t\t\tif ( p === THREE.ReverseSubtractEquation ) return _gl.FUNC_REVERSE_SUBTRACT;\n\t\n\t\t\tif ( p === THREE.ZeroFactor ) return _gl.ZERO;\n\t\t\tif ( p === THREE.OneFactor ) return _gl.ONE;\n\t\t\tif ( p === THREE.SrcColorFactor ) return _gl.SRC_COLOR;\n\t\t\tif ( p === THREE.OneMinusSrcColorFactor ) return _gl.ONE_MINUS_SRC_COLOR;\n\t\t\tif ( p === THREE.SrcAlphaFactor ) return _gl.SRC_ALPHA;\n\t\t\tif ( p === THREE.OneMinusSrcAlphaFactor ) return _gl.ONE_MINUS_SRC_ALPHA;\n\t\t\tif ( p === THREE.DstAlphaFactor ) return _gl.DST_ALPHA;\n\t\t\tif ( p === THREE.OneMinusDstAlphaFactor ) return _gl.ONE_MINUS_DST_ALPHA;\n\t\n\t\t\tif ( p === THREE.DstColorFactor ) return _gl.DST_COLOR;\n\t\t\tif ( p === THREE.OneMinusDstColorFactor ) return _gl.ONE_MINUS_DST_COLOR;\n\t\t\tif ( p === THREE.SrcAlphaSaturateFactor ) return _gl.SRC_ALPHA_SATURATE;\n\t\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\t\n\t\t\tif ( extension !== null ) {\n\t\n\t\t\t\tif ( p === THREE.RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === THREE.RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === THREE.RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === THREE.RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\t\n\t\t\t}\n\t\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\t\n\t\t\tif ( extension !== null ) {\n\t\n\t\t\t\tif ( p === THREE.RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === THREE.RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === THREE.RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === THREE.RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\t\n\t\t\t}\n\t\n\t\t\textension = extensions.get( 'EXT_blend_minmax' );\n\t\n\t\t\tif ( extension !== null ) {\n\t\n\t\t\t\tif ( p === THREE.MinEquation ) return extension.MIN_EXT;\n\t\t\t\tif ( p === THREE.MaxEquation ) return extension.MAX_EXT;\n\t\n\t\t\t}\n\t\n\t\t\treturn 0;\n\t\n\t\t}\n\t\n\t\t// DEPRECATED\n\t\n\t\tthis.supportsFloatTextures = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\t\treturn extensions.get( 'OES_texture_float' );\n\t\n\t\t};\n\t\n\t\tthis.supportsHalfFloatTextures = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\t\treturn extensions.get( 'OES_texture_half_float' );\n\t\n\t\t};\n\t\n\t\tthis.supportsStandardDerivatives = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\t\treturn extensions.get( 'OES_standard_derivatives' );\n\t\n\t\t};\n\t\n\t\tthis.supportsCompressedTextureS3TC = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\t\treturn extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\t\n\t\t};\n\t\n\t\tthis.supportsCompressedTexturePVRTC = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\t\treturn extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\t\n\t\t};\n\t\n\t\tthis.supportsBlendMinMax = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\t\treturn extensions.get( 'EXT_blend_minmax' );\n\t\n\t\t};\n\t\n\t\tthis.supportsVertexTextures = function () {\n\t\n\t\t\treturn capabilities.vertexTextures;\n\t\n\t\t};\n\t\n\t\tthis.supportsInstancedArrays = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\t\treturn extensions.get( 'ANGLE_instanced_arrays' );\n\t\n\t\t};\n\t\n\t\t//\n\t\n\t\tthis.initMaterial = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\t\n\t\t};\n\t\n\t\tthis.addPrePlugin = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\t\n\t\t};\n\t\n\t\tthis.addPostPlugin = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\t\n\t\t};\n\t\n\t\tthis.updateShadowMap = function () {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\t\n\t\t};\n\t\n\t\tObject.defineProperties( this, {\n\t\t\tshadowMapEnabled: {\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn shadowMap.enabled;\n\t\n\t\t\t\t},\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\t\t\tshadowMap.enabled = value;\n\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tshadowMapType: {\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn shadowMap.type;\n\t\n\t\t\t\t},\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\t\t\tshadowMap.type = value;\n\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tshadowMapCullFace: {\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn shadowMap.cullFace;\n\t\n\t\t\t\t},\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.' );\n\t\t\t\t\tshadowMap.cullFace = value;\n\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tshadowMapDebug: {\n\t\t\t\tget: function () {\n\t\n\t\t\t\t\treturn shadowMap.debug;\n\t\n\t\t\t\t},\n\t\t\t\tset: function ( value ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapDebug is now .shadowMap.debug.' );\n\t\t\t\t\tshadowMap.debug = value;\n\t\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t\n\t};\n\t\n\t// File:src/renderers/WebGLRenderTarget.js\n\t\n\t/**\n\t * @author szimek / https://github.com/szimek/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.WebGLRenderTarget = function ( width, height, options ) {\n\t\n\t\tthis.uuid = THREE.Math.generateUUID();\n\t\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\n\t\toptions = options || {};\n\t\n\t\tif ( options.minFilter === undefined ) options.minFilter = THREE.LinearFilter;\n\t\n\t\tthis.texture = new THREE.Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy );\n\t\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\t\n\t\tthis.shareDepthFrom = options.shareDepthFrom !== undefined ? options.shareDepthFrom : null;\n\t\n\t};\n\t\n\tTHREE.WebGLRenderTarget.prototype = {\n\t\n\t\tconstructor: THREE.WebGLRenderTarget,\n\t\n\t\tget wrapS() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\n\t\t\treturn this.texture.wrapS;\n\t\n\t\t},\n\t\n\t\tset wrapS( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\n\t\t\tthis.texture.wrapS = value;\n\t\n\t\t},\n\t\n\t\tget wrapT() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\n\t\t\treturn this.texture.wrapT;\n\t\n\t\t},\n\t\n\t\tset wrapT( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\n\t\t\tthis.texture.wrapT = value;\n\t\n\t\t},\n\t\n\t\tget magFilter() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\n\t\t\treturn this.texture.magFilter;\n\t\n\t\t},\n\t\n\t\tset magFilter( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\n\t\t\tthis.texture.magFilter = value;\n\t\n\t\t},\n\t\n\t\tget minFilter() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\n\t\t\treturn this.texture.minFilter;\n\t\n\t\t},\n\t\n\t\tset minFilter( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\n\t\t\tthis.texture.minFilter = value;\n\t\n\t\t},\n\t\n\t\tget anisotropy() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\n\t\t\treturn this.texture.anisotropy;\n\t\n\t\t},\n\t\n\t\tset anisotropy( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\n\t\t\tthis.texture.anisotropy = value;\n\t\n\t\t},\n\t\n\t\tget offset() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\n\t\t\treturn this.texture.offset;\n\t\n\t\t},\n\t\n\t\tset offset( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\n\t\t\tthis.texture.offset = value;\n\t\n\t\t},\n\t\n\t\tget repeat() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\n\t\t\treturn this.texture.repeat;\n\t\n\t\t},\n\t\n\t\tset repeat( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\n\t\t\tthis.texture.repeat = value;\n\t\n\t\t},\n\t\n\t\tget format() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\n\t\t\treturn this.texture.format;\n\t\n\t\t},\n\t\n\t\tset format( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\n\t\t\tthis.texture.format = value;\n\t\n\t\t},\n\t\n\t\tget type() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\n\t\t\treturn this.texture.type;\n\t\n\t\t},\n\t\n\t\tset type( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\n\t\t\tthis.texture.type = value;\n\t\n\t\t},\n\t\n\t\tget generateMipmaps() {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\n\t\t\treturn this.texture.generateMipmaps;\n\t\n\t\t},\n\t\n\t\tset generateMipmaps( value ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\n\t\t\tthis.texture.generateMipmaps = value;\n\t\n\t\t},\n\t\n\t\t//\n\t\n\t\tsetSize: function ( width, height ) {\n\t\n\t\t\tif ( this.width !== width || this.height !== height ) {\n\t\n\t\t\t\tthis.width = width;\n\t\t\t\tthis.height = height;\n\t\n\t\t\t\tthis.dispose();\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new this.constructor().copy( this );\n\t\n\t\t},\n\t\n\t\tcopy: function ( source ) {\n\t\n\t\t\tthis.width = source.width;\n\t\t\tthis.height = source.height;\n\t\n\t\t\tthis.texture = source.texture.clone();\n\t\n\t\t\tthis.depthBuffer = source.depthBuffer;\n\t\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\n\t\t\tthis.shareDepthFrom = source.shareDepthFrom;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdispose: function () {\n\t\n\t\t\tthis.dispatchEvent( { type: 'dispose' } );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.EventDispatcher.prototype.apply( THREE.WebGLRenderTarget.prototype );\n\t\n\t// File:src/renderers/WebGLRenderTargetCube.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com\n\t */\n\t\n\tTHREE.WebGLRenderTargetCube = function ( width, height, options ) {\n\t\n\t\tTHREE.WebGLRenderTarget.call( this, width, height, options );\n\t\n\t\tthis.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\n\t\n\t};\n\t\n\tTHREE.WebGLRenderTargetCube.prototype = Object.create( THREE.WebGLRenderTarget.prototype );\n\tTHREE.WebGLRenderTargetCube.prototype.constructor = THREE.WebGLRenderTargetCube;\n\t\n\t// File:src/renderers/webgl/WebGLBufferRenderer.js\n\t\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t*/\n\t\n\tTHREE.WebGLBufferRenderer = function ( _gl, extensions, _infoRender ) {\n\t\n\t\tvar mode;\n\t\n\t\tfunction setMode( value ) {\n\t\n\t\t\tmode = value;\n\t\n\t\t}\n\t\n\t\tfunction render( start, count ) {\n\t\n\t\t\t_gl.drawArrays( mode, start, count );\n\t\n\t\t\t_infoRender.calls ++;\n\t\t\t_infoRender.vertices += count;\n\t\t\tif ( mode === _gl.TRIANGLES ) _infoRender.faces += count / 3;\n\t\n\t\t}\n\t\n\t\tfunction renderInstances( geometry ) {\n\t\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\n\t\t\tif ( extension === null ) {\n\t\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tvar position = geometry.attributes.position;\n\t\n\t\t\tif ( position instanceof THREE.InterleavedBufferAttribute ) {\n\t\n\t\t\t\textension.drawArraysInstancedANGLE( mode, 0, position.data.count, geometry.maxInstancedCount );\n\t\n\t\t\t} else {\n\t\n\t\t\t\textension.drawArraysInstancedANGLE( mode, 0, position.count, geometry.maxInstancedCount );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.setMode = setMode;\n\t\tthis.render = render;\n\t\tthis.renderInstances = renderInstances;\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLIndexedBufferRenderer.js\n\t\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t*/\n\t\n\tTHREE.WebGLIndexedBufferRenderer = function ( _gl, extensions, _infoRender ) {\n\t\n\t\tvar mode;\n\t\n\t\tfunction setMode( value ) {\n\t\n\t\t\tmode = value;\n\t\n\t\t}\n\t\n\t\tvar type, size;\n\t\n\t\tfunction setIndex( index ) {\n\t\n\t\t\tif ( index.array instanceof Uint32Array && extensions.get( 'OES_element_index_uint' ) ) {\n\t\n\t\t\t\ttype = _gl.UNSIGNED_INT;\n\t\t\t\tsize = 4;\n\t\n\t\t\t} else {\n\t\n\t\t\t\ttype = _gl.UNSIGNED_SHORT;\n\t\t\t\tsize = 2;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction render( start, count ) {\n\t\n\t\t\t_gl.drawElements( mode, count, type, start * size );\n\t\n\t\t\t_infoRender.calls ++;\n\t\t\t_infoRender.vertices += count;\n\t\t\tif ( mode === _gl.TRIANGLES ) _infoRender.faces += count / 3;\n\t\n\t\t}\n\t\n\t\tfunction renderInstances( geometry ) {\n\t\n\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\n\t\t\tif ( extension === null ) {\n\t\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\t\n\t\t\t}\n\t\n\t\t\tvar index = geometry.index;\n\t\n\t\t\textension.drawElementsInstancedANGLE( mode, index.array.length, type, 0, geometry.maxInstancedCount );\n\t\n\t\t}\n\t\n\t\tthis.setMode = setMode;\n\t\tthis.setIndex = setIndex;\n\t\tthis.render = render;\n\t\tthis.renderInstances = renderInstances;\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLExtensions.js\n\t\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t*/\n\t\n\tTHREE.WebGLExtensions = function ( gl ) {\n\t\n\t\tvar extensions = {};\n\t\n\t\tthis.get = function ( name ) {\n\t\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\t\n\t\t\t\treturn extensions[ name ];\n\t\n\t\t\t}\n\t\n\t\t\tvar extension;\n\t\n\t\t\tswitch ( name ) {\n\t\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\t\n\t\t\t}\n\t\n\t\t\tif ( extension === null ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\t\n\t\t\t}\n\t\n\t\t\textensions[ name ] = extension;\n\t\n\t\t\treturn extension;\n\t\n\t\t};\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLCapabilities.js\n\t\n\tTHREE.WebGLCapabilities = function ( gl, extensions, parameters ) {\n\t\n\t\tfunction getMaxPrecision( precision ) {\n\t\n\t\t\tif ( precision === 'highp' ) {\n\t\n\t\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\n\t\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0 ) {\n\t\n\t\t\t\t\treturn 'highp';\n\t\n\t\t\t\t}\n\t\n\t\t\t\tprecision = 'mediump';\n\t\n\t\t\t}\n\t\n\t\t\tif ( precision === 'mediump' ) {\n\t\n\t\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\n\t\t\t\t     gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0 ) {\n\t\n\t\t\t\t\treturn 'mediump';\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn 'lowp';\n\t\n\t\t}\n\t\n\t\tthis.getMaxPrecision = getMaxPrecision;\n\t\n\t\tthis.precision = parameters.precision !== undefined ? parameters.precision : 'highp',\n\t\tthis.logarithmicDepthBuffer = parameters.logarithmicDepthBuffer !== undefined ? parameters.logarithmicDepthBuffer : false;\n\t\n\t\tthis.maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\n\t\tthis.maxVertexTextures = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\n\t\tthis.maxTextureSize = gl.getParameter( gl.MAX_TEXTURE_SIZE );\n\t\tthis.maxCubemapSize = gl.getParameter( gl.MAX_CUBE_MAP_TEXTURE_SIZE );\n\t\n\t\tthis.maxAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\t\tthis.maxVertexUniforms = gl.getParameter( gl.MAX_VERTEX_UNIFORM_VECTORS );\n\t\tthis.maxVaryings = gl.getParameter( gl.MAX_VARYING_VECTORS );\n\t\tthis.maxFragmentUniforms = gl.getParameter( gl.MAX_FRAGMENT_UNIFORM_VECTORS );\n\t\n\t\tthis.vertexTextures = this.maxVertexTextures > 0;\n\t\tthis.floatFragmentTextures = !! extensions.get( 'OES_texture_float' );\n\t\tthis.floatVertexTextures = this.vertexTextures && this.floatFragmentTextures;\n\t\n\t\tvar _maxPrecision = getMaxPrecision( this.precision );\n\t\n\t\tif ( _maxPrecision !== this.precision ) {\n\t\n\t\t\tconsole.warn( 'THREE.WebGLRenderer:', this.precision, 'not supported, using', _maxPrecision, 'instead.' );\n\t\t\tthis.precision = _maxPrecision;\n\t\n\t\t}\n\t\n\t\tif ( this.logarithmicDepthBuffer ) {\n\t\n\t\t\tthis.logarithmicDepthBuffer = !! extensions.get( 'EXT_frag_depth' );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLGeometries.js\n\t\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t*/\n\t\n\tTHREE.WebGLGeometries = function ( gl, properties, info ) {\n\t\n\t\tvar geometries = {};\n\t\n\t\tfunction get( object ) {\n\t\n\t\t\tvar geometry = object.geometry;\n\t\n\t\t\tif ( geometries[ geometry.id ] !== undefined ) {\n\t\n\t\t\t\treturn geometries[ geometry.id ];\n\t\n\t\t\t}\n\t\n\t\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\t\n\t\t\tvar buffergeometry;\n\t\n\t\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\t\n\t\t\t\tbuffergeometry = geometry;\n\t\n\t\t\t} else if ( geometry instanceof THREE.Geometry ) {\n\t\n\t\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\t\n\t\t\t\t\tgeometry._bufferGeometry = new THREE.BufferGeometry().setFromObject( object );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tbuffergeometry = geometry._bufferGeometry;\n\t\n\t\t\t}\n\t\n\t\t\tgeometries[ geometry.id ] = buffergeometry;\n\t\n\t\t\tinfo.memory.geometries ++;\n\t\n\t\t\treturn buffergeometry;\n\t\n\t\t}\n\t\n\t\tfunction onGeometryDispose( event ) {\n\t\n\t\t\tvar geometry = event.target;\n\t\t\tvar buffergeometry = geometries[ geometry.id ];\n\t\n\t\t\tdeleteAttributes( buffergeometry.attributes );\n\t\n\t\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\t\n\t\t\tdelete geometries[ geometry.id ];\n\t\n\t\t\tvar property = properties.get( geometry );\n\t\t\tif ( property.wireframe ) deleteAttribute( property.wireframe );\n\t\n\t\t\tinfo.memory.geometries --;\n\t\n\t\t}\n\t\n\t\tfunction getAttributeBuffer( attribute ) {\n\t\n\t\t\tif ( attribute instanceof THREE.InterleavedBufferAttribute ) {\n\t\n\t\t\t\treturn properties.get( attribute.data ).__webglBuffer;\n\t\n\t\t\t}\n\t\n\t\t\treturn properties.get( attribute ).__webglBuffer;\n\t\n\t\t}\n\t\n\t\tfunction deleteAttribute( attribute ) {\n\t\n\t\t\tvar buffer = getAttributeBuffer( attribute );\n\t\n\t\t\tif ( buffer !== undefined ) {\n\t\n\t\t\t\tgl.deleteBuffer( buffer );\n\t\t\t\tremoveAttributeBuffer( attribute );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction deleteAttributes( attributes ) {\n\t\n\t\t\tfor ( var name in attributes ) {\n\t\n\t\t\t\tdeleteAttribute( attributes[ name ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction removeAttributeBuffer( attribute ) {\n\t\n\t\t\tif ( attribute instanceof THREE.InterleavedBufferAttribute ) {\n\t\n\t\t\t\tproperties.delete( attribute.data );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tproperties.delete( attribute );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.get = get;\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLObjects.js\n\t\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t*/\n\t\n\tTHREE.WebGLObjects = function ( gl, properties, info ) {\n\t\n\t\tvar geometries = new THREE.WebGLGeometries( gl, properties, info );\n\t\n\t\t//\n\t\n\t\tfunction update( object ) {\n\t\n\t\t\t// TODO: Avoid updating twice (when using shadowMap). Maybe add frame counter.\n\t\n\t\t\tvar geometry = geometries.get( object );\n\t\n\t\t\tif ( object.geometry instanceof THREE.Geometry ) {\n\t\n\t\t\t\tgeometry.updateFromObject( object );\n\t\n\t\t\t}\n\t\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\n\t\t\tif ( index !== null ) {\n\t\n\t\t\t\tupdateAttribute( index, gl.ELEMENT_ARRAY_BUFFER );\n\t\n\t\t\t}\n\t\n\t\t\tfor ( var name in attributes ) {\n\t\n\t\t\t\tupdateAttribute( attributes[ name ], gl.ARRAY_BUFFER );\n\t\n\t\t\t}\n\t\n\t\t\t// morph targets\n\t\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\n\t\t\tfor ( var name in morphAttributes ) {\n\t\n\t\t\t\tvar array = morphAttributes[ name ];\n\t\n\t\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tupdateAttribute( array[ i ], gl.ARRAY_BUFFER );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn geometry;\n\t\n\t\t}\n\t\n\t\tfunction updateAttribute( attribute, bufferType ) {\n\t\n\t\t\tvar data = ( attribute instanceof THREE.InterleavedBufferAttribute ) ? attribute.data : attribute;\n\t\n\t\t\tvar attributeProperties = properties.get( data );\n\t\n\t\t\tif ( attributeProperties.__webglBuffer === undefined ) {\n\t\n\t\t\t\tcreateBuffer( attributeProperties, data, bufferType );\n\t\n\t\t\t} else if ( attributeProperties.version !== data.version ) {\n\t\n\t\t\t\tupdateBuffer( attributeProperties, data, bufferType );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction createBuffer( attributeProperties, data, bufferType ) {\n\t\n\t\t\tattributeProperties.__webglBuffer = gl.createBuffer();\n\t\t\tgl.bindBuffer( bufferType, attributeProperties.__webglBuffer );\n\t\n\t\t\tvar usage = data.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\n\t\n\t\t\tgl.bufferData( bufferType, data.array, usage );\n\t\n\t\t\tattributeProperties.version = data.version;\n\t\n\t\t}\n\t\n\t\tfunction updateBuffer( attributeProperties, data, bufferType ) {\n\t\n\t\t\tgl.bindBuffer( bufferType, attributeProperties.__webglBuffer );\n\t\n\t\t\tif ( data.dynamic === false || data.updateRange.count === - 1 ) {\n\t\n\t\t\t\t// Not using update ranges\n\t\n\t\t\t\tgl.bufferSubData( bufferType, 0, data.array );\n\t\n\t\t\t} else if ( data.updateRange.count === 0 ) {\n\t\n\t\t\t\tconsole.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tgl.bufferSubData( bufferType, data.updateRange.offset * data.array.BYTES_PER_ELEMENT,\n\t\t\t\t\t\t\t\t  data.array.subarray( data.updateRange.offset, data.updateRange.offset + data.updateRange.count ) );\n\t\n\t\t\t\tdata.updateRange.count = 0; // reset range\n\t\n\t\t\t}\n\t\n\t\t\tattributeProperties.version = data.version;\n\t\n\t\t}\n\t\n\t\tfunction getAttributeBuffer( attribute ) {\n\t\n\t\t\tif ( attribute instanceof THREE.InterleavedBufferAttribute ) {\n\t\n\t\t\t\treturn properties.get( attribute.data ).__webglBuffer;\n\t\n\t\t\t}\n\t\n\t\t\treturn properties.get( attribute ).__webglBuffer;\n\t\n\t\t}\n\t\n\t\tfunction getWireframeAttribute( geometry ) {\n\t\n\t\t\tvar property = properties.get( geometry );\n\t\n\t\t\tif ( property.wireframe !== undefined ) {\n\t\n\t\t\t\treturn property.wireframe;\n\t\n\t\t\t}\n\t\n\t\t\tvar indices = [];\n\t\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar position = attributes.position;\n\t\n\t\t\t// console.time( 'wireframe' );\n\t\n\t\t\tif ( index !== null ) {\n\t\n\t\t\t\tvar edges = {};\n\t\t\t\tvar array = index.array;\n\t\n\t\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\t\n\t\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\t\tvar c = array[ i + 2 ];\n\t\n\t\t\t\t\tif ( checkEdge( edges, a, b ) ) indices.push( a, b );\n\t\t\t\t\tif ( checkEdge( edges, b, c ) ) indices.push( b, c );\n\t\t\t\t\tif ( checkEdge( edges, c, a ) ) indices.push( c, a );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tvar array = attributes.position.array;\n\t\n\t\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\t\n\t\t\t\t\tvar a = i + 0;\n\t\t\t\t\tvar b = i + 1;\n\t\t\t\t\tvar c = i + 2;\n\t\n\t\t\t\t\tindices.push( a, b, b, c, c, a );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// console.timeEnd( 'wireframe' );\n\t\n\t\t\tvar TypeArray = position.count > 65535 ? Uint32Array : Uint16Array;\n\t\t\tvar attribute = new THREE.BufferAttribute( new TypeArray( indices ), 1 );\n\t\n\t\t\tupdateAttribute( attribute, gl.ELEMENT_ARRAY_BUFFER );\n\t\n\t\t\tproperty.wireframe = attribute;\n\t\n\t\t\treturn attribute;\n\t\n\t\t}\n\t\n\t\tfunction checkEdge( edges, a, b ) {\n\t\n\t\t\tif ( a > b ) {\n\t\n\t\t\t\tvar tmp = a;\n\t\t\t\ta = b;\n\t\t\t\tb = tmp;\n\t\n\t\t\t}\n\t\n\t\t\tvar list = edges[ a ];\n\t\n\t\t\tif ( list === undefined ) {\n\t\n\t\t\t\tedges[ a ] = [ b ];\n\t\t\t\treturn true;\n\t\n\t\t\t} else if ( list.indexOf( b ) === -1 ) {\n\t\n\t\t\t\tlist.push( b );\n\t\t\t\treturn true;\n\t\n\t\t\t}\n\t\n\t\t\treturn false;\n\t\n\t\t}\n\t\n\t\tthis.getAttributeBuffer = getAttributeBuffer;\n\t\tthis.getWireframeAttribute = getWireframeAttribute;\n\t\n\t\tthis.update = update;\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLProgram.js\n\t\n\tTHREE.WebGLProgram = ( function () {\n\t\n\t\tvar programIdCount = 0;\n\t\n\t\tfunction generateDefines( defines ) {\n\t\n\t\t\tvar chunks = [];\n\t\n\t\t\tfor ( var name in defines ) {\n\t\n\t\t\t\tvar value = defines[ name ];\n\t\n\t\t\t\tif ( value === false ) continue;\n\t\n\t\t\t\tchunks.push( '#define ' + name + ' ' + value );\n\t\n\t\t\t}\n\t\n\t\t\treturn chunks.join( '\\n' );\n\t\n\t\t}\n\t\n\t\tfunction fetchUniformLocations( gl, program, identifiers ) {\n\t\n\t\t\tvar uniforms = {};\n\t\n\t\t\tvar n = gl.getProgramParameter( program, gl.ACTIVE_UNIFORMS );\n\t\n\t\t\tfor ( var i = 0; i < n; i ++ ) {\n\t\n\t\t\t\tvar info = gl.getActiveUniform( program, i );\n\t\t\t\tvar name = info.name;\n\t\t\t\tvar location = gl.getUniformLocation( program, name );\n\t\n\t\t\t\t// console.log(\"THREE.WebGLProgram: ACTIVE UNIFORM:\", name);\n\t\n\t\t\t\tvar suffixPos = name.lastIndexOf( '[0]' );\n\t\t\t\tif ( suffixPos !== - 1 && suffixPos === name.length - 3 ) {\n\t\n\t\t\t\t\tuniforms[ name.substr( 0, suffixPos ) ] = location;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tuniforms[ name ] = location;\n\t\n\t\t\t}\n\t\n\t\t\treturn uniforms;\n\t\n\t\t}\n\t\n\t\tfunction fetchAttributeLocations( gl, program, identifiers ) {\n\t\n\t\t\tvar attributes = {};\n\t\n\t\t\tvar n = gl.getProgramParameter( program, gl.ACTIVE_ATTRIBUTES );\n\t\n\t\t\tfor ( var i = 0; i < n; i ++ ) {\n\t\n\t\t\t\tvar info = gl.getActiveAttrib( program, i );\n\t\t\t\tvar name = info.name;\n\t\n\t\t\t\t// console.log(\"THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:\", name, i );\n\t\n\t\t\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\t\n\t\t\t}\n\t\n\t\t\treturn attributes;\n\t\n\t\t}\n\t\n\t\tfunction filterEmptyLine( string ) {\n\t\n\t\t\treturn string !== '';\n\t\n\t\t}\n\t\n\t\treturn function WebGLProgram( renderer, code, material, parameters ) {\n\t\n\t\t\tvar gl = renderer.context;\n\t\n\t\t\tvar defines = material.defines;\n\t\n\t\t\tvar vertexShader = material.__webglShader.vertexShader;\n\t\t\tvar fragmentShader = material.__webglShader.fragmentShader;\n\t\n\t\t\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\t\n\t\t\tif ( parameters.shadowMapType === THREE.PCFShadowMap ) {\n\t\n\t\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\t\n\t\t\t} else if ( parameters.shadowMapType === THREE.PCFSoftShadowMap ) {\n\t\n\t\t\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\t\n\t\t\t}\n\t\n\t\t\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\t\t\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\n\t\t\tif ( parameters.envMap ) {\n\t\n\t\t\t\tswitch ( material.envMap.mapping ) {\n\t\n\t\t\t\t\tcase THREE.CubeReflectionMapping:\n\t\t\t\t\tcase THREE.CubeRefractionMapping:\n\t\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase THREE.EquirectangularReflectionMapping:\n\t\t\t\t\tcase THREE.EquirectangularRefractionMapping:\n\t\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase THREE.SphericalReflectionMapping:\n\t\t\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tswitch ( material.envMap.mapping ) {\n\t\n\t\t\t\t\tcase THREE.CubeRefractionMapping:\n\t\t\t\t\tcase THREE.EquirectangularRefractionMapping:\n\t\t\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tswitch ( material.combine ) {\n\t\n\t\t\t\t\tcase THREE.MultiplyOperation:\n\t\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase THREE.MixOperation:\n\t\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase THREE.AddOperation:\n\t\t\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\t\n\t\t\t// console.log( 'building new program ' );\n\t\n\t\t\t//\n\t\n\t\t\tvar customDefines = generateDefines( defines );\n\t\n\t\t\t//\n\t\n\t\t\tvar program = gl.createProgram();\n\t\n\t\t\tvar prefixVertex, prefixFragment;\n\t\n\t\t\tif ( material instanceof THREE.RawShaderMaterial ) {\n\t\n\t\t\t\tprefixVertex = '';\n\t\t\t\tprefixFragment = '';\n\t\n\t\t\t} else {\n\t\n\t\t\t\tprefixVertex = [\n\t\n\t\t\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t\t\t'precision ' + parameters.precision + ' int;',\n\t\n\t\t\t\t\t'#define SHADER_NAME ' + material.__webglShader.name,\n\t\n\t\t\t\t\tcustomDefines,\n\t\n\t\t\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\t\n\t\t\t\t\trenderer.gammaInput ? '#define GAMMA_INPUT' : '',\n\t\t\t\t\trenderer.gammaOutput ? '#define GAMMA_OUTPUT' : '',\n\t\t\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\t\n\t\t\t\t\t'#define MAX_DIR_LIGHTS ' + parameters.maxDirLights,\n\t\t\t\t\t'#define MAX_POINT_LIGHTS ' + parameters.maxPointLights,\n\t\t\t\t\t'#define MAX_SPOT_LIGHTS ' + parameters.maxSpotLights,\n\t\t\t\t\t'#define MAX_HEMI_LIGHTS ' + parameters.maxHemiLights,\n\t\n\t\t\t\t\t'#define MAX_SHADOWS ' + parameters.maxShadows,\n\t\n\t\t\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\n\t\t\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\n\t\t\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\t\n\t\t\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\t\n\t\t\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\t\n\t\t\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\t\t\t\t\tparameters.shadowMapDebug ? '#define SHADOWMAP_DEBUG' : '',\n\t\t\t\t\tparameters.pointLightShadows > 0 ? '#define POINT_LIGHT_SHADOWS' : '',\n\t\n\t\t\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\t\n\t\t\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t\t\tparameters.logarithmicDepthBuffer && renderer.extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\t\n\t\n\t\t\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t\t\t'uniform vec3 cameraPosition;',\n\t\n\t\t\t\t\t'attribute vec3 position;',\n\t\t\t\t\t'attribute vec3 normal;',\n\t\t\t\t\t'attribute vec2 uv;',\n\t\n\t\t\t\t\t'#ifdef USE_COLOR',\n\t\n\t\t\t\t\t'\tattribute vec3 color;',\n\t\n\t\t\t\t\t'#endif',\n\t\n\t\t\t\t\t'#ifdef USE_MORPHTARGETS',\n\t\n\t\t\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t\t\t'\tattribute vec3 morphTarget3;',\n\t\n\t\t\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\t\n\t\t\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t\t\t'\t\tattribute vec3 morphNormal3;',\n\t\n\t\t\t\t\t'\t#else',\n\t\n\t\t\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t\t\t'\t\tattribute vec3 morphTarget7;',\n\t\n\t\t\t\t\t'\t#endif',\n\t\n\t\t\t\t\t'#endif',\n\t\n\t\t\t\t\t'#ifdef USE_SKINNING',\n\t\n\t\t\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t\t\t'\tattribute vec4 skinWeight;',\n\t\n\t\t\t\t\t'#endif',\n\t\n\t\t\t\t\t'\\n'\n\t\n\t\t\t\t].filter( filterEmptyLine ).join( '\\n' );\n\t\n\t\t\t\tprefixFragment = [\n\t\n\t\t\t\t\tparameters.bumpMap || parameters.normalMap || parameters.flatShading || material.derivatives ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t\t\t\tparameters.logarithmicDepthBuffer && renderer.extensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\n\t\t\t\t\t'precision ' + parameters.precision + ' float;',\n\t\t\t\t\t'precision ' + parameters.precision + ' int;',\n\t\n\t\t\t\t\t'#define SHADER_NAME ' + material.__webglShader.name,\n\t\n\t\t\t\t\tcustomDefines,\n\t\n\t\t\t\t\t'#define MAX_DIR_LIGHTS ' + parameters.maxDirLights,\n\t\t\t\t\t'#define MAX_POINT_LIGHTS ' + parameters.maxPointLights,\n\t\t\t\t\t'#define MAX_SPOT_LIGHTS ' + parameters.maxSpotLights,\n\t\t\t\t\t'#define MAX_HEMI_LIGHTS ' + parameters.maxHemiLights,\n\t\n\t\t\t\t\t'#define MAX_SHADOWS ' + parameters.maxShadows,\n\t\n\t\t\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest : '',\n\t\n\t\t\t\t\trenderer.gammaInput ? '#define GAMMA_INPUT' : '',\n\t\t\t\t\trenderer.gammaOutput ? '#define GAMMA_OUTPUT' : '',\n\t\t\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\t\n\t\t\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t\t\t( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\n\t\n\t\t\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\n\t\t\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\t\n\t\t\t\t\tparameters.metal ? '#define METAL' : '',\n\t\t\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\t\n\t\t\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\t\t\t\t\tparameters.shadowMapDebug ? '#define SHADOWMAP_DEBUG' : '',\n\t\t\t\t\tparameters.pointLightShadows > 0 ? '#define POINT_LIGHT_SHADOWS' : '',\n\t\n\t\t\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t\t\tparameters.logarithmicDepthBuffer && renderer.extensions.get( 'EXT_frag_depth' ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\t\n\t\t\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t\t\t'uniform vec3 cameraPosition;',\n\t\n\t\t\t\t\t'\\n'\n\t\n\t\t\t\t].filter( filterEmptyLine ).join( '\\n' );\n\t\n\t\t\t}\n\t\n\t\t\tvar vertexGlsl = prefixVertex + vertexShader;\n\t\t\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\t\n\t\t\tvar glVertexShader = THREE.WebGLShader( gl, gl.VERTEX_SHADER, vertexGlsl );\n\t\t\tvar glFragmentShader = THREE.WebGLShader( gl, gl.FRAGMENT_SHADER, fragmentGlsl );\n\t\n\t\t\tgl.attachShader( program, glVertexShader );\n\t\t\tgl.attachShader( program, glFragmentShader );\n\t\n\t\t\t// Force a particular attribute to index 0.\n\t\n\t\t\tif ( material.index0AttributeName !== undefined ) {\n\t\n\t\t\t\tgl.bindAttribLocation( program, 0, material.index0AttributeName );\n\t\n\t\t\t} else if ( parameters.morphTargets === true ) {\n\t\n\t\t\t\t// programs with morphTargets displace position out of attribute 0\n\t\t\t\tgl.bindAttribLocation( program, 0, 'position' );\n\t\n\t\t\t}\n\t\n\t\t\tgl.linkProgram( program );\n\t\n\t\t\tvar programLog = gl.getProgramInfoLog( program );\n\t\t\tvar vertexLog = gl.getShaderInfoLog( glVertexShader );\n\t\t\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader );\n\t\n\t\t\tvar runnable = true;\n\t\t\tvar haveDiagnostics = true;\n\t\n\t\t\tif ( gl.getProgramParameter( program, gl.LINK_STATUS ) === false ) {\n\t\n\t\t\t\trunnable = false;\n\t\n\t\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter( program, gl.VALIDATE_STATUS ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\n\t\n\t\t\t} else if ( programLog !== '' ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\t\n\t\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\t\n\t\t\t\thaveDiagnostics = false;\n\t\n\t\t\t}\n\t\n\t\t\tif ( haveDiagnostics ) {\n\t\n\t\t\t\tthis.diagnostics = {\n\t\n\t\t\t\t\trunnable: runnable,\n\t\t\t\t\tmaterial: material,\n\t\n\t\t\t\t\tprogramLog: programLog,\n\t\n\t\t\t\t\tvertexShader: {\n\t\n\t\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\t\tprefix: prefixVertex\n\t\n\t\t\t\t\t},\n\t\n\t\t\t\t\tfragmentShader: {\n\t\n\t\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\t\tprefix: prefixFragment\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t\t// clean up\n\t\n\t\t\tgl.deleteShader( glVertexShader );\n\t\t\tgl.deleteShader( glFragmentShader );\n\t\n\t\t\t// set up caching for uniform locations\n\t\n\t\t\tvar cachedUniforms;\n\t\n\t\t\tthis.getUniforms = function() {\n\t\n\t\t\t\tif ( cachedUniforms === undefined ) {\n\t\n\t\t\t\t\tcachedUniforms = fetchUniformLocations( gl, program );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn cachedUniforms;\n\t\n\t\t\t};\n\t\n\t\t\t// set up caching for attribute locations\n\t\n\t\t\tvar cachedAttributes;\n\t\n\t\t\tthis.getAttributes = function() {\n\t\n\t\t\t\tif ( cachedAttributes === undefined ) {\n\t\n\t\t\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn cachedAttributes;\n\t\n\t\t\t};\n\t\n\t\t\t// free resource\n\t\n\t\t\tthis.destroy = function() {\n\t\n\t\t\t\tgl.deleteProgram( program );\n\t\t\t\tthis.program = undefined;\n\t\n\t\t\t};\n\t\n\t\t\t// DEPRECATED\n\t\n\t\t\tObject.defineProperties( this, {\n\t\n\t\t\t\tuniforms: {\n\t\t\t\t\tget: function() {\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\n\t\t\t\t\t\treturn this.getUniforms();\n\t\n\t\t\t\t\t}\n\t\t\t\t},\n\t\n\t\t\t\tattributes: {\n\t\t\t\t\tget: function() {\n\t\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\n\t\t\t\t\t\treturn this.getAttributes();\n\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\n\t\t\t} );\n\t\n\t\n\t\t\t//\n\t\n\t\t\tthis.id = programIdCount ++;\n\t\t\tthis.code = code;\n\t\t\tthis.usedTimes = 1;\n\t\t\tthis.program = program;\n\t\t\tthis.vertexShader = glVertexShader;\n\t\t\tthis.fragmentShader = glFragmentShader;\n\t\n\t\t\treturn this;\n\t\n\t\t};\n\t\n\t} )();\n\t\n\t// File:src/renderers/webgl/WebGLPrograms.js\n\t\n\tTHREE.WebGLPrograms = function ( renderer, capabilities ) {\n\t\n\t\tvar programs = [];\n\t\n\t\tvar shaderIDs = {\n\t\t\tMeshDepthMaterial: 'depth',\n\t\t\tMeshNormalMaterial: 'normal',\n\t\t\tMeshBasicMaterial: 'basic',\n\t\t\tMeshLambertMaterial: 'lambert',\n\t\t\tMeshPhongMaterial: 'phong',\n\t\t\tLineBasicMaterial: 'basic',\n\t\t\tLineDashedMaterial: 'dashed',\n\t\t\tPointsMaterial: 'points'\n\t\t};\n\t\n\t\tvar parameterNames = [\n\t\t\t\"precision\", \"supportsVertexTextures\", \"map\", \"envMap\", \"envMapMode\",\n\t\t\t\"lightMap\", \"aoMap\", \"emissiveMap\", \"bumpMap\", \"normalMap\", \"displacementMap\", \"specularMap\",\n\t\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"fog\", \"useFog\", \"fogExp\",\n\t\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"maxDirLights\", \"maxPointLights\",\n\t\t\t\"maxSpotLights\", \"maxHemiLights\", \"maxShadows\", \"shadowMapEnabled\", \"pointLightShadows\",\n\t\t\t\"shadowMapType\", \"shadowMapDebug\", \"alphaTest\", \"metal\", \"doubleSided\",\n\t\t\t\"flipSided\"\n\t\t];\n\t\n\t\n\t\tfunction allocateBones ( object ) {\n\t\n\t\t\tif ( capabilities.floatVertexTextures && object && object.skeleton && object.skeleton.useVertexTexture ) {\n\t\n\t\t\t\treturn 1024;\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// default for when object is not specified\n\t\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t\t//\n\t\t\t\t//  - leave some extra space for other uniforms\n\t\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t\t//    (up to 54 should be safe)\n\t\n\t\t\t\tvar nVertexUniforms = capabilities.maxVertexUniforms;\n\t\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\t\n\t\t\t\tvar maxBones = nVertexMatrices;\n\t\n\t\t\t\tif ( object !== undefined && object instanceof THREE.SkinnedMesh ) {\n\t\n\t\t\t\t\tmaxBones = Math.min( object.skeleton.bones.length, maxBones );\n\t\n\t\t\t\t\tif ( maxBones < object.skeleton.bones.length ) {\n\t\n\t\t\t\t\t\tconsole.warn( 'WebGLRenderer: too many bones - ' + object.skeleton.bones.length + ', this GPU supports just ' + maxBones + ' (try OpenGL instead of ANGLE)' );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn maxBones;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction allocateLights( lights ) {\n\t\n\t\t\tvar dirLights = 0;\n\t\t\tvar pointLights = 0;\n\t\t\tvar spotLights = 0;\n\t\t\tvar hemiLights = 0;\n\t\n\t\t\tfor ( var l = 0, ll = lights.length; l < ll; l ++ ) {\n\t\n\t\t\t\tvar light = lights[ l ];\n\t\n\t\t\t\tif ( light.visible === false ) continue;\n\t\n\t\t\t\tif ( light instanceof THREE.DirectionalLight ) dirLights ++;\n\t\t\t\tif ( light instanceof THREE.PointLight ) pointLights ++;\n\t\t\t\tif ( light instanceof THREE.SpotLight ) spotLights ++;\n\t\t\t\tif ( light instanceof THREE.HemisphereLight ) hemiLights ++;\n\t\n\t\t\t}\n\t\n\t\t\treturn { 'directional': dirLights, 'point': pointLights, 'spot': spotLights, 'hemi': hemiLights };\n\t\n\t\t}\n\t\n\t\tfunction allocateShadows( lights ) {\n\t\n\t\t\tvar maxShadows = 0;\n\t\t\tvar pointLightShadows = 0;\n\t\n\t\t\tfor ( var l = 0, ll = lights.length; l < ll; l ++ ) {\n\t\n\t\t\t\tvar light = lights[ l ];\n\t\n\t\t\t\tif ( ! light.castShadow ) continue;\n\t\n\t\t\t\tif ( light instanceof THREE.SpotLight || light instanceof THREE.DirectionalLight ) maxShadows ++;\n\t\t\t\tif ( light instanceof THREE.PointLight ) {\n\t\n\t\t\t\t\tmaxShadows ++;\n\t\t\t\t\tpointLightShadows ++;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn { 'maxShadows': maxShadows, 'pointLightShadows': pointLightShadows };\n\t\n\t\t}\n\t\n\t\tthis.getParameters = function ( material, lights, fog, object ) {\n\t\n\t\t\tvar shaderID = shaderIDs[ material.type ];\n\t\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t\t// (not to blow over maxLights budget)\n\t\n\t\t\tvar maxLightCount = allocateLights( lights );\n\t\t\tvar allocatedShadows = allocateShadows( lights );\n\t\t\tvar maxBones = allocateBones( object );\n\t\t\tvar precision = renderer.getPrecision();\n\t\n\t\t\tif ( material.precision !== null ) {\n\t\n\t\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\t\n\t\t\t\tif ( precision !== material.precision ) {\n\t\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.initMaterial:', material.precision, 'not supported, using', precision, 'instead.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar parameters = {\n\t\n\t\t\t\tshaderID: shaderID,\n\t\n\t\t\t\tprecision: precision,\n\t\t\t\tsupportsVertexTextures: capabilities.vertexTextures,\n\t\n\t\t\t\tmap: !! material.map,\n\t\t\t\tenvMap: !! material.envMap,\n\t\t\t\tenvMapMode: material.envMap && material.envMap.mapping,\n\t\t\t\tlightMap: !! material.lightMap,\n\t\t\t\taoMap: !! material.aoMap,\n\t\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\t\tbumpMap: !! material.bumpMap,\n\t\t\t\tnormalMap: !! material.normalMap,\n\t\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\t\tspecularMap: !! material.specularMap,\n\t\t\t\talphaMap: !! material.alphaMap,\n\t\n\t\t\t\tcombine: material.combine,\n\t\n\t\t\t\tvertexColors: material.vertexColors,\n\t\n\t\t\t\tfog: fog,\n\t\t\t\tuseFog: material.fog,\n\t\t\t\tfogExp: fog instanceof THREE.FogExp2,\n\t\n\t\t\t\tflatShading: material.shading === THREE.FlatShading,\n\t\n\t\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\t\tlogarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\n\t\n\t\t\t\tskinning: material.skinning,\n\t\t\t\tmaxBones: maxBones,\n\t\t\t\tuseVertexTexture: capabilities.floatVertexTextures && object && object.skeleton && object.skeleton.useVertexTexture,\n\t\n\t\t\t\tmorphTargets: material.morphTargets,\n\t\t\t\tmorphNormals: material.morphNormals,\n\t\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\t\n\t\t\t\tmaxDirLights: maxLightCount.directional,\n\t\t\t\tmaxPointLights: maxLightCount.point,\n\t\t\t\tmaxSpotLights: maxLightCount.spot,\n\t\t\t\tmaxHemiLights: maxLightCount.hemi,\n\t\n\t\t\t\tmaxShadows: allocatedShadows.maxShadows,\n\t\t\t\tpointLightShadows: allocatedShadows.pointLightShadows,\n\t\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && allocatedShadows.maxShadows > 0,\n\t\t\t\tshadowMapType: renderer.shadowMap.type,\n\t\t\t\tshadowMapDebug: renderer.shadowMap.debug,\n\t\n\t\t\t\talphaTest: material.alphaTest,\n\t\t\t\tmetal: material.metal,\n\t\t\t\tdoubleSided: material.side === THREE.DoubleSide,\n\t\t\t\tflipSided: material.side === THREE.BackSide\n\t\n\t\t\t};\n\t\n\t\t\treturn parameters;\n\t\n\t\t};\n\t\n\t\tthis.getProgramCode = function ( material, parameters ) {\n\t\n\t\t\tvar chunks = [];\n\t\n\t\t\tif ( parameters.shaderID ) {\n\t\n\t\t\t\tchunks.push( parameters.shaderID );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tchunks.push( material.fragmentShader );\n\t\t\t\tchunks.push( material.vertexShader );\n\t\n\t\t\t}\n\t\n\t\t\tif ( material.defines !== undefined ) {\n\t\n\t\t\t\tfor ( var name in material.defines ) {\n\t\n\t\t\t\t\tchunks.push( name );\n\t\t\t\t\tchunks.push( material.defines[ name ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\t\n\t\t\t\tvar parameterName = parameterNames[ i ];\n\t\t\t\tchunks.push( parameterName );\n\t\t\t\tchunks.push( parameters[ parameterName ] );\n\t\n\t\t\t}\n\t\n\t\t\treturn chunks.join();\n\t\n\t\t};\n\t\n\t\tthis.acquireProgram = function ( material, parameters, code ) {\n\t\n\t\t\tvar program;\n\t\n\t\t\t// Check if code has been already compiled\n\t\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\t\n\t\t\t\tvar programInfo = programs[ p ];\n\t\n\t\t\t\tif ( programInfo.code === code ) {\n\t\n\t\t\t\t\tprogram = programInfo;\n\t\t\t\t\t++ program.usedTimes;\n\t\n\t\t\t\t\tbreak;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tif ( program === undefined ) {\n\t\n\t\t\t\tprogram = new THREE.WebGLProgram( renderer, code, material, parameters );\n\t\t\t\tprograms.push( program );\n\t\n\t\t\t}\n\t\n\t\t\treturn program;\n\t\n\t\t};\n\t\n\t\tthis.releaseProgram = function( program ) {\n\t\n\t\t\tif ( -- program.usedTimes === 0 ) {\n\t\n\t\t\t\t// Remove from unordered set\n\t\t\t\tvar i = programs.indexOf( program );\n\t\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\t\tprograms.pop();\n\t\n\t\t\t\t// Free WebGL resources\n\t\t\t\tprogram.destroy();\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tthis.programs = programs;\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLProperties.js\n\t\n\t/**\n\t* @author fordacious / fordacious.github.io\n\t*/\n\t\n\tTHREE.WebGLProperties = function () {\n\t\n\t\tvar properties = {};\n\t\n\t\tthis.get = function ( object ) {\n\t\n\t\t\tvar uuid = object.uuid;\n\t\t\tvar map = properties[ uuid ];\n\t\n\t\t\tif ( map === undefined ) {\n\t\n\t\t\t\tmap = {};\n\t\t\t\tproperties[ uuid ] = map;\n\t\n\t\t\t}\n\t\n\t\t\treturn map;\n\t\n\t\t};\n\t\n\t\tthis.delete = function ( object ) {\n\t\n\t\t\tdelete properties[ object.uuid ];\n\t\n\t\t};\n\t\n\t\tthis.clear = function () {\n\t\n\t\t\tproperties = {};\n\t\n\t\t};\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLShader.js\n\t\n\tTHREE.WebGLShader = ( function () {\n\t\n\t\tfunction addLineNumbers( string ) {\n\t\n\t\t\tvar lines = string.split( '\\n' );\n\t\n\t\t\tfor ( var i = 0; i < lines.length; i ++ ) {\n\t\n\t\t\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\t\n\t\t\t}\n\t\n\t\t\treturn lines.join( '\\n' );\n\t\n\t\t}\n\t\n\t\treturn function WebGLShader( gl, type, string ) {\n\t\n\t\t\tvar shader = gl.createShader( type );\n\t\n\t\t\tgl.shaderSource( shader, string );\n\t\t\tgl.compileShader( shader );\n\t\n\t\t\tif ( gl.getShaderParameter( shader, gl.COMPILE_STATUS ) === false ) {\n\t\n\t\t\t\tconsole.error( 'THREE.WebGLShader: Shader couldn\\'t compile.' );\n\t\n\t\t\t}\n\t\n\t\t\tif ( gl.getShaderInfoLog( shader ) !== '' ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\n\t\n\t\t\t}\n\t\n\t\t\t// --enable-privileged-webgl-extension\n\t\t\t// console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\t\n\t\t\treturn shader;\n\t\n\t\t};\n\t\n\t} )();\n\t\n\t// File:src/renderers/webgl/WebGLShadowMap.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.WebGLShadowMap = function ( _renderer, _lights, _objects ) {\n\t\n\t\tvar _gl = _renderer.context,\n\t\t_state = _renderer.state,\n\t\t_frustum = new THREE.Frustum(),\n\t\t_projScreenMatrix = new THREE.Matrix4(),\n\t\n\t\t_min = new THREE.Vector3(),\n\t\t_max = new THREE.Vector3(),\n\t\n\t\t_lookTarget = new THREE.Vector3(),\n\t\t_lightPositionWorld = new THREE.Vector3(),\n\t\n\t\t_renderList = [],\n\t\n\t\t_MorphingFlag = 1,\n\t\t_SkinningFlag = 2,\n\t\n\t\t_NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\n\t\n\t\t_depthMaterials = new Array( _NumberOfMaterialVariants ),\n\t\t_distanceMaterials = new Array( _NumberOfMaterialVariants );\n\t\n\t\tvar cubeDirections = [\n\t\t\tnew THREE.Vector3( 1, 0, 0 ), new THREE.Vector3( - 1, 0, 0 ), new THREE.Vector3( 0, 0, 1 ),\n\t\t\tnew THREE.Vector3( 0, 0, - 1 ), new THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, - 1, 0 )\n\t\t];\n\t\n\t\tvar cubeUps = [\n\t\t\tnew THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, 1, 0 ),\n\t\t\tnew THREE.Vector3( 0, 1, 0 ), new THREE.Vector3( 0, 0, 1 ),\tnew THREE.Vector3( 0, 0, - 1 )\n\t\t];\n\t\n\t\tvar cube2DViewPorts = [\n\t\t\tnew THREE.Vector4(), new THREE.Vector4(), new THREE.Vector4(),\n\t\t\tnew THREE.Vector4(), new THREE.Vector4(), new THREE.Vector4()\n\t\t];\n\t\n\t\tvar _vector4 = new THREE.Vector4();\n\t\n\t\t// init\n\t\n\t\tvar depthShader = THREE.ShaderLib[ \"depthRGBA\" ];\n\t\tvar depthUniforms = THREE.UniformsUtils.clone( depthShader.uniforms );\n\t\n\t\tvar distanceShader = THREE.ShaderLib[ \"distanceRGBA\" ];\n\t\tvar distanceUniforms = THREE.UniformsUtils.clone( distanceShader.uniforms );\n\t\n\t\tfor ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\n\t\n\t\t\tvar useMorphing = ( i & _MorphingFlag ) !== 0;\n\t\t\tvar useSkinning = ( i & _SkinningFlag ) !== 0;\n\t\n\t\t\tvar depthMaterial = new THREE.ShaderMaterial( {\n\t\t\t\tuniforms: depthUniforms,\n\t\t\t\tvertexShader: depthShader.vertexShader,\n\t\t\t\tfragmentShader: depthShader.fragmentShader,\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\t\t\t} );\n\t\n\t\t\tdepthMaterial._shadowPass = true;\n\t\n\t\t\t_depthMaterials[ i ] = depthMaterial;\n\t\n\t\t\tvar distanceMaterial = new THREE.ShaderMaterial( {\n\t\t\t\tuniforms: distanceUniforms,\n\t\t\t\tvertexShader: distanceShader.vertexShader,\n\t\t\t\tfragmentShader: distanceShader.fragmentShader,\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\t\t\t} );\n\t\n\t\t\tdistanceMaterial._shadowPass = true;\n\t\n\t\t\t_distanceMaterials[ i ] = distanceMaterial;\n\t\n\t\t}\n\t\n\t\t//\n\t\n\t\tvar scope = this;\n\t\n\t\tthis.enabled = false;\n\t\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\t\n\t\tthis.type = THREE.PCFShadowMap;\n\t\tthis.cullFace = THREE.CullFaceFront;\n\t\n\t\tthis.render = function ( scene ) {\n\t\n\t\t\tvar faceCount, isPointLight;\n\t\n\t\t\tif ( scope.enabled === false ) return;\n\t\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\t\n\t\t\t// Set GL state for depth map.\n\t\t\t_gl.clearColor( 1, 1, 1, 1 );\n\t\t\t_state.disable( _gl.BLEND );\n\t\t\t_state.enable( _gl.CULL_FACE );\n\t\t\t_gl.frontFace( _gl.CCW );\n\t\t\t_gl.cullFace( scope.cullFace === THREE.CullFaceFront ? _gl.FRONT : _gl.BACK );\n\t\t\t_state.setDepthTest( true );\n\t\n\t\t\t// save the existing viewport so it can be restored later\n\t\t\t_renderer.getViewport( _vector4 );\n\t\n\t\t\t// render depth map\n\t\n\t\t\tfor ( var i = 0, il = _lights.length; i < il; i ++ ) {\n\t\n\t\t\t\tvar light = _lights[ i ];\n\t\n\t\t\t\tif ( light.castShadow === true ) {\n\t\n\t\t\t\t\tvar shadow = light.shadow;\n\t\t\t\t\tvar shadowCamera = shadow.camera;\n\t\t\t\t\tvar shadowMapSize = shadow.mapSize;\n\t\n\t\t\t\t\tif ( light instanceof THREE.PointLight ) {\n\t\n\t\t\t\t\t\tfaceCount = 6;\n\t\t\t\t\t\tisPointLight = true;\n\t\n\t\t\t\t\t\tvar vpWidth = shadowMapSize.x / 4.0;\n\t\t\t\t\t\tvar vpHeight = shadowMapSize.y / 2.0;\n\t\n\t\t\t\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t\t\t\t// following orientation:\n\t\t\t\t\t\t//\n\t\t\t\t\t\t//  xzXZ\n\t\t\t\t\t\t//   y Y\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// X - Positive x direction\n\t\t\t\t\t\t// x - Negative x direction\n\t\t\t\t\t\t// Y - Positive y direction\n\t\t\t\t\t\t// y - Negative y direction\n\t\t\t\t\t\t// Z - Positive z direction\n\t\t\t\t\t\t// z - Negative z direction\n\t\n\t\t\t\t\t\t// positive X\n\t\t\t\t\t\tcube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\n\t\t\t\t\t\t// negative X\n\t\t\t\t\t\tcube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\n\t\t\t\t\t\t// positive Z\n\t\t\t\t\t\tcube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\n\t\t\t\t\t\t// negative Z\n\t\t\t\t\t\tcube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\n\t\t\t\t\t\t// positive Y\n\t\t\t\t\t\tcube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\n\t\t\t\t\t\t// negative Y\n\t\t\t\t\t\tcube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tfaceCount = 1;\n\t\t\t\t\t\tisPointLight = false;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( shadow.map === null ) {\n\t\n\t\t\t\t\t\tvar shadowFilter = THREE.LinearFilter;\n\t\n\t\t\t\t\t\tif ( scope.type === THREE.PCFSoftShadowMap ) {\n\t\n\t\t\t\t\t\t\tshadowFilter = THREE.NearestFilter;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tvar pars = { minFilter: shadowFilter, magFilter: shadowFilter, format: THREE.RGBAFormat };\n\t\n\t\t\t\t\t\tshadow.map = new THREE.WebGLRenderTarget( shadowMapSize.x, shadowMapSize.y, pars );\n\t\t\t\t\t\tshadow.matrix = new THREE.Matrix4();\n\t\n\t\t\t\t\t\t//\n\t\n\t\t\t\t\t\tif ( light instanceof THREE.SpotLight ) {\n\t\n\t\t\t\t\t\t\tshadowCamera.aspect = shadowMapSize.x / shadowMapSize.y;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tshadowCamera.updateProjectionMatrix();\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tvar shadowMap = shadow.map;\n\t\t\t\t\tvar shadowMatrix = shadow.matrix;\n\t\n\t\t\t\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\t\tshadowCamera.position.copy( _lightPositionWorld );\n\t\n\t\t\t\t\t_renderer.setRenderTarget( shadowMap );\n\t\t\t\t\t_renderer.clear();\n\t\n\t\t\t\t\t// render shadow map for each cube face (if omni-directional) or\n\t\t\t\t\t// run a single pass if not\n\t\n\t\t\t\t\tfor ( var face = 0; face < faceCount; face ++ ) {\n\t\n\t\t\t\t\t\tif ( isPointLight ) {\n\t\n\t\t\t\t\t\t\t_lookTarget.copy( shadowCamera.position );\n\t\t\t\t\t\t\t_lookTarget.add( cubeDirections[ face ] );\n\t\t\t\t\t\t\tshadowCamera.up.copy( cubeUps[ face ] );\n\t\t\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\t\t\t\t\t\tvar vpDimensions = cube2DViewPorts[ face ];\n\t\t\t\t\t\t\t_renderer.setViewport( vpDimensions.x, vpDimensions.y, vpDimensions.z, vpDimensions.w );\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t_lookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\t\t\t\tshadowCamera.lookAt( _lookTarget );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tshadowCamera.updateMatrixWorld();\n\t\t\t\t\t\tshadowCamera.matrixWorldInverse.getInverse( shadowCamera.matrixWorld );\n\t\n\t\t\t\t\t\t// compute shadow matrix\n\t\n\t\t\t\t\t\tshadowMatrix.set(\n\t\t\t\t\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t\t\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t\t\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t\t\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\t\t\t\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\t\n\t\t\t\t\t\t// update camera matrices and frustum\n\t\n\t\t\t\t\t\t_projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\t\t\t\t\t_frustum.setFromMatrix( _projScreenMatrix );\n\t\n\t\t\t\t\t\t// set object matrices & frustum culling\n\t\n\t\t\t\t\t\t_renderList.length = 0;\n\t\n\t\t\t\t\t\tprojectObject( scene, shadowCamera );\n\t\n\t\t\t\t\t\t// render shadow map\n\t\t\t\t\t\t// render regular objects\n\t\n\t\t\t\t\t\tfor ( var j = 0, jl = _renderList.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\t\t\tvar object = _renderList[ j ];\n\t\t\t\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\t\t\t\tvar material = object.material;\n\t\n\t\t\t\t\t\t\tif ( material instanceof THREE.MeshFaceMaterial ) {\n\t\n\t\t\t\t\t\t\t\tvar groups = geometry.groups;\n\t\t\t\t\t\t\t\tvar materials = material.materials;\n\t\n\t\t\t\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\t\n\t\t\t\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\t\t\t\tvar groupMaterial = materials[ group.materialIndex ];\n\t\n\t\t\t\t\t\t\t\t\tif ( groupMaterial.visible === true ) {\n\t\n\t\t\t\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld );\n\t\t\t\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, _lights, null, geometry, depthMaterial, object, group );\n\t\n\t\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld );\n\t\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, _lights, null, geometry, depthMaterial, object, null );\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// We must call _renderer.resetGLState() at the end of each iteration of\n\t\t\t\t\t// the light loop in order to force material updates for each light.\n\t\t\t\t\t_renderer.resetGLState();\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t_renderer.setViewport( _vector4.x, _vector4.y, _vector4.z, _vector4.w );\n\t\n\t\t\t// Restore GL state.\n\t\t\tvar clearColor = _renderer.getClearColor(),\n\t\t\tclearAlpha = _renderer.getClearAlpha();\n\t\t\t_renderer.setClearColor( clearColor, clearAlpha );\n\t\t\t_state.enable( _gl.BLEND );\n\t\n\t\t\tif ( scope.cullFace === THREE.CullFaceFront ) {\n\t\n\t\t\t\t_gl.cullFace( _gl.BACK );\n\t\n\t\t\t}\n\t\n\t\t\t_renderer.resetGLState();\n\t\n\t\t\tscope.needsUpdate = false;\n\t\n\t\t};\n\t\n\t\tfunction getDepthMaterial( object, material, isPointLight, lightPositionWorld ) {\n\t\n\t\t\tvar geometry = object.geometry;\n\t\n\t\t\tvar newMaterial = null;\n\t\n\t\t\tvar materialVariants = _depthMaterials;\n\t\t\tvar customMaterial = object.customDepthMaterial;\n\t\n\t\t\tif ( isPointLight ) {\n\t\n\t\t\t\tmaterialVariants = _distanceMaterials;\n\t\t\t\tcustomMaterial = object.customDistanceMaterial;\n\t\n\t\t\t}\n\t\n\t\t\tif ( ! customMaterial ) {\n\t\n\t\t\t\tvar useMorphing = geometry.morphTargets !== undefined &&\n\t\t\t\t\t\tgeometry.morphTargets.length > 0 && material.morphTargets;\n\t\n\t\t\t\tvar useSkinning = object instanceof THREE.SkinnedMesh && material.skinning;\n\t\n\t\t\t\tvar variantIndex = 0;\n\t\n\t\t\t\tif ( useMorphing ) variantIndex |= _MorphingFlag;\n\t\t\t\tif ( useSkinning ) variantIndex |= _SkinningFlag;\n\t\n\t\t\t\tnewMaterial = materialVariants[ variantIndex ];\n\t\n\t\t\t} else {\n\t\n\t\t\t\tnewMaterial = customMaterial;\n\t\n\t\t\t}\n\t\n\t\t\tnewMaterial.visible = material.visible;\n\t\t\tnewMaterial.wireframe = material.wireframe;\n\t\t\tnewMaterial.wireframeLinewidth = material.wireframeLinewidth;\n\t\n\t\t\tif ( isPointLight && newMaterial.uniforms.lightPos !== undefined ) {\n\t\n\t\t\t\tnewMaterial.uniforms.lightPos.value.copy( lightPositionWorld );\n\t\n\t\t\t}\n\t\n\t\t\treturn newMaterial;\n\t\n\t\t}\n\t\n\t\tfunction projectObject( object, camera ) {\n\t\n\t\t\tif ( object.visible === false ) return;\n\t\n\t\t\tif ( object instanceof THREE.Mesh || object instanceof THREE.Line || object instanceof THREE.Points ) {\n\t\n\t\t\t\tif ( object.castShadow && ( object.frustumCulled === false || _frustum.intersectsObject( object ) === true ) ) {\n\t\n\t\t\t\t\tvar material = object.material;\n\t\n\t\t\t\t\tif ( material.visible === true ) {\n\t\n\t\t\t\t\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\t\t\t\t\t_renderList.push( object );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar children = object.children;\n\t\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\t\n\t\t\t\tprojectObject( children[ i ], camera );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/WebGLState.js\n\t\n\t/**\n\t* @author mrdoob / http://mrdoob.com/\n\t*/\n\t\n\tTHREE.WebGLState = function ( gl, extensions, paramThreeToGL ) {\n\t\n\t\tvar _this = this;\n\t\n\t\tvar newAttributes = new Uint8Array( 16 );\n\t\tvar enabledAttributes = new Uint8Array( 16 );\n\t\tvar attributeDivisors = new Uint8Array( 16 );\n\t\n\t\tvar capabilities = {};\n\t\n\t\tvar compressedTextureFormats = null;\n\t\n\t\tvar currentBlending = null;\n\t\tvar currentBlendEquation = null;\n\t\tvar currentBlendSrc = null;\n\t\tvar currentBlendDst = null;\n\t\tvar currentBlendEquationAlpha = null;\n\t\tvar currentBlendSrcAlpha = null;\n\t\tvar currentBlendDstAlpha = null;\n\t\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthWrite = null;\n\t\n\t\tvar currentColorWrite = null;\n\t\n\t\tvar currentFlipSided = null;\n\t\n\t\tvar currentLineWidth = null;\n\t\n\t\tvar currentPolygonOffsetFactor = null;\n\t\tvar currentPolygonOffsetUnits = null;\n\t\n\t\tvar maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\n\t\n\t\tvar currentTextureSlot = undefined;\n\t\tvar currentBoundTextures = {};\n\t\n\t\tthis.init = function () {\n\t\n\t\t\tgl.clearColor( 0, 0, 0, 1 );\n\t\t\tgl.clearDepth( 1 );\n\t\t\tgl.clearStencil( 0 );\n\t\n\t\t\tthis.enable( gl.DEPTH_TEST );\n\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\n\t\t\tgl.frontFace( gl.CCW );\n\t\t\tgl.cullFace( gl.BACK );\n\t\t\tthis.enable( gl.CULL_FACE );\n\t\n\t\t\tthis.enable( gl.BLEND );\n\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\tgl.blendFunc( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA );\n\t\n\t\t};\n\t\n\t\tthis.initAttributes = function () {\n\t\n\t\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\t\n\t\t\t\tnewAttributes[ i ] = 0;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.enableAttribute = function ( attribute ) {\n\t\n\t\t\tnewAttributes[ attribute ] = 1;\n\t\n\t\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\t\n\t\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\t\tenabledAttributes[ attribute ] = 1;\n\t\n\t\t\t}\n\t\n\t\t\tif ( attributeDivisors[ attribute ] !== 0 ) {\n\t\n\t\t\t\tvar extension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\n\t\t\t\textension.vertexAttribDivisorANGLE( attribute, 0 );\n\t\t\t\tattributeDivisors[ attribute ] = 0;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.enableAttributeAndDivisor = function ( attribute, meshPerAttribute, extension ) {\n\t\n\t\t\tnewAttributes[ attribute ] = 1;\n\t\n\t\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\t\n\t\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\t\tenabledAttributes[ attribute ] = 1;\n\t\n\t\t\t}\n\t\n\t\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\t\n\t\t\t\textension.vertexAttribDivisorANGLE( attribute, meshPerAttribute );\n\t\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.disableUnusedAttributes = function () {\n\t\n\t\t\tfor ( var i = 0, l = enabledAttributes.length; i < l; i ++ ) {\n\t\n\t\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\t\n\t\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\t\tenabledAttributes[ i ] = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.enable = function ( id ) {\n\t\n\t\t\tif ( capabilities[ id ] !== true ) {\n\t\n\t\t\t\tgl.enable( id );\n\t\t\t\tcapabilities[ id ] = true;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.disable = function ( id ) {\n\t\n\t\t\tif ( capabilities[ id ] !== false ) {\n\t\n\t\t\t\tgl.disable( id );\n\t\t\t\tcapabilities[ id ] = false;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.getCompressedTextureFormats = function () {\n\t\n\t\t\tif ( compressedTextureFormats === null ) {\n\t\n\t\t\t\tcompressedTextureFormats = [];\n\t\n\t\t\t\tif ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\n\t\t\t\t     extensions.get( 'WEBGL_compressed_texture_s3tc' ) ) {\n\t\n\t\t\t\t\tvar formats = gl.getParameter( gl.COMPRESSED_TEXTURE_FORMATS );\n\t\n\t\t\t\t\tfor ( var i = 0; i < formats.length; i ++ ) {\n\t\n\t\t\t\t\t\tcompressedTextureFormats.push( formats[ i ] );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn compressedTextureFormats;\n\t\n\t\t};\n\t\n\t\tthis.setBlending = function ( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha ) {\n\t\n\t\t\tif ( blending !== currentBlending ) {\n\t\n\t\t\t\tif ( blending === THREE.NoBlending ) {\n\t\n\t\t\t\t\tthis.disable( gl.BLEND );\n\t\n\t\t\t\t} else if ( blending === THREE.AdditiveBlending ) {\n\t\n\t\t\t\t\tthis.enable( gl.BLEND );\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\tgl.blendFunc( gl.SRC_ALPHA, gl.ONE );\n\t\n\t\t\t\t} else if ( blending === THREE.SubtractiveBlending ) {\n\t\n\t\t\t\t\t// TODO: Find blendFuncSeparate() combination\n\t\n\t\t\t\t\tthis.enable( gl.BLEND );\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.ONE_MINUS_SRC_COLOR );\n\t\n\t\t\t\t} else if ( blending === THREE.MultiplyBlending ) {\n\t\n\t\t\t\t\t// TODO: Find blendFuncSeparate() combination\n\t\n\t\t\t\t\tthis.enable( gl.BLEND );\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.SRC_COLOR );\n\t\n\t\t\t\t} else if ( blending === THREE.CustomBlending ) {\n\t\n\t\t\t\t\tthis.enable( gl.BLEND );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis.enable( gl.BLEND );\n\t\t\t\t\tgl.blendEquationSeparate( gl.FUNC_ADD, gl.FUNC_ADD );\n\t\t\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tcurrentBlending = blending;\n\t\n\t\t\t}\n\t\n\t\t\tif ( blending === THREE.CustomBlending ) {\n\t\n\t\t\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\t\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\t\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\t\n\t\t\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\t\n\t\t\t\t\tgl.blendEquationSeparate( paramThreeToGL( blendEquation ), paramThreeToGL( blendEquationAlpha ) );\n\t\n\t\t\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\t\n\t\t\t\t\tgl.blendFuncSeparate( paramThreeToGL( blendSrc ), paramThreeToGL( blendDst ), paramThreeToGL( blendSrcAlpha ), paramThreeToGL( blendDstAlpha ) );\n\t\n\t\t\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\t\t\tcurrentBlendDst = blendDst;\n\t\t\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tcurrentBlendEquation = null;\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendEquationAlpha = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.setDepthFunc = function ( depthFunc ) {\n\t\n\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\t\n\t\t\t\tif ( depthFunc ) {\n\t\n\t\t\t\t\tswitch ( depthFunc ) {\n\t\n\t\t\t\t\t\tcase THREE.NeverDepth:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.NEVER );\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase THREE.AlwaysDepth:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.ALWAYS );\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase THREE.LessDepth:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.LESS );\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase THREE.LessEqualDepth:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase THREE.EqualDepth:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.EQUAL );\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase THREE.GreaterEqualDepth:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.GEQUAL );\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase THREE.GreaterDepth:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.GREATER );\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase THREE.NotEqualDepth:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.NOTEQUAL );\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tdefault:\n\t\n\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tcurrentDepthFunc = depthFunc;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.setDepthTest = function ( depthTest ) {\n\t\n\t\t\tif ( depthTest ) {\n\t\n\t\t\t\tthis.enable( gl.DEPTH_TEST );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tthis.disable( gl.DEPTH_TEST );\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.setDepthWrite = function ( depthWrite ) {\n\t\n\t\t\tif ( currentDepthWrite !== depthWrite ) {\n\t\n\t\t\t\tgl.depthMask( depthWrite );\n\t\t\t\tcurrentDepthWrite = depthWrite;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.setColorWrite = function ( colorWrite ) {\n\t\n\t\t\tif ( currentColorWrite !== colorWrite ) {\n\t\n\t\t\t\tgl.colorMask( colorWrite, colorWrite, colorWrite, colorWrite );\n\t\t\t\tcurrentColorWrite = colorWrite;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.setFlipSided = function ( flipSided ) {\n\t\n\t\t\tif ( currentFlipSided !== flipSided ) {\n\t\n\t\t\t\tif ( flipSided ) {\n\t\n\t\t\t\t\tgl.frontFace( gl.CW );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tgl.frontFace( gl.CCW );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tcurrentFlipSided = flipSided;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.setLineWidth = function ( width ) {\n\t\n\t\t\tif ( width !== currentLineWidth ) {\n\t\n\t\t\t\tgl.lineWidth( width );\n\t\n\t\t\t\tcurrentLineWidth = width;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.setPolygonOffset = function ( polygonOffset, factor, units ) {\n\t\n\t\t\tif ( polygonOffset ) {\n\t\n\t\t\t\tthis.enable( gl.POLYGON_OFFSET_FILL );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tthis.disable( gl.POLYGON_OFFSET_FILL );\n\t\n\t\t\t}\n\t\n\t\t\tif ( polygonOffset && ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) ) {\n\t\n\t\t\t\tgl.polygonOffset( factor, units );\n\t\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.setScissorTest = function ( scissorTest ) {\n\t\n\t\t\tif ( scissorTest ) {\n\t\n\t\t\t\tthis.enable( gl.SCISSOR_TEST );\n\t\n\t\t\t} else {\n\t\n\t\t\t\tthis.disable( gl.SCISSOR_TEST );\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\t// texture\n\t\n\t\tthis.activeTexture = function ( webglSlot ) {\n\t\n\t\t\tif ( webglSlot === undefined ) webglSlot = gl.TEXTURE0 + maxTextures - 1;\n\t\n\t\t\tif ( currentTextureSlot !== webglSlot ) {\n\t\n\t\t\t\tgl.activeTexture( webglSlot );\n\t\t\t\tcurrentTextureSlot = webglSlot;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.bindTexture = function ( webglType, webglTexture ) {\n\t\n\t\t\tif ( currentTextureSlot === undefined ) {\n\t\n\t\t\t\t_this.activeTexture();\n\t\n\t\t\t}\n\t\n\t\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\t\n\t\t\tif ( boundTexture === undefined ) {\n\t\n\t\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\t\n\t\t\t}\n\t\n\t\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\t\n\t\t\t\tgl.bindTexture( webglType, webglTexture );\n\t\n\t\t\t\tboundTexture.type = webglType;\n\t\t\t\tboundTexture.texture = webglTexture;\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.compressedTexImage2D = function () {\n\t\n\t\t\ttry {\n\t\n\t\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\t\n\t\t\t} catch ( error ) {\n\t\n\t\t\t\tconsole.error( error );\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\tthis.texImage2D = function () {\n\t\n\t\t\ttry {\n\t\n\t\t\t\tgl.texImage2D.apply( gl, arguments );\n\t\n\t\t\t} catch ( error ) {\n\t\n\t\t\t\tconsole.error( error );\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t\t//\n\t\n\t\tthis.reset = function () {\n\t\n\t\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\t\n\t\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\t\n\t\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\t\tenabledAttributes[ i ] = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tcapabilities = {};\n\t\n\t\t\tcompressedTextureFormats = null;\n\t\n\t\t\tcurrentBlending = null;\n\t\n\t\t\tcurrentDepthWrite = null;\n\t\t\tcurrentColorWrite = null;\n\t\n\t\t\tcurrentFlipSided = null;\n\t\n\t\t};\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/plugins/LensFlarePlugin.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.LensFlarePlugin = function ( renderer, flares ) {\n\t\n\t\tvar gl = renderer.context;\n\t\tvar state = renderer.state;\n\t\n\t\tvar vertexBuffer, elementBuffer;\n\t\tvar program, attributes, uniforms;\n\t\tvar hasVertexTexture;\n\t\n\t\tvar tempTexture, occlusionTexture;\n\t\n\t\tfunction init() {\n\t\n\t\t\tvar vertices = new Float32Array( [\n\t\t\t\t- 1, - 1,  0, 0,\n\t\t\t\t 1, - 1,  1, 0,\n\t\t\t\t 1,  1,  1, 1,\n\t\t\t\t- 1,  1,  0, 1\n\t\t\t] );\n\t\n\t\t\tvar faces = new Uint16Array( [\n\t\t\t\t0, 1, 2,\n\t\t\t\t0, 2, 3\n\t\t\t] );\n\t\n\t\t\t// buffers\n\t\n\t\t\tvertexBuffer     = gl.createBuffer();\n\t\t\telementBuffer    = gl.createBuffer();\n\t\n\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\t\n\t\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\t\tgl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\n\t\n\t\t\t// textures\n\t\n\t\t\ttempTexture      = gl.createTexture();\n\t\t\tocclusionTexture = gl.createTexture();\n\t\n\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\t\tgl.texImage2D( gl.TEXTURE_2D, 0, gl.RGB, 16, 16, 0, gl.RGB, gl.UNSIGNED_BYTE, null );\n\t\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\n\t\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\n\t\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\t\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\t\n\t\t\tstate.bindTexture( gl.TEXTURE_2D, occlusionTexture );\n\t\t\tgl.texImage2D( gl.TEXTURE_2D, 0, gl.RGBA, 16, 16, 0, gl.RGBA, gl.UNSIGNED_BYTE, null );\n\t\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE );\n\t\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE );\n\t\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\t\t\tgl.texParameteri( gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\t\n\t\t\thasVertexTexture = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS ) > 0;\n\t\n\t\t\tvar shader;\n\t\n\t\t\tif ( hasVertexTexture ) {\n\t\n\t\t\t\tshader = {\n\t\n\t\t\t\t\tvertexShader: [\n\t\n\t\t\t\t\t\t\"uniform lowp int renderType;\",\n\t\n\t\t\t\t\t\t\"uniform vec3 screenPosition;\",\n\t\t\t\t\t\t\"uniform vec2 scale;\",\n\t\t\t\t\t\t\"uniform float rotation;\",\n\t\n\t\t\t\t\t\t\"uniform sampler2D occlusionMap;\",\n\t\n\t\t\t\t\t\t\"attribute vec2 position;\",\n\t\t\t\t\t\t\"attribute vec2 uv;\",\n\t\n\t\t\t\t\t\t\"varying vec2 vUV;\",\n\t\t\t\t\t\t\"varying float vVisibility;\",\n\t\n\t\t\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\t\t\t\"vUV = uv;\",\n\t\n\t\t\t\t\t\t\t\"vec2 pos = position;\",\n\t\n\t\t\t\t\t\t\t\"if ( renderType == 2 ) {\",\n\t\n\t\t\t\t\t\t\t\t\"vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\",\n\t\n\t\t\t\t\t\t\t\t\"vVisibility =        visibility.r / 9.0;\",\n\t\t\t\t\t\t\t\t\"vVisibility *= 1.0 - visibility.g / 9.0;\",\n\t\t\t\t\t\t\t\t\"vVisibility *=       visibility.b / 9.0;\",\n\t\t\t\t\t\t\t\t\"vVisibility *= 1.0 - visibility.a / 9.0;\",\n\t\n\t\t\t\t\t\t\t\t\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\n\t\t\t\t\t\t\t\t\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\n\t\n\t\t\t\t\t\t\t\"}\",\n\t\n\t\t\t\t\t\t\t\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\n\t\n\t\t\t\t\t\t\"}\"\n\t\n\t\t\t\t\t].join( \"\\n\" ),\n\t\n\t\t\t\t\tfragmentShader: [\n\t\n\t\t\t\t\t\t\"uniform lowp int renderType;\",\n\t\n\t\t\t\t\t\t\"uniform sampler2D map;\",\n\t\t\t\t\t\t\"uniform float opacity;\",\n\t\t\t\t\t\t\"uniform vec3 color;\",\n\t\n\t\t\t\t\t\t\"varying vec2 vUV;\",\n\t\t\t\t\t\t\"varying float vVisibility;\",\n\t\n\t\t\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\t\t\t// pink square\n\t\n\t\t\t\t\t\t\t\"if ( renderType == 0 ) {\",\n\t\n\t\t\t\t\t\t\t\t\"gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\",\n\t\n\t\t\t\t\t\t\t// restore\n\t\n\t\t\t\t\t\t\t\"} else if ( renderType == 1 ) {\",\n\t\n\t\t\t\t\t\t\t\t\"gl_FragColor = texture2D( map, vUV );\",\n\t\n\t\t\t\t\t\t\t// flare\n\t\n\t\t\t\t\t\t\t\"} else {\",\n\t\n\t\t\t\t\t\t\t\t\"vec4 texture = texture2D( map, vUV );\",\n\t\t\t\t\t\t\t\t\"texture.a *= opacity * vVisibility;\",\n\t\t\t\t\t\t\t\t\"gl_FragColor = texture;\",\n\t\t\t\t\t\t\t\t\"gl_FragColor.rgb *= color;\",\n\t\n\t\t\t\t\t\t\t\"}\",\n\t\n\t\t\t\t\t\t\"}\"\n\t\n\t\t\t\t\t].join( \"\\n\" )\n\t\n\t\t\t\t};\n\t\n\t\t\t} else {\n\t\n\t\t\t\tshader = {\n\t\n\t\t\t\t\tvertexShader: [\n\t\n\t\t\t\t\t\t\"uniform lowp int renderType;\",\n\t\n\t\t\t\t\t\t\"uniform vec3 screenPosition;\",\n\t\t\t\t\t\t\"uniform vec2 scale;\",\n\t\t\t\t\t\t\"uniform float rotation;\",\n\t\n\t\t\t\t\t\t\"attribute vec2 position;\",\n\t\t\t\t\t\t\"attribute vec2 uv;\",\n\t\n\t\t\t\t\t\t\"varying vec2 vUV;\",\n\t\n\t\t\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\t\t\t\"vUV = uv;\",\n\t\n\t\t\t\t\t\t\t\"vec2 pos = position;\",\n\t\n\t\t\t\t\t\t\t\"if ( renderType == 2 ) {\",\n\t\n\t\t\t\t\t\t\t\t\"pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\",\n\t\t\t\t\t\t\t\t\"pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\",\n\t\n\t\t\t\t\t\t\t\"}\",\n\t\n\t\t\t\t\t\t\t\"gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\",\n\t\n\t\t\t\t\t\t\"}\"\n\t\n\t\t\t\t\t].join( \"\\n\" ),\n\t\n\t\t\t\t\tfragmentShader: [\n\t\n\t\t\t\t\t\t\"precision mediump float;\",\n\t\n\t\t\t\t\t\t\"uniform lowp int renderType;\",\n\t\n\t\t\t\t\t\t\"uniform sampler2D map;\",\n\t\t\t\t\t\t\"uniform sampler2D occlusionMap;\",\n\t\t\t\t\t\t\"uniform float opacity;\",\n\t\t\t\t\t\t\"uniform vec3 color;\",\n\t\n\t\t\t\t\t\t\"varying vec2 vUV;\",\n\t\n\t\t\t\t\t\t\"void main() {\",\n\t\n\t\t\t\t\t\t\t// pink square\n\t\n\t\t\t\t\t\t\t\"if ( renderType == 0 ) {\",\n\t\n\t\t\t\t\t\t\t\t\"gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\",\n\t\n\t\t\t\t\t\t\t// restore\n\t\n\t\t\t\t\t\t\t\"} else if ( renderType == 1 ) {\",\n\t\n\t\t\t\t\t\t\t\t\"gl_FragColor = texture2D( map, vUV );\",\n\t\n\t\t\t\t\t\t\t// flare\n\t\n\t\t\t\t\t\t\t\"} else {\",\n\t\n\t\t\t\t\t\t\t\t\"float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;\",\n\t\t\t\t\t\t\t\t\"visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\",\n\t\t\t\t\t\t\t\t\"visibility = ( 1.0 - visibility / 4.0 );\",\n\t\n\t\t\t\t\t\t\t\t\"vec4 texture = texture2D( map, vUV );\",\n\t\t\t\t\t\t\t\t\"texture.a *= opacity * visibility;\",\n\t\t\t\t\t\t\t\t\"gl_FragColor = texture;\",\n\t\t\t\t\t\t\t\t\"gl_FragColor.rgb *= color;\",\n\t\n\t\t\t\t\t\t\t\"}\",\n\t\n\t\t\t\t\t\t\"}\"\n\t\n\t\t\t\t\t].join( \"\\n\" )\n\t\n\t\t\t\t};\n\t\n\t\t\t}\n\t\n\t\t\tprogram = createProgram( shader );\n\t\n\t\t\tattributes = {\n\t\t\t\tvertex: gl.getAttribLocation ( program, \"position\" ),\n\t\t\t\tuv:     gl.getAttribLocation ( program, \"uv\" )\n\t\t\t};\n\t\n\t\t\tuniforms = {\n\t\t\t\trenderType:     gl.getUniformLocation( program, \"renderType\" ),\n\t\t\t\tmap:            gl.getUniformLocation( program, \"map\" ),\n\t\t\t\tocclusionMap:   gl.getUniformLocation( program, \"occlusionMap\" ),\n\t\t\t\topacity:        gl.getUniformLocation( program, \"opacity\" ),\n\t\t\t\tcolor:          gl.getUniformLocation( program, \"color\" ),\n\t\t\t\tscale:          gl.getUniformLocation( program, \"scale\" ),\n\t\t\t\trotation:       gl.getUniformLocation( program, \"rotation\" ),\n\t\t\t\tscreenPosition: gl.getUniformLocation( program, \"screenPosition\" )\n\t\t\t};\n\t\n\t\t}\n\t\n\t\t/*\n\t\t * Render lens flares\n\t\t * Method: renders 16x16 0xff00ff-colored points scattered over the light source area,\n\t\t *         reads these back and calculates occlusion.\n\t\t */\n\t\n\t\tthis.render = function ( scene, camera, viewportWidth, viewportHeight ) {\n\t\n\t\t\tif ( flares.length === 0 ) return;\n\t\n\t\t\tvar tempPosition = new THREE.Vector3();\n\t\n\t\t\tvar invAspect = viewportHeight / viewportWidth,\n\t\t\t\thalfViewportWidth = viewportWidth * 0.5,\n\t\t\t\thalfViewportHeight = viewportHeight * 0.5;\n\t\n\t\t\tvar size = 16 / viewportHeight,\n\t\t\t\tscale = new THREE.Vector2( size * invAspect, size );\n\t\n\t\t\tvar screenPosition = new THREE.Vector3( 1, 1, 0 ),\n\t\t\t\tscreenPositionPixels = new THREE.Vector2( 1, 1 );\n\t\n\t\t\tif ( program === undefined ) {\n\t\n\t\t\t\tinit();\n\t\n\t\t\t}\n\t\n\t\t\tgl.useProgram( program );\n\t\n\t\t\tstate.initAttributes();\n\t\t\tstate.enableAttribute( attributes.vertex );\n\t\t\tstate.enableAttribute( attributes.uv );\n\t\t\tstate.disableUnusedAttributes();\n\t\n\t\t\t// loop through all lens flares to update their occlusion and positions\n\t\t\t// setup gl and common used attribs/uniforms\n\t\n\t\t\tgl.uniform1i( uniforms.occlusionMap, 0 );\n\t\t\tgl.uniform1i( uniforms.map, 1 );\n\t\n\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\t\tgl.vertexAttribPointer( attributes.vertex, 2, gl.FLOAT, false, 2 * 8, 0 );\n\t\t\tgl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\n\t\n\t\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\n\t\t\tstate.disable( gl.CULL_FACE );\n\t\t\tgl.depthMask( false );\n\t\n\t\t\tfor ( var i = 0, l = flares.length; i < l; i ++ ) {\n\t\n\t\t\t\tsize = 16 / viewportHeight;\n\t\t\t\tscale.set( size * invAspect, size );\n\t\n\t\t\t\t// calc object screen position\n\t\n\t\t\t\tvar flare = flares[ i ];\n\t\n\t\t\t\ttempPosition.set( flare.matrixWorld.elements[ 12 ], flare.matrixWorld.elements[ 13 ], flare.matrixWorld.elements[ 14 ] );\n\t\n\t\t\t\ttempPosition.applyMatrix4( camera.matrixWorldInverse );\n\t\t\t\ttempPosition.applyProjection( camera.projectionMatrix );\n\t\n\t\t\t\t// setup arrays for gl programs\n\t\n\t\t\t\tscreenPosition.copy( tempPosition );\n\t\n\t\t\t\tscreenPositionPixels.x = screenPosition.x * halfViewportWidth + halfViewportWidth;\n\t\t\t\tscreenPositionPixels.y = screenPosition.y * halfViewportHeight + halfViewportHeight;\n\t\n\t\t\t\t// screen cull\n\t\n\t\t\t\tif ( hasVertexTexture || (\n\t\t\t\t\tscreenPositionPixels.x > 0 &&\n\t\t\t\t\tscreenPositionPixels.x < viewportWidth &&\n\t\t\t\t\tscreenPositionPixels.y > 0 &&\n\t\t\t\t\tscreenPositionPixels.y < viewportHeight ) ) {\n\t\n\t\t\t\t\t// save current RGB to temp texture\n\t\n\t\t\t\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, null );\n\t\t\t\t\tstate.activeTexture( gl.TEXTURE1 );\n\t\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\t\t\t\tgl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGB, screenPositionPixels.x - 8, screenPositionPixels.y - 8, 16, 16, 0 );\n\t\n\t\n\t\t\t\t\t// render pink quad\n\t\n\t\t\t\t\tgl.uniform1i( uniforms.renderType, 0 );\n\t\t\t\t\tgl.uniform2f( uniforms.scale, scale.x, scale.y );\n\t\t\t\t\tgl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\t\n\t\t\t\t\tstate.disable( gl.BLEND );\n\t\t\t\t\tstate.enable( gl.DEPTH_TEST );\n\t\n\t\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\t\n\t\n\t\t\t\t\t// copy result to occlusionMap\n\t\n\t\t\t\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, occlusionTexture );\n\t\t\t\t\tgl.copyTexImage2D( gl.TEXTURE_2D, 0, gl.RGBA, screenPositionPixels.x - 8, screenPositionPixels.y - 8, 16, 16, 0 );\n\t\n\t\n\t\t\t\t\t// restore graphics\n\t\n\t\t\t\t\tgl.uniform1i( uniforms.renderType, 1 );\n\t\t\t\t\tstate.disable( gl.DEPTH_TEST );\n\t\n\t\t\t\t\tstate.activeTexture( gl.TEXTURE1 );\n\t\t\t\t\tstate.bindTexture( gl.TEXTURE_2D, tempTexture );\n\t\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\t\n\t\n\t\t\t\t\t// update object positions\n\t\n\t\t\t\t\tflare.positionScreen.copy( screenPosition );\n\t\n\t\t\t\t\tif ( flare.customUpdateCallback ) {\n\t\n\t\t\t\t\t\tflare.customUpdateCallback( flare );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tflare.updateLensFlares();\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// render flares\n\t\n\t\t\t\t\tgl.uniform1i( uniforms.renderType, 2 );\n\t\t\t\t\tstate.enable( gl.BLEND );\n\t\n\t\t\t\t\tfor ( var j = 0, jl = flare.lensFlares.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\t\tvar sprite = flare.lensFlares[ j ];\n\t\n\t\t\t\t\t\tif ( sprite.opacity > 0.001 && sprite.scale > 0.001 ) {\n\t\n\t\t\t\t\t\t\tscreenPosition.x = sprite.x;\n\t\t\t\t\t\t\tscreenPosition.y = sprite.y;\n\t\t\t\t\t\t\tscreenPosition.z = sprite.z;\n\t\n\t\t\t\t\t\t\tsize = sprite.size * sprite.scale / viewportHeight;\n\t\n\t\t\t\t\t\t\tscale.x = size * invAspect;\n\t\t\t\t\t\t\tscale.y = size;\n\t\n\t\t\t\t\t\t\tgl.uniform3f( uniforms.screenPosition, screenPosition.x, screenPosition.y, screenPosition.z );\n\t\t\t\t\t\t\tgl.uniform2f( uniforms.scale, scale.x, scale.y );\n\t\t\t\t\t\t\tgl.uniform1f( uniforms.rotation, sprite.rotation );\n\t\n\t\t\t\t\t\t\tgl.uniform1f( uniforms.opacity, sprite.opacity );\n\t\t\t\t\t\t\tgl.uniform3f( uniforms.color, sprite.color.r, sprite.color.g, sprite.color.b );\n\t\n\t\t\t\t\t\t\tstate.setBlending( sprite.blending, sprite.blendEquation, sprite.blendSrc, sprite.blendDst );\n\t\t\t\t\t\t\trenderer.setTexture( sprite.texture, 1 );\n\t\n\t\t\t\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// restore gl\n\t\n\t\t\tstate.enable( gl.CULL_FACE );\n\t\t\tstate.enable( gl.DEPTH_TEST );\n\t\t\tgl.depthMask( true );\n\t\n\t\t\trenderer.resetGLState();\n\t\n\t\t};\n\t\n\t\tfunction createProgram ( shader ) {\n\t\n\t\t\tvar program = gl.createProgram();\n\t\n\t\t\tvar fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\t\t\tvar vertexShader = gl.createShader( gl.VERTEX_SHADER );\n\t\n\t\t\tvar prefix = \"precision \" + renderer.getPrecision() + \" float;\\n\";\n\t\n\t\t\tgl.shaderSource( fragmentShader, prefix + shader.fragmentShader );\n\t\t\tgl.shaderSource( vertexShader, prefix + shader.vertexShader );\n\t\n\t\t\tgl.compileShader( fragmentShader );\n\t\t\tgl.compileShader( vertexShader );\n\t\n\t\t\tgl.attachShader( program, fragmentShader );\n\t\t\tgl.attachShader( program, vertexShader );\n\t\n\t\t\tgl.linkProgram( program );\n\t\n\t\t\treturn program;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/renderers/webgl/plugins/SpritePlugin.js\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.SpritePlugin = function ( renderer, sprites ) {\n\t\n\t\tvar gl = renderer.context;\n\t\tvar state = renderer.state;\n\t\n\t\tvar vertexBuffer, elementBuffer;\n\t\tvar program, attributes, uniforms;\n\t\n\t\tvar texture;\n\t\n\t\t// decompose matrixWorld\n\t\n\t\tvar spritePosition = new THREE.Vector3();\n\t\tvar spriteRotation = new THREE.Quaternion();\n\t\tvar spriteScale = new THREE.Vector3();\n\t\n\t\tfunction init() {\n\t\n\t\t\tvar vertices = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5,  0, 0,\n\t\t\t\t  0.5, - 0.5,  1, 0,\n\t\t\t\t  0.5,   0.5,  1, 1,\n\t\t\t\t- 0.5,   0.5,  0, 1\n\t\t\t] );\n\t\n\t\t\tvar faces = new Uint16Array( [\n\t\t\t\t0, 1, 2,\n\t\t\t\t0, 2, 3\n\t\t\t] );\n\t\n\t\t\tvertexBuffer  = gl.createBuffer();\n\t\t\telementBuffer = gl.createBuffer();\n\t\n\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\t\tgl.bufferData( gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW );\n\t\n\t\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\t\tgl.bufferData( gl.ELEMENT_ARRAY_BUFFER, faces, gl.STATIC_DRAW );\n\t\n\t\t\tprogram = createProgram();\n\t\n\t\t\tattributes = {\n\t\t\t\tposition:\t\t\tgl.getAttribLocation ( program, 'position' ),\n\t\t\t\tuv:\t\t\t\t\tgl.getAttribLocation ( program, 'uv' )\n\t\t\t};\n\t\n\t\t\tuniforms = {\n\t\t\t\tuvOffset:\t\t\tgl.getUniformLocation( program, 'uvOffset' ),\n\t\t\t\tuvScale:\t\t\tgl.getUniformLocation( program, 'uvScale' ),\n\t\n\t\t\t\trotation:\t\t\tgl.getUniformLocation( program, 'rotation' ),\n\t\t\t\tscale:\t\t\t\tgl.getUniformLocation( program, 'scale' ),\n\t\n\t\t\t\tcolor:\t\t\t\tgl.getUniformLocation( program, 'color' ),\n\t\t\t\tmap:\t\t\t\tgl.getUniformLocation( program, 'map' ),\n\t\t\t\topacity:\t\t\tgl.getUniformLocation( program, 'opacity' ),\n\t\n\t\t\t\tmodelViewMatrix: \tgl.getUniformLocation( program, 'modelViewMatrix' ),\n\t\t\t\tprojectionMatrix:\tgl.getUniformLocation( program, 'projectionMatrix' ),\n\t\n\t\t\t\tfogType:\t\t\tgl.getUniformLocation( program, 'fogType' ),\n\t\t\t\tfogDensity:\t\t\tgl.getUniformLocation( program, 'fogDensity' ),\n\t\t\t\tfogNear:\t\t\tgl.getUniformLocation( program, 'fogNear' ),\n\t\t\t\tfogFar:\t\t\t\tgl.getUniformLocation( program, 'fogFar' ),\n\t\t\t\tfogColor:\t\t\tgl.getUniformLocation( program, 'fogColor' ),\n\t\n\t\t\t\talphaTest:\t\t\tgl.getUniformLocation( program, 'alphaTest' )\n\t\t\t};\n\t\n\t\t\tvar canvas = document.createElement( 'canvas' );\n\t\t\tcanvas.width = 8;\n\t\t\tcanvas.height = 8;\n\t\n\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\tcontext.fillStyle = 'white';\n\t\t\tcontext.fillRect( 0, 0, 8, 8 );\n\t\n\t\t\ttexture = new THREE.Texture( canvas );\n\t\t\ttexture.needsUpdate = true;\n\t\n\t\t}\n\t\n\t\tthis.render = function ( scene, camera ) {\n\t\n\t\t\tif ( sprites.length === 0 ) return;\n\t\n\t\t\t// setup gl\n\t\n\t\t\tif ( program === undefined ) {\n\t\n\t\t\t\tinit();\n\t\n\t\t\t}\n\t\n\t\t\tgl.useProgram( program );\n\t\n\t\t\tstate.initAttributes();\n\t\t\tstate.enableAttribute( attributes.position );\n\t\t\tstate.enableAttribute( attributes.uv );\n\t\t\tstate.disableUnusedAttributes();\n\t\n\t\t\tstate.disable( gl.CULL_FACE );\n\t\t\tstate.enable( gl.BLEND );\n\t\n\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, vertexBuffer );\n\t\t\tgl.vertexAttribPointer( attributes.position, 2, gl.FLOAT, false, 2 * 8, 0 );\n\t\t\tgl.vertexAttribPointer( attributes.uv, 2, gl.FLOAT, false, 2 * 8, 8 );\n\t\n\t\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, elementBuffer );\n\t\n\t\t\tgl.uniformMatrix4fv( uniforms.projectionMatrix, false, camera.projectionMatrix.elements );\n\t\n\t\t\tstate.activeTexture( gl.TEXTURE0 );\n\t\t\tgl.uniform1i( uniforms.map, 0 );\n\t\n\t\t\tvar oldFogType = 0;\n\t\t\tvar sceneFogType = 0;\n\t\t\tvar fog = scene.fog;\n\t\n\t\t\tif ( fog ) {\n\t\n\t\t\t\tgl.uniform3f( uniforms.fogColor, fog.color.r, fog.color.g, fog.color.b );\n\t\n\t\t\t\tif ( fog instanceof THREE.Fog ) {\n\t\n\t\t\t\t\tgl.uniform1f( uniforms.fogNear, fog.near );\n\t\t\t\t\tgl.uniform1f( uniforms.fogFar, fog.far );\n\t\n\t\t\t\t\tgl.uniform1i( uniforms.fogType, 1 );\n\t\t\t\t\toldFogType = 1;\n\t\t\t\t\tsceneFogType = 1;\n\t\n\t\t\t\t} else if ( fog instanceof THREE.FogExp2 ) {\n\t\n\t\t\t\t\tgl.uniform1f( uniforms.fogDensity, fog.density );\n\t\n\t\t\t\t\tgl.uniform1i( uniforms.fogType, 2 );\n\t\t\t\t\toldFogType = 2;\n\t\t\t\t\tsceneFogType = 2;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tgl.uniform1i( uniforms.fogType, 0 );\n\t\t\t\toldFogType = 0;\n\t\t\t\tsceneFogType = 0;\n\t\n\t\t\t}\n\t\n\t\n\t\t\t// update positions and sort\n\t\n\t\t\tfor ( var i = 0, l = sprites.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar sprite = sprites[ i ];\n\t\n\t\t\t\tsprite.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, sprite.matrixWorld );\n\t\t\t\tsprite.z = - sprite.modelViewMatrix.elements[ 14 ];\n\t\n\t\t\t}\n\t\n\t\t\tsprites.sort( painterSortStable );\n\t\n\t\t\t// render all sprites\n\t\n\t\t\tvar scale = [];\n\t\n\t\t\tfor ( var i = 0, l = sprites.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar sprite = sprites[ i ];\n\t\t\t\tvar material = sprite.material;\n\t\n\t\t\t\tgl.uniform1f( uniforms.alphaTest, material.alphaTest );\n\t\t\t\tgl.uniformMatrix4fv( uniforms.modelViewMatrix, false, sprite.modelViewMatrix.elements );\n\t\n\t\t\t\tsprite.matrixWorld.decompose( spritePosition, spriteRotation, spriteScale );\n\t\n\t\t\t\tscale[ 0 ] = spriteScale.x;\n\t\t\t\tscale[ 1 ] = spriteScale.y;\n\t\n\t\t\t\tvar fogType = 0;\n\t\n\t\t\t\tif ( scene.fog && material.fog ) {\n\t\n\t\t\t\t\tfogType = sceneFogType;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( oldFogType !== fogType ) {\n\t\n\t\t\t\t\tgl.uniform1i( uniforms.fogType, fogType );\n\t\t\t\t\toldFogType = fogType;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( material.map !== null ) {\n\t\n\t\t\t\t\tgl.uniform2f( uniforms.uvOffset, material.map.offset.x, material.map.offset.y );\n\t\t\t\t\tgl.uniform2f( uniforms.uvScale, material.map.repeat.x, material.map.repeat.y );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tgl.uniform2f( uniforms.uvOffset, 0, 0 );\n\t\t\t\t\tgl.uniform2f( uniforms.uvScale, 1, 1 );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tgl.uniform1f( uniforms.opacity, material.opacity );\n\t\t\t\tgl.uniform3f( uniforms.color, material.color.r, material.color.g, material.color.b );\n\t\n\t\t\t\tgl.uniform1f( uniforms.rotation, material.rotation );\n\t\t\t\tgl.uniform2fv( uniforms.scale, scale );\n\t\n\t\t\t\tstate.setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst );\n\t\t\t\tstate.setDepthTest( material.depthTest );\n\t\t\t\tstate.setDepthWrite( material.depthWrite );\n\t\n\t\t\t\tif ( material.map && material.map.image && material.map.image.width ) {\n\t\n\t\t\t\t\trenderer.setTexture( material.map, 0 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\trenderer.setTexture( texture, 0 );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tgl.drawElements( gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0 );\n\t\n\t\t\t}\n\t\n\t\t\t// restore gl\n\t\n\t\t\tstate.enable( gl.CULL_FACE );\n\t\n\t\t\trenderer.resetGLState();\n\t\n\t\t};\n\t\n\t\tfunction createProgram () {\n\t\n\t\t\tvar program = gl.createProgram();\n\t\n\t\t\tvar vertexShader = gl.createShader( gl.VERTEX_SHADER );\n\t\t\tvar fragmentShader = gl.createShader( gl.FRAGMENT_SHADER );\n\t\n\t\t\tgl.shaderSource( vertexShader, [\n\t\n\t\t\t\t'precision ' + renderer.getPrecision() + ' float;',\n\t\n\t\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t\t'uniform float rotation;',\n\t\t\t\t'uniform vec2 scale;',\n\t\t\t\t'uniform vec2 uvOffset;',\n\t\t\t\t'uniform vec2 uvScale;',\n\t\n\t\t\t\t'attribute vec2 position;',\n\t\t\t\t'attribute vec2 uv;',\n\t\n\t\t\t\t'varying vec2 vUV;',\n\t\n\t\t\t\t'void main() {',\n\t\n\t\t\t\t\t'vUV = uvOffset + uv * uvScale;',\n\t\n\t\t\t\t\t'vec2 alignedPosition = position * scale;',\n\t\n\t\t\t\t\t'vec2 rotatedPosition;',\n\t\t\t\t\t'rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;',\n\t\t\t\t\t'rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;',\n\t\n\t\t\t\t\t'vec4 finalPosition;',\n\t\n\t\t\t\t\t'finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );',\n\t\t\t\t\t'finalPosition.xy += rotatedPosition;',\n\t\t\t\t\t'finalPosition = projectionMatrix * finalPosition;',\n\t\n\t\t\t\t\t'gl_Position = finalPosition;',\n\t\n\t\t\t\t'}'\n\t\n\t\t\t].join( '\\n' ) );\n\t\n\t\t\tgl.shaderSource( fragmentShader, [\n\t\n\t\t\t\t'precision ' + renderer.getPrecision() + ' float;',\n\t\n\t\t\t\t'uniform vec3 color;',\n\t\t\t\t'uniform sampler2D map;',\n\t\t\t\t'uniform float opacity;',\n\t\n\t\t\t\t'uniform int fogType;',\n\t\t\t\t'uniform vec3 fogColor;',\n\t\t\t\t'uniform float fogDensity;',\n\t\t\t\t'uniform float fogNear;',\n\t\t\t\t'uniform float fogFar;',\n\t\t\t\t'uniform float alphaTest;',\n\t\n\t\t\t\t'varying vec2 vUV;',\n\t\n\t\t\t\t'void main() {',\n\t\n\t\t\t\t\t'vec4 texture = texture2D( map, vUV );',\n\t\n\t\t\t\t\t'if ( texture.a < alphaTest ) discard;',\n\t\n\t\t\t\t\t'gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );',\n\t\n\t\t\t\t\t'if ( fogType > 0 ) {',\n\t\n\t\t\t\t\t\t'float depth = gl_FragCoord.z / gl_FragCoord.w;',\n\t\t\t\t\t\t'float fogFactor = 0.0;',\n\t\n\t\t\t\t\t\t'if ( fogType == 1 ) {',\n\t\n\t\t\t\t\t\t\t'fogFactor = smoothstep( fogNear, fogFar, depth );',\n\t\n\t\t\t\t\t\t'} else {',\n\t\n\t\t\t\t\t\t\t'const float LOG2 = 1.442695;',\n\t\t\t\t\t\t\t'fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );',\n\t\t\t\t\t\t\t'fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );',\n\t\n\t\t\t\t\t\t'}',\n\t\n\t\t\t\t\t\t'gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );',\n\t\n\t\t\t\t\t'}',\n\t\n\t\t\t\t'}'\n\t\n\t\t\t].join( '\\n' ) );\n\t\n\t\t\tgl.compileShader( vertexShader );\n\t\t\tgl.compileShader( fragmentShader );\n\t\n\t\t\tgl.attachShader( program, vertexShader );\n\t\t\tgl.attachShader( program, fragmentShader );\n\t\n\t\t\tgl.linkProgram( program );\n\t\n\t\t\treturn program;\n\t\n\t\t}\n\t\n\t\tfunction painterSortStable ( a, b ) {\n\t\n\t\t\tif ( a.z !== b.z ) {\n\t\n\t\t\t\treturn b.z - a.z;\n\t\n\t\t\t} else {\n\t\n\t\t\t\treturn b.id - a.id;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/extras/CurveUtils.js\n\t\n\t/**\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t */\n\t\n\tTHREE.CurveUtils = {\n\t\n\t\ttangentQuadraticBezier: function ( t, p0, p1, p2 ) {\n\t\n\t\t\treturn 2 * ( 1 - t ) * ( p1 - p0 ) + 2 * t * ( p2 - p1 );\n\t\n\t\t},\n\t\n\t\t// Puay Bing, thanks for helping with this derivative!\n\t\n\t\ttangentCubicBezier: function ( t, p0, p1, p2, p3 ) {\n\t\n\t\t\treturn - 3 * p0 * ( 1 - t ) * ( 1 - t )  +\n\t\t\t\t3 * p1 * ( 1 - t ) * ( 1 - t ) - 6 * t * p1 * ( 1 - t ) +\n\t\t\t\t6 * t *  p2 * ( 1 - t ) - 3 * t * t * p2 +\n\t\t\t\t3 * t * t * p3;\n\t\n\t\t},\n\t\n\t\ttangentSpline: function ( t, p0, p1, p2, p3 ) {\n\t\n\t\t\t// To check if my formulas are correct\n\t\n\t\t\tvar h00 = 6 * t * t - 6 * t; \t// derived from 2t^3  3t^2 + 1\n\t\t\tvar h10 = 3 * t * t - 4 * t + 1; // t^3  2t^2 + t\n\t\t\tvar h01 = - 6 * t * t + 6 * t; \t//  2t3 + 3t2\n\t\t\tvar h11 = 3 * t * t - 2 * t;\t// t3  t2\n\t\n\t\t\treturn h00 + h10 + h01 + h11;\n\t\n\t\t},\n\t\n\t\t// Catmull-Rom\n\t\n\t\tinterpolate: function( p0, p1, p2, p3, t ) {\n\t\n\t\t\tvar v0 = ( p2 - p0 ) * 0.5;\n\t\t\tvar v1 = ( p3 - p1 ) * 0.5;\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t * t2;\n\t\t\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/extras/GeometryUtils.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.GeometryUtils = {\n\t\n\t\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\t\n\t\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\n\t\t\tvar matrix;\n\t\n\t\t\tif ( geometry2 instanceof THREE.Mesh ) {\n\t\n\t\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\t\n\t\t\t\tmatrix = geometry2.matrix;\n\t\t\t\tgeometry2 = geometry2.geometry;\n\t\n\t\t\t}\n\t\n\t\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\t\n\t\t},\n\t\n\t\tcenter: function ( geometry ) {\n\t\n\t\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\t\treturn geometry.center();\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/extras/ImageUtils.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author Daosheng Mu / https://github.com/DaoshengMu/\n\t */\n\t\n\tTHREE.ImageUtils = {\n\t\n\t\tcrossOrigin: undefined,\n\t\n\t\tloadTexture: function ( url, mapping, onLoad, onError ) {\n\t\n\t\t\tconsole.warn( 'THREE.ImageUtils.loadTexture is being deprecated. Use THREE.TextureLoader() instead.' );\n\t\n\t\t\tvar loader = new THREE.TextureLoader();\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\n\t\t\tvar texture = loader.load( url, onLoad, undefined, onError );\n\t\n\t\t\tif ( mapping ) texture.mapping = mapping;\n\t\n\t\t\treturn texture;\n\t\n\t\t},\n\t\n\t\tloadTextureCube: function ( urls, mapping, onLoad, onError ) {\n\t\n\t\t\tconsole.warn( 'THREE.ImageUtils.loadTextureCube is being deprecated. Use THREE.CubeTextureLoader() instead.' );\n\t\n\t\t\tvar loader = new THREE.CubeTextureLoader();\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\n\t\t\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\t\n\t\t\tif ( mapping ) texture.mapping = mapping;\n\t\n\t\t\treturn texture;\n\t\n\t\t},\n\t\n\t\tloadCompressedTexture: function () {\n\t\n\t\t\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' )\n\t\n\t\t},\n\t\n\t\tloadCompressedTextureCube: function () {\n\t\n\t\t\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' )\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/extras/SceneUtils.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.SceneUtils = {\n\t\n\t\tcreateMultiMaterialObject: function ( geometry, materials ) {\n\t\n\t\t\tvar group = new THREE.Group();\n\t\n\t\t\tfor ( var i = 0, l = materials.length; i < l; i ++ ) {\n\t\n\t\t\t\tgroup.add( new THREE.Mesh( geometry, materials[ i ] ) );\n\t\n\t\t\t}\n\t\n\t\t\treturn group;\n\t\n\t\t},\n\t\n\t\tdetach: function ( child, parent, scene ) {\n\t\n\t\t\tchild.applyMatrix( parent.matrixWorld );\n\t\t\tparent.remove( child );\n\t\t\tscene.add( child );\n\t\n\t\t},\n\t\n\t\tattach: function ( child, scene, parent ) {\n\t\n\t\t\tvar matrixWorldInverse = new THREE.Matrix4();\n\t\t\tmatrixWorldInverse.getInverse( parent.matrixWorld );\n\t\t\tchild.applyMatrix( matrixWorldInverse );\n\t\n\t\t\tscene.remove( child );\n\t\t\tparent.add( child );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/extras/ShapeUtils.js\n\t\n\t/**\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t */\n\t\n\tTHREE.ShapeUtils = {\n\t\n\t\t// calculate area of the contour polygon\n\t\n\t\tarea: function ( contour ) {\n\t\n\t\t\tvar n = contour.length;\n\t\t\tvar a = 0.0;\n\t\n\t\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\t\n\t\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\t\n\t\t\t}\n\t\n\t\t\treturn a * 0.5;\n\t\n\t\t},\n\t\n\t\ttriangulate: ( function () {\n\t\n\t\t\t/**\n\t\t\t * This code is a quick port of code written in C++ which was submitted to\n\t\t\t * flipcode.com by John W. Ratcliff  // July 22, 2000\n\t\t\t * See original code and more information here:\n\t\t\t * http://www.flipcode.com/archives/Efficient_Polygon_Triangulation.shtml\n\t\t\t *\n\t\t\t * ported to actionscript by Zevan Rosser\n\t\t\t * www.actionsnippet.com\n\t\t\t *\n\t\t\t * ported to javascript by Joshua Koo\n\t\t\t * http://www.lab4games.net/zz85/blog\n\t\t\t *\n\t\t\t */\n\t\n\t\t\tfunction snip( contour, u, v, w, n, verts ) {\n\t\n\t\t\t\tvar p;\n\t\t\t\tvar ax, ay, bx, by;\n\t\t\t\tvar cx, cy, px, py;\n\t\n\t\t\t\tax = contour[ verts[ u ] ].x;\n\t\t\t\tay = contour[ verts[ u ] ].y;\n\t\n\t\t\t\tbx = contour[ verts[ v ] ].x;\n\t\t\t\tby = contour[ verts[ v ] ].y;\n\t\n\t\t\t\tcx = contour[ verts[ w ] ].x;\n\t\t\t\tcy = contour[ verts[ w ] ].y;\n\t\n\t\t\t\tif ( Number.EPSILON > ( ( ( bx - ax ) * ( cy - ay ) ) - ( ( by - ay ) * ( cx - ax ) ) ) ) return false;\n\t\n\t\t\t\tvar aX, aY, bX, bY, cX, cY;\n\t\t\t\tvar apx, apy, bpx, bpy, cpx, cpy;\n\t\t\t\tvar cCROSSap, bCROSScp, aCROSSbp;\n\t\n\t\t\t\taX = cx - bx;  aY = cy - by;\n\t\t\t\tbX = ax - cx;  bY = ay - cy;\n\t\t\t\tcX = bx - ax;  cY = by - ay;\n\t\n\t\t\t\tfor ( p = 0; p < n; p ++ ) {\n\t\n\t\t\t\t\tpx = contour[ verts[ p ] ].x;\n\t\t\t\t\tpy = contour[ verts[ p ] ].y;\n\t\n\t\t\t\t\tif ( ( ( px === ax ) && ( py === ay ) ) ||\n\t\t\t\t\t\t ( ( px === bx ) && ( py === by ) ) ||\n\t\t\t\t\t\t ( ( px === cx ) && ( py === cy ) ) )\tcontinue;\n\t\n\t\t\t\t\tapx = px - ax;  apy = py - ay;\n\t\t\t\t\tbpx = px - bx;  bpy = py - by;\n\t\t\t\t\tcpx = px - cx;  cpy = py - cy;\n\t\n\t\t\t\t\t// see if p is inside triangle abc\n\t\n\t\t\t\t\taCROSSbp = aX * bpy - aY * bpx;\n\t\t\t\t\tcCROSSap = cX * apy - cY * apx;\n\t\t\t\t\tbCROSScp = bX * cpy - bY * cpx;\n\t\n\t\t\t\t\tif ( ( aCROSSbp >= - Number.EPSILON ) && ( bCROSScp >= - Number.EPSILON ) && ( cCROSSap >= - Number.EPSILON ) ) return false;\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn true;\n\t\n\t\t\t}\n\t\n\t\t\t// takes in an contour array and returns\n\t\n\t\t\treturn function ( contour, indices ) {\n\t\n\t\t\t\tvar n = contour.length;\n\t\n\t\t\t\tif ( n < 3 ) return null;\n\t\n\t\t\t\tvar result = [],\n\t\t\t\t\tverts = [],\n\t\t\t\t\tvertIndices = [];\n\t\n\t\t\t\t/* we want a counter-clockwise polygon in verts */\n\t\n\t\t\t\tvar u, v, w;\n\t\n\t\t\t\tif ( THREE.ShapeUtils.area( contour ) > 0.0 ) {\n\t\n\t\t\t\t\tfor ( v = 0; v < n; v ++ ) verts[ v ] = v;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tfor ( v = 0; v < n; v ++ ) verts[ v ] = ( n - 1 ) - v;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar nv = n;\n\t\n\t\t\t\t/*  remove nv - 2 vertices, creating 1 triangle every time */\n\t\n\t\t\t\tvar count = 2 * nv;   /* error detection */\n\t\n\t\t\t\tfor ( v = nv - 1; nv > 2; ) {\n\t\n\t\t\t\t\t/* if we loop, it is probably a non-simple polygon */\n\t\n\t\t\t\t\tif ( ( count -- ) <= 0 ) {\n\t\n\t\t\t\t\t\t//** Triangulate: ERROR - probable bad polygon!\n\t\n\t\t\t\t\t\t//throw ( \"Warning, unable to triangulate polygon!\" );\n\t\t\t\t\t\t//return null;\n\t\t\t\t\t\t// Sometimes warning is fine, especially polygons are triangulated in reverse.\n\t\t\t\t\t\tconsole.warn( 'THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()' );\n\t\n\t\t\t\t\t\tif ( indices ) return vertIndices;\n\t\t\t\t\t\treturn result;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t/* three consecutive vertices in current polygon, <u,v,w> */\n\t\n\t\t\t\t\tu = v; \t \tif ( nv <= u ) u = 0;     /* previous */\n\t\t\t\t\tv = u + 1;  if ( nv <= v ) v = 0;     /* new v    */\n\t\t\t\t\tw = v + 1;  if ( nv <= w ) w = 0;     /* next     */\n\t\n\t\t\t\t\tif ( snip( contour, u, v, w, nv, verts ) ) {\n\t\n\t\t\t\t\t\tvar a, b, c, s, t;\n\t\n\t\t\t\t\t\t/* true names of the vertices */\n\t\n\t\t\t\t\t\ta = verts[ u ];\n\t\t\t\t\t\tb = verts[ v ];\n\t\t\t\t\t\tc = verts[ w ];\n\t\n\t\t\t\t\t\t/* output Triangle */\n\t\n\t\t\t\t\t\tresult.push( [ contour[ a ],\n\t\t\t\t\t\t\tcontour[ b ],\n\t\t\t\t\t\t\tcontour[ c ] ] );\n\t\n\t\n\t\t\t\t\t\tvertIndices.push( [ verts[ u ], verts[ v ], verts[ w ] ] );\n\t\n\t\t\t\t\t\t/* remove v from the remaining polygon */\n\t\n\t\t\t\t\t\tfor ( s = v, t = v + 1; t < nv; s ++, t ++ ) {\n\t\n\t\t\t\t\t\t\tverts[ s ] = verts[ t ];\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tnv --;\n\t\n\t\t\t\t\t\t/* reset error detection counter */\n\t\n\t\t\t\t\t\tcount = 2 * nv;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( indices ) return vertIndices;\n\t\t\t\treturn result;\n\t\n\t\t\t}\n\t\n\t\t} )(),\n\t\n\t\ttriangulateShape: function ( contour, holes ) {\n\t\n\t\t\tfunction point_in_segment_2D_colin( inSegPt1, inSegPt2, inOtherPt ) {\n\t\n\t\t\t\t// inOtherPt needs to be collinear to the inSegment\n\t\t\t\tif ( inSegPt1.x !== inSegPt2.x ) {\n\t\n\t\t\t\t\tif ( inSegPt1.x < inSegPt2.x ) {\n\t\n\t\t\t\t\t\treturn\t( ( inSegPt1.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt2.x ) );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\treturn\t( ( inSegPt2.x <= inOtherPt.x ) && ( inOtherPt.x <= inSegPt1.x ) );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tif ( inSegPt1.y < inSegPt2.y ) {\n\t\n\t\t\t\t\t\treturn\t( ( inSegPt1.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt2.y ) );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\treturn\t( ( inSegPt2.y <= inOtherPt.y ) && ( inOtherPt.y <= inSegPt1.y ) );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction intersect_segments_2D( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1, inSeg2Pt2, inExcludeAdjacentSegs ) {\n\t\n\t\t\t\tvar seg1dx = inSeg1Pt2.x - inSeg1Pt1.x,   seg1dy = inSeg1Pt2.y - inSeg1Pt1.y;\n\t\t\t\tvar seg2dx = inSeg2Pt2.x - inSeg2Pt1.x,   seg2dy = inSeg2Pt2.y - inSeg2Pt1.y;\n\t\n\t\t\t\tvar seg1seg2dx = inSeg1Pt1.x - inSeg2Pt1.x;\n\t\t\t\tvar seg1seg2dy = inSeg1Pt1.y - inSeg2Pt1.y;\n\t\n\t\t\t\tvar limit\t\t= seg1dy * seg2dx - seg1dx * seg2dy;\n\t\t\t\tvar perpSeg1\t= seg1dy * seg1seg2dx - seg1dx * seg1seg2dy;\n\t\n\t\t\t\tif ( Math.abs( limit ) > Number.EPSILON ) {\n\t\n\t\t\t\t\t// not parallel\n\t\n\t\t\t\t\tvar perpSeg2;\n\t\t\t\t\tif ( limit > 0 ) {\n\t\n\t\t\t\t\t\tif ( ( perpSeg1 < 0 ) || ( perpSeg1 > limit ) ) \t\treturn [];\n\t\t\t\t\t\tperpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n\t\t\t\t\t\tif ( ( perpSeg2 < 0 ) || ( perpSeg2 > limit ) ) \t\treturn [];\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tif ( ( perpSeg1 > 0 ) || ( perpSeg1 < limit ) ) \t\treturn [];\n\t\t\t\t\t\tperpSeg2 = seg2dy * seg1seg2dx - seg2dx * seg1seg2dy;\n\t\t\t\t\t\tif ( ( perpSeg2 > 0 ) || ( perpSeg2 < limit ) ) \t\treturn [];\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// i.e. to reduce rounding errors\n\t\t\t\t\t// intersection at endpoint of segment#1?\n\t\t\t\t\tif ( perpSeg2 === 0 ) {\n\t\n\t\t\t\t\t\tif ( ( inExcludeAdjacentSegs ) &&\n\t\t\t\t\t\t\t ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\n\t\t\t\t\t\treturn [ inSeg1Pt1 ];\n\t\n\t\t\t\t\t}\n\t\t\t\t\tif ( perpSeg2 === limit ) {\n\t\n\t\t\t\t\t\tif ( ( inExcludeAdjacentSegs ) &&\n\t\t\t\t\t\t\t ( ( perpSeg1 === 0 ) || ( perpSeg1 === limit ) ) )\t\treturn [];\n\t\t\t\t\t\treturn [ inSeg1Pt2 ];\n\t\n\t\t\t\t\t}\n\t\t\t\t\t// intersection at endpoint of segment#2?\n\t\t\t\t\tif ( perpSeg1 === 0 )\t\treturn [ inSeg2Pt1 ];\n\t\t\t\t\tif ( perpSeg1 === limit )\treturn [ inSeg2Pt2 ];\n\t\n\t\t\t\t\t// return real intersection point\n\t\t\t\t\tvar factorSeg1 = perpSeg2 / limit;\n\t\t\t\t\treturn\t[ { x: inSeg1Pt1.x + factorSeg1 * seg1dx,\n\t\t\t\t\t\t\t\ty: inSeg1Pt1.y + factorSeg1 * seg1dy } ];\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( ( perpSeg1 !== 0 ) ||\n\t\t\t\t\t\t ( seg2dy * seg1seg2dx !== seg2dx * seg1seg2dy ) ) \t\t\treturn [];\n\t\n\t\t\t\t\t// they are collinear or degenerate\n\t\t\t\t\tvar seg1Pt = ( ( seg1dx === 0 ) && ( seg1dy === 0 ) );\t// segment1 is just a point?\n\t\t\t\t\tvar seg2Pt = ( ( seg2dx === 0 ) && ( seg2dy === 0 ) );\t// segment2 is just a point?\n\t\t\t\t\t// both segments are points\n\t\t\t\t\tif ( seg1Pt && seg2Pt ) {\n\t\n\t\t\t\t\t\tif ( ( inSeg1Pt1.x !== inSeg2Pt1.x ) ||\n\t\t\t\t\t\t\t ( inSeg1Pt1.y !== inSeg2Pt1.y ) )\t\treturn [];\t// they are distinct  points\n\t\t\t\t\t\treturn [ inSeg1Pt1 ];                 \t\t\t\t\t\t// they are the same point\n\t\n\t\t\t\t\t}\n\t\t\t\t\t// segment#1  is a single point\n\t\t\t\t\tif ( seg1Pt ) {\n\t\n\t\t\t\t\t\tif ( ! point_in_segment_2D_colin( inSeg2Pt1, inSeg2Pt2, inSeg1Pt1 ) )\t\treturn [];\t\t// but not in segment#2\n\t\t\t\t\t\treturn [ inSeg1Pt1 ];\n\t\n\t\t\t\t\t}\n\t\t\t\t\t// segment#2  is a single point\n\t\t\t\t\tif ( seg2Pt ) {\n\t\n\t\t\t\t\t\tif ( ! point_in_segment_2D_colin( inSeg1Pt1, inSeg1Pt2, inSeg2Pt1 ) )\t\treturn [];\t\t// but not in segment#1\n\t\t\t\t\t\treturn [ inSeg2Pt1 ];\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// they are collinear segments, which might overlap\n\t\t\t\t\tvar seg1min, seg1max, seg1minVal, seg1maxVal;\n\t\t\t\t\tvar seg2min, seg2max, seg2minVal, seg2maxVal;\n\t\t\t\t\tif ( seg1dx !== 0 ) {\n\t\n\t\t\t\t\t\t// the segments are NOT on a vertical line\n\t\t\t\t\t\tif ( inSeg1Pt1.x < inSeg1Pt2.x ) {\n\t\n\t\t\t\t\t\t\tseg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.x;\n\t\t\t\t\t\t\tseg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.x;\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tseg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.x;\n\t\t\t\t\t\t\tseg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.x;\n\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( inSeg2Pt1.x < inSeg2Pt2.x ) {\n\t\n\t\t\t\t\t\t\tseg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.x;\n\t\t\t\t\t\t\tseg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.x;\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tseg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.x;\n\t\t\t\t\t\t\tseg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.x;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t// the segments are on a vertical line\n\t\t\t\t\t\tif ( inSeg1Pt1.y < inSeg1Pt2.y ) {\n\t\n\t\t\t\t\t\t\tseg1min = inSeg1Pt1; seg1minVal = inSeg1Pt1.y;\n\t\t\t\t\t\t\tseg1max = inSeg1Pt2; seg1maxVal = inSeg1Pt2.y;\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tseg1min = inSeg1Pt2; seg1minVal = inSeg1Pt2.y;\n\t\t\t\t\t\t\tseg1max = inSeg1Pt1; seg1maxVal = inSeg1Pt1.y;\n\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( inSeg2Pt1.y < inSeg2Pt2.y ) {\n\t\n\t\t\t\t\t\t\tseg2min = inSeg2Pt1; seg2minVal = inSeg2Pt1.y;\n\t\t\t\t\t\t\tseg2max = inSeg2Pt2; seg2maxVal = inSeg2Pt2.y;\n\t\n\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\tseg2min = inSeg2Pt2; seg2minVal = inSeg2Pt2.y;\n\t\t\t\t\t\t\tseg2max = inSeg2Pt1; seg2maxVal = inSeg2Pt1.y;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\t\t\t\tif ( seg1minVal <= seg2minVal ) {\n\t\n\t\t\t\t\t\tif ( seg1maxVal <  seg2minVal )\treturn [];\n\t\t\t\t\t\tif ( seg1maxVal === seg2minVal )\t{\n\t\n\t\t\t\t\t\t\tif ( inExcludeAdjacentSegs )\t\treturn [];\n\t\t\t\t\t\t\treturn [ seg2min ];\n\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( seg1maxVal <= seg2maxVal )\treturn [ seg2min, seg1max ];\n\t\t\t\t\t\treturn\t[ seg2min, seg2max ];\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tif ( seg1minVal >  seg2maxVal )\treturn [];\n\t\t\t\t\t\tif ( seg1minVal === seg2maxVal )\t{\n\t\n\t\t\t\t\t\t\tif ( inExcludeAdjacentSegs )\t\treturn [];\n\t\t\t\t\t\t\treturn [ seg1min ];\n\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( seg1maxVal <= seg2maxVal )\treturn [ seg1min, seg1max ];\n\t\t\t\t\t\treturn\t[ seg1min, seg2max ];\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfunction isPointInsideAngle( inVertex, inLegFromPt, inLegToPt, inOtherPt ) {\n\t\n\t\t\t\t// The order of legs is important\n\t\n\t\t\t\t// translation of all points, so that Vertex is at (0,0)\n\t\t\t\tvar legFromPtX\t= inLegFromPt.x - inVertex.x,  legFromPtY\t= inLegFromPt.y - inVertex.y;\n\t\t\t\tvar legToPtX\t= inLegToPt.x\t- inVertex.x,  legToPtY\t\t= inLegToPt.y\t- inVertex.y;\n\t\t\t\tvar otherPtX\t= inOtherPt.x\t- inVertex.x,  otherPtY\t\t= inOtherPt.y\t- inVertex.y;\n\t\n\t\t\t\t// main angle >0: < 180 deg.; 0: 180 deg.; <0: > 180 deg.\n\t\t\t\tvar from2toAngle\t= legFromPtX * legToPtY - legFromPtY * legToPtX;\n\t\t\t\tvar from2otherAngle\t= legFromPtX * otherPtY - legFromPtY * otherPtX;\n\t\n\t\t\t\tif ( Math.abs( from2toAngle ) > Number.EPSILON ) {\n\t\n\t\t\t\t\t// angle != 180 deg.\n\t\n\t\t\t\t\tvar other2toAngle\t\t= otherPtX * legToPtY - otherPtY * legToPtX;\n\t\t\t\t\t// console.log( \"from2to: \" + from2toAngle + \", from2other: \" + from2otherAngle + \", other2to: \" + other2toAngle );\n\t\n\t\t\t\t\tif ( from2toAngle > 0 ) {\n\t\n\t\t\t\t\t\t// main angle < 180 deg.\n\t\t\t\t\t\treturn\t( ( from2otherAngle >= 0 ) && ( other2toAngle >= 0 ) );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t// main angle > 180 deg.\n\t\t\t\t\t\treturn\t( ( from2otherAngle >= 0 ) || ( other2toAngle >= 0 ) );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// angle == 180 deg.\n\t\t\t\t\t// console.log( \"from2to: 180 deg., from2other: \" + from2otherAngle  );\n\t\t\t\t\treturn\t( from2otherAngle > 0 );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\n\t\t\tfunction removeHoles( contour, holes ) {\n\t\n\t\t\t\tvar shape = contour.concat(); // work on this shape\n\t\t\t\tvar hole;\n\t\n\t\t\t\tfunction isCutLineInsideAngles( inShapeIdx, inHoleIdx ) {\n\t\n\t\t\t\t\t// Check if hole point lies within angle around shape point\n\t\t\t\t\tvar lastShapeIdx = shape.length - 1;\n\t\n\t\t\t\t\tvar prevShapeIdx = inShapeIdx - 1;\n\t\t\t\t\tif ( prevShapeIdx < 0 )\t\t\tprevShapeIdx = lastShapeIdx;\n\t\n\t\t\t\t\tvar nextShapeIdx = inShapeIdx + 1;\n\t\t\t\t\tif ( nextShapeIdx > lastShapeIdx )\tnextShapeIdx = 0;\n\t\n\t\t\t\t\tvar insideAngle = isPointInsideAngle( shape[ inShapeIdx ], shape[ prevShapeIdx ], shape[ nextShapeIdx ], hole[ inHoleIdx ] );\n\t\t\t\t\tif ( ! insideAngle ) {\n\t\n\t\t\t\t\t\t// console.log( \"Vertex (Shape): \" + inShapeIdx + \", Point: \" + hole[inHoleIdx].x + \"/\" + hole[inHoleIdx].y );\n\t\t\t\t\t\treturn\tfalse;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// Check if shape point lies within angle around hole point\n\t\t\t\t\tvar lastHoleIdx = hole.length - 1;\n\t\n\t\t\t\t\tvar prevHoleIdx = inHoleIdx - 1;\n\t\t\t\t\tif ( prevHoleIdx < 0 )\t\t\tprevHoleIdx = lastHoleIdx;\n\t\n\t\t\t\t\tvar nextHoleIdx = inHoleIdx + 1;\n\t\t\t\t\tif ( nextHoleIdx > lastHoleIdx )\tnextHoleIdx = 0;\n\t\n\t\t\t\t\tinsideAngle = isPointInsideAngle( hole[ inHoleIdx ], hole[ prevHoleIdx ], hole[ nextHoleIdx ], shape[ inShapeIdx ] );\n\t\t\t\t\tif ( ! insideAngle ) {\n\t\n\t\t\t\t\t\t// console.log( \"Vertex (Hole): \" + inHoleIdx + \", Point: \" + shape[inShapeIdx].x + \"/\" + shape[inShapeIdx].y );\n\t\t\t\t\t\treturn\tfalse;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn\ttrue;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfunction intersectsShapeEdge( inShapePt, inHolePt ) {\n\t\n\t\t\t\t\t// checks for intersections with shape edges\n\t\t\t\t\tvar sIdx, nextIdx, intersection;\n\t\t\t\t\tfor ( sIdx = 0; sIdx < shape.length; sIdx ++ ) {\n\t\n\t\t\t\t\t\tnextIdx = sIdx + 1; nextIdx %= shape.length;\n\t\t\t\t\t\tintersection = intersect_segments_2D( inShapePt, inHolePt, shape[ sIdx ], shape[ nextIdx ], true );\n\t\t\t\t\t\tif ( intersection.length > 0 )\t\treturn\ttrue;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn\tfalse;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar indepHoles = [];\n\t\n\t\t\t\tfunction intersectsHoleEdge( inShapePt, inHolePt ) {\n\t\n\t\t\t\t\t// checks for intersections with hole edges\n\t\t\t\t\tvar ihIdx, chkHole,\n\t\t\t\t\t\thIdx, nextIdx, intersection;\n\t\t\t\t\tfor ( ihIdx = 0; ihIdx < indepHoles.length; ihIdx ++ ) {\n\t\n\t\t\t\t\t\tchkHole = holes[ indepHoles[ ihIdx ]];\n\t\t\t\t\t\tfor ( hIdx = 0; hIdx < chkHole.length; hIdx ++ ) {\n\t\n\t\t\t\t\t\t\tnextIdx = hIdx + 1; nextIdx %= chkHole.length;\n\t\t\t\t\t\t\tintersection = intersect_segments_2D( inShapePt, inHolePt, chkHole[ hIdx ], chkHole[ nextIdx ], true );\n\t\t\t\t\t\t\tif ( intersection.length > 0 )\t\treturn\ttrue;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\t\t\t\treturn\tfalse;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar holeIndex, shapeIndex,\n\t\t\t\t\tshapePt, holePt,\n\t\t\t\t\tholeIdx, cutKey, failedCuts = [],\n\t\t\t\t\ttmpShape1, tmpShape2,\n\t\t\t\t\ttmpHole1, tmpHole2;\n\t\n\t\t\t\tfor ( var h = 0, hl = holes.length; h < hl; h ++ ) {\n\t\n\t\t\t\t\tindepHoles.push( h );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar minShapeIndex = 0;\n\t\t\t\tvar counter = indepHoles.length * 2;\n\t\t\t\twhile ( indepHoles.length > 0 ) {\n\t\n\t\t\t\t\tcounter --;\n\t\t\t\t\tif ( counter < 0 ) {\n\t\n\t\t\t\t\t\tconsole.log( \"Infinite Loop! Holes left:\" + indepHoles.length + \", Probably Hole outside Shape!\" );\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t// search for shape-vertex and hole-vertex,\n\t\t\t\t\t// which can be connected without intersections\n\t\t\t\t\tfor ( shapeIndex = minShapeIndex; shapeIndex < shape.length; shapeIndex ++ ) {\n\t\n\t\t\t\t\t\tshapePt = shape[ shapeIndex ];\n\t\t\t\t\t\tholeIndex\t= - 1;\n\t\n\t\t\t\t\t\t// search for hole which can be reached without intersections\n\t\t\t\t\t\tfor ( var h = 0; h < indepHoles.length; h ++ ) {\n\t\n\t\t\t\t\t\t\tholeIdx = indepHoles[ h ];\n\t\n\t\t\t\t\t\t\t// prevent multiple checks\n\t\t\t\t\t\t\tcutKey = shapePt.x + \":\" + shapePt.y + \":\" + holeIdx;\n\t\t\t\t\t\t\tif ( failedCuts[ cutKey ] !== undefined )\t\t\tcontinue;\n\t\n\t\t\t\t\t\t\thole = holes[ holeIdx ];\n\t\t\t\t\t\t\tfor ( var h2 = 0; h2 < hole.length; h2 ++ ) {\n\t\n\t\t\t\t\t\t\t\tholePt = hole[ h2 ];\n\t\t\t\t\t\t\t\tif ( ! isCutLineInsideAngles( shapeIndex, h2 ) )\t\tcontinue;\n\t\t\t\t\t\t\t\tif ( intersectsShapeEdge( shapePt, holePt ) )\t\tcontinue;\n\t\t\t\t\t\t\t\tif ( intersectsHoleEdge( shapePt, holePt ) )\t\tcontinue;\n\t\n\t\t\t\t\t\t\t\tholeIndex = h2;\n\t\t\t\t\t\t\t\tindepHoles.splice( h, 1 );\n\t\n\t\t\t\t\t\t\t\ttmpShape1 = shape.slice( 0, shapeIndex + 1 );\n\t\t\t\t\t\t\t\ttmpShape2 = shape.slice( shapeIndex );\n\t\t\t\t\t\t\t\ttmpHole1 = hole.slice( holeIndex );\n\t\t\t\t\t\t\t\ttmpHole2 = hole.slice( 0, holeIndex + 1 );\n\t\n\t\t\t\t\t\t\t\tshape = tmpShape1.concat( tmpHole1 ).concat( tmpHole2 ).concat( tmpShape2 );\n\t\n\t\t\t\t\t\t\t\tminShapeIndex = shapeIndex;\n\t\n\t\t\t\t\t\t\t\t// Debug only, to show the selected cuts\n\t\t\t\t\t\t\t\t// glob_CutLines.push( [ shapePt, holePt ] );\n\t\n\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\n\t\n\t\t\t\t\t\t\tfailedCuts[ cutKey ] = true;\t\t\t// remember failure\n\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( holeIndex >= 0 )\tbreak;\t\t// hole-vertex found\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\treturn shape; \t\t\t/* shape with no holes */\n\t\n\t\t\t}\n\t\n\t\n\t\t\tvar i, il, f, face,\n\t\t\t\tkey, index,\n\t\t\t\tallPointsMap = {};\n\t\n\t\t\t// To maintain reference to old shape, one must match coordinates, or offset the indices from original arrays. It's probably easier to do the first.\n\t\n\t\t\tvar allpoints = contour.concat();\n\t\n\t\t\tfor ( var h = 0, hl = holes.length; h < hl; h ++ ) {\n\t\n\t\t\t\tArray.prototype.push.apply( allpoints, holes[ h ] );\n\t\n\t\t\t}\n\t\n\t\t\t//console.log( \"allpoints\",allpoints, allpoints.length );\n\t\n\t\t\t// prepare all points map\n\t\n\t\t\tfor ( i = 0, il = allpoints.length; i < il; i ++ ) {\n\t\n\t\t\t\tkey = allpoints[ i ].x + \":\" + allpoints[ i ].y;\n\t\n\t\t\t\tif ( allPointsMap[ key ] !== undefined ) {\n\t\n\t\t\t\t\tconsole.warn( \"THREE.Shape: Duplicate point\", key );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tallPointsMap[ key ] = i;\n\t\n\t\t\t}\n\t\n\t\t\t// remove holes by cutting paths to holes and adding them to the shape\n\t\t\tvar shapeWithoutHoles = removeHoles( contour, holes );\n\t\n\t\t\tvar triangles = THREE.ShapeUtils.triangulate( shapeWithoutHoles, false ); // True returns indices for points of spooled shape\n\t\t\t//console.log( \"triangles\",triangles, triangles.length );\n\t\n\t\t\t// check all face vertices against all points map\n\t\n\t\t\tfor ( i = 0, il = triangles.length; i < il; i ++ ) {\n\t\n\t\t\t\tface = triangles[ i ];\n\t\n\t\t\t\tfor ( f = 0; f < 3; f ++ ) {\n\t\n\t\t\t\t\tkey = face[ f ].x + \":\" + face[ f ].y;\n\t\n\t\t\t\t\tindex = allPointsMap[ key ];\n\t\n\t\t\t\t\tif ( index !== undefined ) {\n\t\n\t\t\t\t\t\tface[ f ] = index;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn triangles.concat();\n\t\n\t\t},\n\t\n\t\tisClockWise: function ( pts ) {\n\t\n\t\t\treturn THREE.ShapeUtils.area( pts ) < 0;\n\t\n\t\t},\n\t\n\t\t// Bezier Curves formulas obtained from\n\t\t// http://en.wikipedia.org/wiki/B%C3%A9zier_curve\n\t\n\t\t// Quad Bezier Functions\n\t\n\t\tb2: ( function () {\n\t\n\t\t\tfunction b2p0( t, p ) {\n\t\n\t\t\t\tvar k = 1 - t;\n\t\t\t\treturn k * k * p;\n\t\n\t\t\t}\n\t\n\t\t\tfunction b2p1( t, p ) {\n\t\n\t\t\t\treturn 2 * ( 1 - t ) * t * p;\n\t\n\t\t\t}\n\t\n\t\t\tfunction b2p2( t, p ) {\n\t\n\t\t\t\treturn t * t * p;\n\t\n\t\t\t}\n\t\n\t\t\treturn function ( t, p0, p1, p2 ) {\n\t\n\t\t\t\treturn b2p0( t, p0 ) + b2p1( t, p1 ) + b2p2( t, p2 );\n\t\n\t\t\t};\n\t\n\t\t} )(),\n\t\n\t\t// Cubic Bezier Functions\n\t\n\t\tb3: ( function () {\n\t\n\t\t\tfunction b3p0( t, p ) {\n\t\n\t\t\t\tvar k = 1 - t;\n\t\t\t\treturn k * k * k * p;\n\t\n\t\t\t}\n\t\n\t\t\tfunction b3p1( t, p ) {\n\t\n\t\t\t\tvar k = 1 - t;\n\t\t\t\treturn 3 * k * k * t * p;\n\t\n\t\t\t}\n\t\n\t\t\tfunction b3p2( t, p ) {\n\t\n\t\t\t\tvar k = 1 - t;\n\t\t\t\treturn 3 * k * t * t * p;\n\t\n\t\t\t}\n\t\n\t\t\tfunction b3p3( t, p ) {\n\t\n\t\t\t\treturn t * t * t * p;\n\t\n\t\t\t}\n\t\n\t\t\treturn function ( t, p0, p1, p2, p3 ) {\n\t\n\t\t\t\treturn b3p0( t, p0 ) + b3p1( t, p1 ) + b3p2( t, p2 ) + b3p3( t, p3 );\n\t\n\t\t\t};\n\t\n\t\t} )()\n\t\n\t};\n\t\n\t// File:src/extras/audio/Audio.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.Audio = function ( listener ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'Audio';\n\t\n\t\tthis.context = listener.context;\n\t\tthis.source = this.context.createBufferSource();\n\t\tthis.source.onended = this.onEnded.bind( this );\n\t\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\t\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.connect( this.gain );\n\t\n\t\tthis.autoplay = false;\n\t\n\t\tthis.startTime = 0;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.Audio.prototype.constructor = THREE.Audio;\n\t\n\tTHREE.Audio.prototype.load = function ( file ) {\n\t\n\t\tvar scope = this;\n\t\n\t\tvar request = new XMLHttpRequest();\n\t\trequest.open( 'GET', file, true );\n\t\trequest.responseType = 'arraybuffer';\n\t\trequest.onload = function ( e ) {\n\t\n\t\t\tscope.context.decodeAudioData( this.response, function ( buffer ) {\n\t\n\t\t\t\tscope.source.buffer = buffer;\n\t\n\t\t\t\tif ( scope.autoplay ) scope.play();\n\t\n\t\t\t} );\n\t\n\t\t};\n\t\trequest.send();\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.play = function () {\n\t\n\t\tif ( this.isPlaying === true ) {\n\t\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\t\n\t\t}\n\t\n\t\tvar source = this.context.createBufferSource();\n\t\n\t\tsource.buffer = this.source.buffer;\n\t\tsource.loop = this.source.loop;\n\t\tsource.onended = this.source.onended;\n\t\tsource.start( 0, this.startTime );\n\t\tsource.playbackRate.value = this.playbackRate;\n\t\n\t\tthis.isPlaying = true;\n\t\n\t\tthis.source = source;\n\t\n\t\tthis.connect();\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.pause = function () {\n\t\n\t\tthis.source.stop();\n\t\tthis.startTime = this.context.currentTime;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.stop = function () {\n\t\n\t\tthis.source.stop();\n\t\tthis.startTime = 0;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.connect = function () {\n\t\n\t\tif ( this.filter !== undefined ) {\n\t\n\t\t\tthis.source.connect( this.filter );\n\t\t\tthis.filter.connect( this.panner );\n\t\n\t\t} else {\n\t\n\t\t\tthis.source.connect( this.panner );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.disconnect = function () {\n\t\n\t\tif ( this.filter !== undefined ) {\n\t\n\t\t\tthis.source.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.panner );\n\t\n\t\t} else {\n\t\n\t\t\tthis.source.disconnect( this.panner );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.setFilter = function ( value ) {\n\t\n\t\tif ( this.isPlaying === true ) {\n\t\n\t\t\tthis.disconnect();\n\t\t\tthis.filter = value;\n\t\t\tthis.connect();\n\t\n\t\t} else {\n\t\n\t\t\tthis.filter = value;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.getFilter = function () {\n\t\n\t\treturn this.filter;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.setPlaybackRate = function ( value ) {\n\t\n\t\tthis.playbackRate = value;\n\t\n\t\tif ( this.isPlaying === true ) {\n\t\n\t\t\tthis.source.playbackRate.value = this.playbackRate;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.getPlaybackRate = function () {\n\t\n\t\treturn this.playbackRate;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.onEnded = function() {\n\t\n\t\tthis.isPlaying = false;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.setLoop = function ( value ) {\n\t\n\t\tthis.source.loop = value;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.getLoop = function () {\n\t\n\t\treturn this.source.loop;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.setRefDistance = function ( value ) {\n\t\n\t\tthis.panner.refDistance = value;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.getRefDistance = function () {\n\t\n\t\treturn this.panner.refDistance;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.setRolloffFactor = function ( value ) {\n\t\n\t\tthis.panner.rolloffFactor = value;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.getRolloffFactor = function () {\n\t\n\t\treturn this.panner.rolloffFactor;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.setVolume = function ( value ) {\n\t\n\t\tthis.gain.gain.value = value;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.getVolume = function () {\n\t\n\t\treturn this.gain.gain.value;\n\t\n\t};\n\t\n\tTHREE.Audio.prototype.updateMatrixWorld = ( function () {\n\t\n\t\tvar position = new THREE.Vector3();\n\t\n\t\treturn function updateMatrixWorld( force ) {\n\t\n\t\t\tTHREE.Object3D.prototype.updateMatrixWorld.call( this, force );\n\t\n\t\t\tposition.setFromMatrixPosition( this.matrixWorld );\n\t\n\t\t\tthis.panner.setPosition( position.x, position.y, position.z );\n\t\n\t\t};\n\t\n\t} )();\n\t\n\t// File:src/extras/audio/AudioListener.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.AudioListener = function () {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.type = 'AudioListener';\n\t\n\t\tthis.context = new ( window.AudioContext || window.webkitAudioContext )();\n\t\n\t};\n\t\n\tTHREE.AudioListener.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.AudioListener.prototype.constructor = THREE.AudioListener;\n\t\n\tTHREE.AudioListener.prototype.updateMatrixWorld = ( function () {\n\t\n\t\tvar position = new THREE.Vector3();\n\t\tvar quaternion = new THREE.Quaternion();\n\t\tvar scale = new THREE.Vector3();\n\t\n\t\tvar orientation = new THREE.Vector3();\n\t\n\t\treturn function updateMatrixWorld( force ) {\n\t\n\t\t\tTHREE.Object3D.prototype.updateMatrixWorld.call( this, force );\n\t\n\t\t\tvar listener = this.context.listener;\n\t\t\tvar up = this.up;\n\t\n\t\t\tthis.matrixWorld.decompose( position, quaternion, scale );\n\t\n\t\t\torientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\n\t\n\t\t\tlistener.setPosition( position.x, position.y, position.z );\n\t\t\tlistener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\n\t\n\t\t};\n\t\n\t} )();\n\t\n\t// File:src/extras/core/Curve.js\n\t\n\t/**\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t * Extensible curve object\n\t *\n\t * Some common of Curve methods\n\t * .getPoint(t), getTangent(t)\n\t * .getPointAt(u), getTagentAt(u)\n\t * .getPoints(), .getSpacedPoints()\n\t * .getLength()\n\t * .updateArcLengths()\n\t *\n\t * This following classes subclasses THREE.Curve:\n\t *\n\t * -- 2d classes --\n\t * THREE.LineCurve\n\t * THREE.QuadraticBezierCurve\n\t * THREE.CubicBezierCurve\n\t * THREE.SplineCurve\n\t * THREE.ArcCurve\n\t * THREE.EllipseCurve\n\t *\n\t * -- 3d classes --\n\t * THREE.LineCurve3\n\t * THREE.QuadraticBezierCurve3\n\t * THREE.CubicBezierCurve3\n\t * THREE.SplineCurve3\n\t * THREE.ClosedSplineCurve3\n\t *\n\t * A series of curves can be represented as a THREE.CurvePath\n\t *\n\t **/\n\t\n\t/**************************************************************\n\t *\tAbstract Curve base class\n\t **************************************************************/\n\t\n\tTHREE.Curve = function () {\n\t\n\t};\n\t\n\tTHREE.Curve.prototype = {\n\t\n\t\tconstructor: THREE.Curve,\n\t\n\t\t// Virtual base class method to overwrite and implement in subclasses\n\t\t//\t- t [0 .. 1]\n\t\n\t\tgetPoint: function ( t ) {\n\t\n\t\t\tconsole.warn( \"THREE.Curve: Warning, getPoint() not implemented!\" );\n\t\t\treturn null;\n\t\n\t\t},\n\t\n\t\t// Get point at relative position in curve according to arc length\n\t\t// - u [0 .. 1]\n\t\n\t\tgetPointAt: function ( u ) {\n\t\n\t\t\tvar t = this.getUtoTmapping( u );\n\t\t\treturn this.getPoint( t );\n\t\n\t\t},\n\t\n\t\t// Get sequence of points using getPoint( t )\n\t\n\t\tgetPoints: function ( divisions ) {\n\t\n\t\t\tif ( ! divisions ) divisions = 5;\n\t\n\t\t\tvar d, pts = [];\n\t\n\t\t\tfor ( d = 0; d <= divisions; d ++ ) {\n\t\n\t\t\t\tpts.push( this.getPoint( d / divisions ) );\n\t\n\t\t\t}\n\t\n\t\t\treturn pts;\n\t\n\t\t},\n\t\n\t\t// Get sequence of points using getPointAt( u )\n\t\n\t\tgetSpacedPoints: function ( divisions ) {\n\t\n\t\t\tif ( ! divisions ) divisions = 5;\n\t\n\t\t\tvar d, pts = [];\n\t\n\t\t\tfor ( d = 0; d <= divisions; d ++ ) {\n\t\n\t\t\t\tpts.push( this.getPointAt( d / divisions ) );\n\t\n\t\t\t}\n\t\n\t\t\treturn pts;\n\t\n\t\t},\n\t\n\t\t// Get total curve arc length\n\t\n\t\tgetLength: function () {\n\t\n\t\t\tvar lengths = this.getLengths();\n\t\t\treturn lengths[ lengths.length - 1 ];\n\t\n\t\t},\n\t\n\t\t// Get list of cumulative segment lengths\n\t\n\t\tgetLengths: function ( divisions ) {\n\t\n\t\t\tif ( ! divisions ) divisions = ( this.__arcLengthDivisions ) ? ( this.__arcLengthDivisions ) : 200;\n\t\n\t\t\tif ( this.cacheArcLengths\n\t\t\t\t&& ( this.cacheArcLengths.length === divisions + 1 )\n\t\t\t\t&& ! this.needsUpdate ) {\n\t\n\t\t\t\t//console.log( \"cached\", this.cacheArcLengths );\n\t\t\t\treturn this.cacheArcLengths;\n\t\n\t\t\t}\n\t\n\t\t\tthis.needsUpdate = false;\n\t\n\t\t\tvar cache = [];\n\t\t\tvar current, last = this.getPoint( 0 );\n\t\t\tvar p, sum = 0;\n\t\n\t\t\tcache.push( 0 );\n\t\n\t\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\t\n\t\t\t\tcurrent = this.getPoint ( p / divisions );\n\t\t\t\tsum += current.distanceTo( last );\n\t\t\t\tcache.push( sum );\n\t\t\t\tlast = current;\n\t\n\t\t\t}\n\t\n\t\t\tthis.cacheArcLengths = cache;\n\t\n\t\t\treturn cache; // { sums: cache, sum:sum }; Sum is in the last element.\n\t\n\t\t},\n\t\n\t\tupdateArcLengths: function() {\n\t\n\t\t\tthis.needsUpdate = true;\n\t\t\tthis.getLengths();\n\t\n\t\t},\n\t\n\t\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\t\n\t\tgetUtoTmapping: function ( u, distance ) {\n\t\n\t\t\tvar arcLengths = this.getLengths();\n\t\n\t\t\tvar i = 0, il = arcLengths.length;\n\t\n\t\t\tvar targetArcLength; // The targeted u distance value to get\n\t\n\t\t\tif ( distance ) {\n\t\n\t\t\t\ttargetArcLength = distance;\n\t\n\t\t\t} else {\n\t\n\t\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\t\n\t\t\t}\n\t\n\t\t\t//var time = Date.now();\n\t\n\t\t\t// binary search for the index with largest value smaller than target u distance\n\t\n\t\t\tvar low = 0, high = il - 1, comparison;\n\t\n\t\t\twhile ( low <= high ) {\n\t\n\t\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\t\n\t\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\t\n\t\t\t\tif ( comparison < 0 ) {\n\t\n\t\t\t\t\tlow = i + 1;\n\t\n\t\t\t\t} else if ( comparison > 0 ) {\n\t\n\t\t\t\t\thigh = i - 1;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\thigh = i;\n\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t// DONE\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\ti = high;\n\t\n\t\t\t//console.log('b' , i, low, high, Date.now()- time);\n\t\n\t\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\t\n\t\t\t\tvar t = i / ( il - 1 );\n\t\t\t\treturn t;\n\t\n\t\t\t}\n\t\n\t\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\t\n\t\t\tvar lengthBefore = arcLengths[ i ];\n\t\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\t\n\t\t\tvar segmentLength = lengthAfter - lengthBefore;\n\t\n\t\t\t// determine where we are between the 'before' and 'after' points\n\t\n\t\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\t\n\t\t\t// add that fractional amount to t\n\t\n\t\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\t\n\t\t\treturn t;\n\t\n\t\t},\n\t\n\t\t// Returns a unit vector tangent at t\n\t\t// In case any sub curve does not implement its tangent derivation,\n\t\t// 2 points a small delta apart will be used to find its gradient\n\t\t// which seems to give a reasonable approximation\n\t\n\t\tgetTangent: function( t ) {\n\t\n\t\t\tvar delta = 0.0001;\n\t\t\tvar t1 = t - delta;\n\t\t\tvar t2 = t + delta;\n\t\n\t\t\t// Capping in case of danger\n\t\n\t\t\tif ( t1 < 0 ) t1 = 0;\n\t\t\tif ( t2 > 1 ) t2 = 1;\n\t\n\t\t\tvar pt1 = this.getPoint( t1 );\n\t\t\tvar pt2 = this.getPoint( t2 );\n\t\n\t\t\tvar vec = pt2.clone().sub( pt1 );\n\t\t\treturn vec.normalize();\n\t\n\t\t},\n\t\n\t\tgetTangentAt: function ( u ) {\n\t\n\t\t\tvar t = this.getUtoTmapping( u );\n\t\t\treturn this.getTangent( t );\n\t\n\t\t}\n\t\n\t}\n\t\n\tTHREE.Curve.Utils = THREE.CurveUtils; // backwards compatibility\n\t\n\t// TODO: Transformation for Curves?\n\t\n\t/**************************************************************\n\t *\t3D Curves\n\t **************************************************************/\n\t\n\t// A Factory method for creating new curve subclasses\n\t\n\tTHREE.Curve.create = function ( constructor, getPointFunc ) {\n\t\n\t\tconstructor.prototype = Object.create( THREE.Curve.prototype );\n\t\tconstructor.prototype.constructor = constructor;\n\t\tconstructor.prototype.getPoint = getPointFunc;\n\t\n\t\treturn constructor;\n\t\n\t};\n\t\n\t// File:src/extras/core/CurvePath.js\n\t\n\t/**\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t *\n\t **/\n\t\n\t/**************************************************************\n\t *\tCurved Path - a curve path is simply a array of connected\n\t *  curves, but retains the api of a curve\n\t **************************************************************/\n\t\n\tTHREE.CurvePath = function () {\n\t\n\t\tthis.curves = [];\n\t\n\t\tthis.autoClose = false; // Automatically closes the path\n\t\n\t};\n\t\n\tTHREE.CurvePath.prototype = Object.create( THREE.Curve.prototype );\n\tTHREE.CurvePath.prototype.constructor = THREE.CurvePath;\n\t\n\tTHREE.CurvePath.prototype.add = function ( curve ) {\n\t\n\t\tthis.curves.push( curve );\n\t\n\t};\n\t\n\t/*\n\tTHREE.CurvePath.prototype.checkConnection = function() {\n\t\t// TODO\n\t\t// If the ending of curve is not connected to the starting\n\t\t// or the next curve, then, this is not a real path\n\t};\n\t*/\n\t\n\tTHREE.CurvePath.prototype.closePath = function() {\n\t\n\t\t// TODO Test\n\t\t// and verify for vector3 (needs to implement equals)\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\t\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\t\n\t\t\tthis.curves.push( new THREE.LineCurve( endPoint, startPoint ) );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\t\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\t\n\tTHREE.CurvePath.prototype.getPoint = function( t ) {\n\t\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\t\n\t\t// To think about boundaries points.\n\t\n\t\twhile ( i < curveLengths.length ) {\n\t\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\t\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\t\n\t\t\t\tvar u = 1 - diff / curve.getLength();\n\t\n\t\t\t\treturn curve.getPointAt( u );\n\t\n\t\t\t}\n\t\n\t\t\ti ++;\n\t\n\t\t}\n\t\n\t\treturn null;\n\t\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\t\n\t};\n\t\n\t/*\n\tTHREE.CurvePath.prototype.getTangent = function( t ) {\n\t};\n\t*/\n\t\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\t\n\tTHREE.CurvePath.prototype.getLength = function() {\n\t\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\t\n\t};\n\t\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\t\n\tTHREE.CurvePath.prototype.getCurveLengths = function() {\n\t\n\t\t// We use cache values if curves and cache array are same length\n\t\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\t\n\t\t\treturn this.cacheLengths;\n\t\n\t\t}\n\t\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\t\n\t\tvar lengths = [], sums = 0;\n\t\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\t\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\t\n\t\t}\n\t\n\t\tthis.cacheLengths = lengths;\n\t\n\t\treturn lengths;\n\t\n\t};\n\t\n\t\n\t\n\t/**************************************************************\n\t *\tCreate Geometries Helpers\n\t **************************************************************/\n\t\n\t/// Generate geometry from path points (for Line or Points objects)\n\t\n\tTHREE.CurvePath.prototype.createPointsGeometry = function( divisions ) {\n\t\n\t\tvar pts = this.getPoints( divisions, true );\n\t\treturn this.createGeometry( pts );\n\t\n\t};\n\t\n\t// Generate geometry from equidistant sampling along the path\n\t\n\tTHREE.CurvePath.prototype.createSpacedPointsGeometry = function( divisions ) {\n\t\n\t\tvar pts = this.getSpacedPoints( divisions, true );\n\t\treturn this.createGeometry( pts );\n\t\n\t};\n\t\n\tTHREE.CurvePath.prototype.createGeometry = function( points ) {\n\t\n\t\tvar geometry = new THREE.Geometry();\n\t\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\t\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new THREE.Vector3( point.x, point.y, point.z || 0 ) );\n\t\n\t\t}\n\t\n\t\treturn geometry;\n\t\n\t};\n\t\n\t// File:src/extras/core/Path.js\n\t\n\t/**\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t * Creates free form 2d path using series of points, lines or curves.\n\t *\n\t **/\n\t\n\tTHREE.Path = function ( points ) {\n\t\n\t\tTHREE.CurvePath.call( this );\n\t\n\t\tthis.actions = [];\n\t\n\t\tif ( points ) {\n\t\n\t\t\tthis.fromPoints( points );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Path.prototype = Object.create( THREE.CurvePath.prototype );\n\tTHREE.Path.prototype.constructor = THREE.Path;\n\t\n\t// TODO Clean up PATH API\n\t\n\t// Create path using straight lines to connect all points\n\t// - vectors: array of Vector2\n\t\n\tTHREE.Path.prototype.fromPoints = function ( vectors ) {\n\t\n\t\tthis.moveTo( vectors[ 0 ].x, vectors[ 0 ].y );\n\t\n\t\tfor ( var i = 1, l = vectors.length; i < l; i ++ ) {\n\t\n\t\t\tthis.lineTo( vectors[ i ].x, vectors[ i ].y );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// startPath() endPath()?\n\t\n\tTHREE.Path.prototype.moveTo = function ( x, y ) {\n\t\n\t\tthis.actions.push( { action: 'moveTo', args: [ x, y ] } );\n\t\n\t};\n\t\n\tTHREE.Path.prototype.lineTo = function ( x, y ) {\n\t\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\t\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\n\t\n\t\tvar curve = new THREE.LineCurve( new THREE.Vector2( x0, y0 ), new THREE.Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\t\n\t\tthis.actions.push( { action: 'lineTo', args: [ x, y ] } );\n\t\n\t};\n\t\n\tTHREE.Path.prototype.quadraticCurveTo = function( aCPx, aCPy, aX, aY ) {\n\t\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\t\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\n\t\n\t\tvar curve = new THREE.QuadraticBezierCurve(\n\t\t\tnew THREE.Vector2( x0, y0 ),\n\t\t\tnew THREE.Vector2( aCPx, aCPy ),\n\t\t\tnew THREE.Vector2( aX, aY )\n\t\t);\n\t\n\t\tthis.curves.push( curve );\n\t\n\t\tthis.actions.push( { action: 'quadraticCurveTo', args: [ aCPx, aCPy, aX, aY ] } );\n\t\n\t};\n\t\n\tTHREE.Path.prototype.bezierCurveTo = function( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\t\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\t\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\n\t\n\t\tvar curve = new THREE.CubicBezierCurve(\n\t\t\tnew THREE.Vector2( x0, y0 ),\n\t\t\tnew THREE.Vector2( aCP1x, aCP1y ),\n\t\t\tnew THREE.Vector2( aCP2x, aCP2y ),\n\t\t\tnew THREE.Vector2( aX, aY )\n\t\t);\n\t\n\t\tthis.curves.push( curve );\n\t\n\t\tthis.actions.push( { action: 'bezierCurveTo', args: [ aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ] } );\n\t\n\t};\n\t\n\tTHREE.Path.prototype.splineThru = function( pts /*Array of Vector*/ ) {\n\t\n\t\tvar args = Array.prototype.slice.call( arguments );\n\t\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\t\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\n\t\n\t\tvar npts = [ new THREE.Vector2( x0, y0 ) ];\n\t\tArray.prototype.push.apply( npts, pts );\n\t\n\t\tvar curve = new THREE.SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\t\n\t\tthis.actions.push( { action: 'splineThru', args: args } );\n\t\n\t};\n\t\n\t// FUTURE: Change the API or follow canvas API?\n\t\n\tTHREE.Path.prototype.arc = function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\t\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\n\t\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\t\n\t };\n\t\n\t THREE.Path.prototype.absarc = function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\t\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\t\n\t };\n\t\n\tTHREE.Path.prototype.ellipse = function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\t\n\t\tvar lastargs = this.actions[ this.actions.length - 1 ].args;\n\t\tvar x0 = lastargs[ lastargs.length - 2 ];\n\t\tvar y0 = lastargs[ lastargs.length - 1 ];\n\t\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\t\n\t };\n\t\n\t\n\tTHREE.Path.prototype.absellipse = function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\t\n\t\tvar args = [\n\t\t\taX, aY,\n\t\t\txRadius, yRadius,\n\t\t\taStartAngle, aEndAngle,\n\t\t\taClockwise,\n\t\t\taRotation || 0 // aRotation is optional.\n\t\t];\n\t\n\t\tvar curve = new THREE.EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\t\tthis.curves.push( curve );\n\t\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\targs.push( lastPoint.x );\n\t\targs.push( lastPoint.y );\n\t\n\t\tthis.actions.push( { action: 'ellipse', args: args } );\n\t\n\t };\n\t\n\tTHREE.Path.prototype.getSpacedPoints = function ( divisions, closedPath ) {\n\t\n\t\tif ( ! divisions ) divisions = 40;\n\t\n\t\tvar points = [];\n\t\n\t\tfor ( var i = 0; i < divisions; i ++ ) {\n\t\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\t\n\t\t\t//if ( !this.getPoint( i / divisions ) ) throw \"DIE\";\n\t\n\t\t}\n\t\n\t\t// if ( closedPath ) {\n\t\t//\n\t\t// \tpoints.push( points[ 0 ] );\n\t\t//\n\t\t// }\n\t\n\t\treturn points;\n\t\n\t};\n\t\n\t/* Return an array of vectors based on contour of the path */\n\t\n\tTHREE.Path.prototype.getPoints = function( divisions, closedPath ) {\n\t\n\t\tdivisions = divisions || 12;\n\t\n\t\tvar b2 = THREE.ShapeUtils.b2;\n\t\tvar b3 = THREE.ShapeUtils.b3;\n\t\n\t\tvar points = [];\n\t\n\t\tvar cpx, cpy, cpx2, cpy2, cpx1, cpy1, cpx0, cpy0,\n\t\t\tlaste, tx, ty;\n\t\n\t\tfor ( var i = 0, l = this.actions.length; i < l; i ++ ) {\n\t\n\t\t\tvar item = this.actions[ i ];\n\t\n\t\t\tvar action = item.action;\n\t\t\tvar args = item.args;\n\t\n\t\t\tswitch ( action ) {\n\t\n\t\t\tcase 'moveTo':\n\t\n\t\t\t\tpoints.push( new THREE.Vector2( args[ 0 ], args[ 1 ] ) );\n\t\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'lineTo':\n\t\n\t\t\t\tpoints.push( new THREE.Vector2( args[ 0 ], args[ 1 ] ) );\n\t\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'quadraticCurveTo':\n\t\n\t\t\t\tcpx  = args[ 2 ];\n\t\t\t\tcpy  = args[ 3 ];\n\t\n\t\t\t\tcpx1 = args[ 0 ];\n\t\t\t\tcpy1 = args[ 1 ];\n\t\n\t\t\t\tif ( points.length > 0 ) {\n\t\n\t\t\t\t\tlaste = points[ points.length - 1 ];\n\t\n\t\t\t\t\tcpx0 = laste.x;\n\t\t\t\t\tcpy0 = laste.y;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tlaste = this.actions[ i - 1 ].args;\n\t\n\t\t\t\t\tcpx0 = laste[ laste.length - 2 ];\n\t\t\t\t\tcpy0 = laste[ laste.length - 1 ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var j = 1; j <= divisions; j ++ ) {\n\t\n\t\t\t\t\tvar t = j / divisions;\n\t\n\t\t\t\t\ttx = b2( t, cpx0, cpx1, cpx );\n\t\t\t\t\tty = b2( t, cpy0, cpy1, cpy );\n\t\n\t\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'bezierCurveTo':\n\t\n\t\t\t\tcpx  = args[ 4 ];\n\t\t\t\tcpy  = args[ 5 ];\n\t\n\t\t\t\tcpx1 = args[ 0 ];\n\t\t\t\tcpy1 = args[ 1 ];\n\t\n\t\t\t\tcpx2 = args[ 2 ];\n\t\t\t\tcpy2 = args[ 3 ];\n\t\n\t\t\t\tif ( points.length > 0 ) {\n\t\n\t\t\t\t\tlaste = points[ points.length - 1 ];\n\t\n\t\t\t\t\tcpx0 = laste.x;\n\t\t\t\t\tcpy0 = laste.y;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tlaste = this.actions[ i - 1 ].args;\n\t\n\t\t\t\t\tcpx0 = laste[ laste.length - 2 ];\n\t\t\t\t\tcpy0 = laste[ laste.length - 1 ];\n\t\n\t\t\t\t}\n\t\n\t\n\t\t\t\tfor ( var j = 1; j <= divisions; j ++ ) {\n\t\n\t\t\t\t\tvar t = j / divisions;\n\t\n\t\t\t\t\ttx = b3( t, cpx0, cpx1, cpx2, cpx );\n\t\t\t\t\tty = b3( t, cpy0, cpy1, cpy2, cpy );\n\t\n\t\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'splineThru':\n\t\n\t\t\t\tlaste = this.actions[ i - 1 ].args;\n\t\n\t\t\t\tvar last = new THREE.Vector2( laste[ laste.length - 2 ], laste[ laste.length - 1 ] );\n\t\t\t\tvar spts = [ last ];\n\t\n\t\t\t\tvar n = divisions * args[ 0 ].length;\n\t\n\t\t\t\tspts = spts.concat( args[ 0 ] );\n\t\n\t\t\t\tvar spline = new THREE.SplineCurve( spts );\n\t\n\t\t\t\tfor ( var j = 1; j <= n; j ++ ) {\n\t\n\t\t\t\t\tpoints.push( spline.getPointAt( j / n ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'arc':\n\t\n\t\t\t\tvar aX = args[ 0 ], aY = args[ 1 ],\n\t\t\t\t\taRadius = args[ 2 ],\n\t\t\t\t\taStartAngle = args[ 3 ], aEndAngle = args[ 4 ],\n\t\t\t\t\taClockwise = !! args[ 5 ];\n\t\n\t\t\t\tvar deltaAngle = aEndAngle - aStartAngle;\n\t\t\t\tvar angle;\n\t\t\t\tvar tdivisions = divisions * 2;\n\t\n\t\t\t\tfor ( var j = 1; j <= tdivisions; j ++ ) {\n\t\n\t\t\t\t\tvar t = j / tdivisions;\n\t\n\t\t\t\t\tif ( ! aClockwise ) {\n\t\n\t\t\t\t\t\tt = 1 - t;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tangle = aStartAngle + t * deltaAngle;\n\t\n\t\t\t\t\ttx = aX + aRadius * Math.cos( angle );\n\t\t\t\t\tty = aY + aRadius * Math.sin( angle );\n\t\n\t\t\t\t\t//console.log('t', t, 'angle', angle, 'tx', tx, 'ty', ty);\n\t\n\t\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t//console.log(points);\n\t\n\t\t\t\tbreak;\n\t\n\t\t\tcase 'ellipse':\n\t\n\t\t\t\tvar aX = args[ 0 ], aY = args[ 1 ],\n\t\t\t\t\txRadius = args[ 2 ],\n\t\t\t\t\tyRadius = args[ 3 ],\n\t\t\t\t\taStartAngle = args[ 4 ], aEndAngle = args[ 5 ],\n\t\t\t\t\taClockwise = !! args[ 6 ],\n\t\t\t\t\taRotation = args[ 7 ];\n\t\n\t\n\t\t\t\tvar deltaAngle = aEndAngle - aStartAngle;\n\t\t\t\tvar angle;\n\t\t\t\tvar tdivisions = divisions * 2;\n\t\n\t\t\t\tvar cos, sin;\n\t\t\t\tif ( aRotation !== 0 ) {\n\t\n\t\t\t\t\tcos = Math.cos( aRotation );\n\t\t\t\t\tsin = Math.sin( aRotation );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tfor ( var j = 1; j <= tdivisions; j ++ ) {\n\t\n\t\t\t\t\tvar t = j / tdivisions;\n\t\n\t\t\t\t\tif ( ! aClockwise ) {\n\t\n\t\t\t\t\t\tt = 1 - t;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tangle = aStartAngle + t * deltaAngle;\n\t\n\t\t\t\t\ttx = aX + xRadius * Math.cos( angle );\n\t\t\t\t\tty = aY + yRadius * Math.sin( angle );\n\t\n\t\t\t\t\tif ( aRotation !== 0 ) {\n\t\n\t\t\t\t\t\tvar x = tx, y = ty;\n\t\n\t\t\t\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\t\t\t\ttx = ( x - aX ) * cos - ( y - aY ) * sin + aX;\n\t\t\t\t\t\tty = ( x - aX ) * sin + ( y - aY ) * cos + aY;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\t//console.log('t', t, 'angle', angle, 'tx', tx, 'ty', ty);\n\t\n\t\t\t\t\tpoints.push( new THREE.Vector2( tx, ty ) );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t//console.log(points);\n\t\n\t\t\t\tbreak;\n\t\n\t\t\t} // end switch\n\t\n\t\t}\n\t\n\t\n\t\n\t\t// Normalize to remove the closing point by default.\n\t\tvar lastPoint = points[ points.length - 1 ];\n\t\tif ( Math.abs( lastPoint.x - points[ 0 ].x ) < Number.EPSILON &&\n\t\t\t\t Math.abs( lastPoint.y - points[ 0 ].y ) < Number.EPSILON )\n\t\t\tpoints.splice( points.length - 1, 1 );\n\t\tif ( closedPath ) {\n\t\n\t\t\tpoints.push( points[ 0 ] );\n\t\n\t\t}\n\t\n\t\treturn points;\n\t\n\t};\n\t\n\t//\n\t// Breaks path into shapes\n\t//\n\t//\tAssumptions (if parameter isCCW==true the opposite holds):\n\t//\t- solid shapes are defined clockwise (CW)\n\t//\t- holes are defined counterclockwise (CCW)\n\t//\n\t//\tIf parameter noHoles==true:\n\t//  - all subPaths are regarded as solid shapes\n\t//  - definition order CW/CCW has no relevance\n\t//\n\t\n\tTHREE.Path.prototype.toShapes = function( isCCW, noHoles ) {\n\t\n\t\tfunction extractSubpaths( inActions ) {\n\t\n\t\t\tvar subPaths = [], lastPath = new THREE.Path();\n\t\n\t\t\tfor ( var i = 0, l = inActions.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar item = inActions[ i ];\n\t\n\t\t\t\tvar args = item.args;\n\t\t\t\tvar action = item.action;\n\t\n\t\t\t\tif ( action === 'moveTo' ) {\n\t\n\t\t\t\t\tif ( lastPath.actions.length !== 0 ) {\n\t\n\t\t\t\t\t\tsubPaths.push( lastPath );\n\t\t\t\t\t\tlastPath = new THREE.Path();\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tlastPath[ action ].apply( lastPath, args );\n\t\n\t\t\t}\n\t\n\t\t\tif ( lastPath.actions.length !== 0 ) {\n\t\n\t\t\t\tsubPaths.push( lastPath );\n\t\n\t\t\t}\n\t\n\t\t\t// console.log(subPaths);\n\t\n\t\t\treturn\tsubPaths;\n\t\n\t\t}\n\t\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\t\n\t\t\tvar shapes = [];\n\t\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\t\n\t\t\t\tvar tmpShape = new THREE.Shape();\n\t\t\t\ttmpShape.actions = tmpPath.actions;\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\t\n\t\t\t\tshapes.push( tmpShape );\n\t\n\t\t\t}\n\t\n\t\t\t//console.log(\"shape\", shapes);\n\t\n\t\t\treturn shapes;\n\t\n\t\t}\n\t\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\t\n\t\t\tvar polyLen = inPolygon.length;\n\t\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\t\n\t\t\t\tvar edgeLowPt  = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\t\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\t\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\t\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\t\n\t\t\t\t\t\tedgeLowPt  = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\t\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\t\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\t\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn\tinside;\n\t\n\t\t}\n\t\n\t\tvar isClockWise = THREE.ShapeUtils.isClockWise;\n\t\n\t\tvar subPaths = extractSubpaths( this.actions );\n\t\tif ( subPaths.length === 0 ) return [];\n\t\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\t\n\t\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\t\n\t\tif ( subPaths.length === 1 ) {\n\t\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new THREE.Shape();\n\t\t\ttmpShape.actions = tmpPath.actions;\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\t\n\t\t}\n\t\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\t\n\t\t// console.log(\"Holes first\", holesFirst);\n\t\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\t\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\t\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\t\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\t\n\t\t\tif ( solid ) {\n\t\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\t\n\t\t\t\tnewShapes[ mainIdx ] = { s: new THREE.Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.actions = tmpPath.actions;\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\t\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\t\n\t\t\t\t//console.log('cw', i);\n\t\n\t\t\t} else {\n\t\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\t\n\t\t\t\t//console.log('ccw', i);\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\t\n\t\n\t\tif ( newShapes.length > 1 ) {\n\t\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\t\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\t\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\t\n\t\t\t}\n\t\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\t\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\t\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\t\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\t\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\t\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\t\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\t\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\t\n\t\t\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\t\t\tambiguous = true;\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\t\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\t\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tvar tmpHoles;\n\t\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\t\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\t\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\t\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t//console.log(\"shape\", shapes);\n\t\n\t\treturn shapes;\n\t\n\t};\n\t\n\t// File:src/extras/core/Shape.js\n\t\n\t/**\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t * Defines a 2d shape plane using paths.\n\t **/\n\t\n\t// STEP 1 Create a path.\n\t// STEP 2 Turn path into shape.\n\t// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n\t// STEP 3a - Extract points from each shape, turn to vertices\n\t// STEP 3b - Triangulate each shape, add faces.\n\t\n\tTHREE.Shape = function () {\n\t\n\t\tTHREE.Path.apply( this, arguments );\n\t\n\t\tthis.holes = [];\n\t\n\t};\n\t\n\tTHREE.Shape.prototype = Object.create( THREE.Path.prototype );\n\tTHREE.Shape.prototype.constructor = THREE.Shape;\n\t\n\t// Convenience method to return ExtrudeGeometry\n\t\n\tTHREE.Shape.prototype.extrude = function ( options ) {\n\t\n\t\treturn new THREE.ExtrudeGeometry( this, options );\n\t\n\t};\n\t\n\t// Convenience method to return ShapeGeometry\n\t\n\tTHREE.Shape.prototype.makeGeometry = function ( options ) {\n\t\n\t\treturn new THREE.ShapeGeometry( this, options );\n\t\n\t};\n\t\n\t// Get points of holes\n\t\n\tTHREE.Shape.prototype.getPointsHoles = function ( divisions ) {\n\t\n\t\tvar holesPts = [];\n\t\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\t\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\t\n\t\t}\n\t\n\t\treturn holesPts;\n\t\n\t};\n\t\n\t\n\t// Get points of shape and holes (keypoints based on segments parameter)\n\t\n\tTHREE.Shape.prototype.extractAllPoints = function ( divisions ) {\n\t\n\t\treturn {\n\t\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\t\n\t\t};\n\t\n\t};\n\t\n\tTHREE.Shape.prototype.extractPoints = function ( divisions ) {\n\t\n\t\treturn this.extractAllPoints( divisions );\n\t\n\t};\n\t\n\tTHREE.Shape.Utils = THREE.ShapeUtils; // backwards compatibility\n\t\n\t// File:src/extras/curves/LineCurve.js\n\t\n\t/**************************************************************\n\t *\tLine\n\t **************************************************************/\n\t\n\tTHREE.LineCurve = function ( v1, v2 ) {\n\t\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\n\t};\n\t\n\tTHREE.LineCurve.prototype = Object.create( THREE.Curve.prototype );\n\tTHREE.LineCurve.prototype.constructor = THREE.LineCurve;\n\t\n\tTHREE.LineCurve.prototype.getPoint = function ( t ) {\n\t\n\t\tvar point = this.v2.clone().sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\t\n\t\treturn point;\n\t\n\t};\n\t\n\t// Line curve is linear, so we can overwrite default getPointAt\n\t\n\tTHREE.LineCurve.prototype.getPointAt = function ( u ) {\n\t\n\t\treturn this.getPoint( u );\n\t\n\t};\n\t\n\tTHREE.LineCurve.prototype.getTangent = function( t ) {\n\t\n\t\tvar tangent = this.v2.clone().sub( this.v1 );\n\t\n\t\treturn tangent.normalize();\n\t\n\t};\n\t\n\t// File:src/extras/curves/QuadraticBezierCurve.js\n\t\n\t/**************************************************************\n\t *\tQuadratic Bezier curve\n\t **************************************************************/\n\t\n\t\n\tTHREE.QuadraticBezierCurve = function ( v0, v1, v2 ) {\n\t\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\n\t};\n\t\n\tTHREE.QuadraticBezierCurve.prototype = Object.create( THREE.Curve.prototype );\n\tTHREE.QuadraticBezierCurve.prototype.constructor = THREE.QuadraticBezierCurve;\n\t\n\t\n\tTHREE.QuadraticBezierCurve.prototype.getPoint = function ( t ) {\n\t\n\t\tvar b2 = THREE.ShapeUtils.b2;\n\t\n\t\treturn new THREE.Vector2(\n\t\t\tb2( t, this.v0.x, this.v1.x, this.v2.x ),\n\t\t\tb2( t, this.v0.y, this.v1.y, this.v2.y )\n\t\t);\n\t\n\t};\n\t\n\t\n\tTHREE.QuadraticBezierCurve.prototype.getTangent = function( t ) {\n\t\n\t\tvar tangentQuadraticBezier = THREE.CurveUtils.tangentQuadraticBezier;\n\t\n\t\treturn new THREE.Vector2(\n\t\t\ttangentQuadraticBezier( t, this.v0.x, this.v1.x, this.v2.x ),\n\t\t\ttangentQuadraticBezier( t, this.v0.y, this.v1.y, this.v2.y )\n\t\t).normalize();\n\t\n\t};\n\t\n\t// File:src/extras/curves/CubicBezierCurve.js\n\t\n\t/**************************************************************\n\t *\tCubic Bezier curve\n\t **************************************************************/\n\t\n\tTHREE.CubicBezierCurve = function ( v0, v1, v2, v3 ) {\n\t\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\t\n\t};\n\t\n\tTHREE.CubicBezierCurve.prototype = Object.create( THREE.Curve.prototype );\n\tTHREE.CubicBezierCurve.prototype.constructor = THREE.CubicBezierCurve;\n\t\n\tTHREE.CubicBezierCurve.prototype.getPoint = function ( t ) {\n\t\n\t\tvar b3 = THREE.ShapeUtils.b3;\n\t\n\t\treturn new THREE.Vector2( \n\t\t\tb3( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x ),\n\t\t\tb3( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y )\n\t\t);\n\t\n\t};\n\t\n\tTHREE.CubicBezierCurve.prototype.getTangent = function( t ) {\n\t\n\t\tvar tangentCubicBezier = THREE.CurveUtils.tangentCubicBezier;\n\t\n\t\treturn new THREE.Vector2( \n\t\t\ttangentCubicBezier( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x ),\n\t\t\ttangentCubicBezier( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y )\n\t\t).normalize();\n\t\n\t};\n\t\n\t// File:src/extras/curves/SplineCurve.js\n\t\n\t/**************************************************************\n\t *\tSpline curve\n\t **************************************************************/\n\t\n\tTHREE.SplineCurve = function ( points /* array of Vector2 */ ) {\n\t\n\t\tthis.points = ( points == undefined ) ? [] : points;\n\t\n\t};\n\t\n\tTHREE.SplineCurve.prototype = Object.create( THREE.Curve.prototype );\n\tTHREE.SplineCurve.prototype.constructor = THREE.SplineCurve;\n\t\n\tTHREE.SplineCurve.prototype.getPoint = function ( t ) {\n\t\n\t\tvar points = this.points;\n\t\tvar point = ( points.length - 1 ) * t;\n\t\n\t\tvar intPoint = Math.floor( point );\n\t\tvar weight = point - intPoint;\n\t\n\t\tvar point0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tvar point1 = points[ intPoint ];\n\t\tvar point2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tvar point3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\t\n\t\tvar interpolate = THREE.CurveUtils.interpolate;\n\t\n\t\treturn new THREE.Vector2(\n\t\t\tinterpolate( point0.x, point1.x, point2.x, point3.x, weight ),\n\t\t\tinterpolate( point0.y, point1.y, point2.y, point3.y, weight )\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/curves/EllipseCurve.js\n\t\n\t/**************************************************************\n\t *\tEllipse curve\n\t **************************************************************/\n\t\n\tTHREE.EllipseCurve = function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\t\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\t\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\t\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\t\n\t\tthis.aClockwise = aClockwise;\n\t\t\n\t\tthis.aRotation = aRotation || 0;\n\t\n\t};\n\t\n\tTHREE.EllipseCurve.prototype = Object.create( THREE.Curve.prototype );\n\tTHREE.EllipseCurve.prototype.constructor = THREE.EllipseCurve;\n\t\n\tTHREE.EllipseCurve.prototype.getPoint = function ( t ) {\n\t\n\t\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\n\t\tif ( deltaAngle < 0 ) deltaAngle += Math.PI * 2;\n\t\tif ( deltaAngle > Math.PI * 2 ) deltaAngle -= Math.PI * 2;\n\t\n\t\tvar angle;\n\t\n\t\tif ( this.aClockwise === true ) {\n\t\n\t\t\tangle = this.aEndAngle + ( 1 - t ) * ( Math.PI * 2 - deltaAngle );\n\t\n\t\t} else {\n\t\n\t\t\tangle = this.aStartAngle + t * deltaAngle;\n\t\n\t\t}\n\t\t\n\t\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\t\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\t\n\t\tif ( this.aRotation !== 0 ) {\n\t\n\t\t\tvar cos = Math.cos( this.aRotation );\n\t\t\tvar sin = Math.sin( this.aRotation );\n\t\n\t\t\tvar tx = x, ty = y;\n\t\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = ( tx - this.aX ) * cos - ( ty - this.aY ) * sin + this.aX;\n\t\t\ty = ( tx - this.aX ) * sin + ( ty - this.aY ) * cos + this.aY;\n\t\n\t\t}\n\t\n\t\treturn new THREE.Vector2( x, y );\n\t\n\t};\n\t\n\t// File:src/extras/curves/ArcCurve.js\n\t\n\t/**************************************************************\n\t *\tArc curve\n\t **************************************************************/\n\t\n\tTHREE.ArcCurve = function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\t\n\t\tTHREE.EllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\t\n\t};\n\t\n\tTHREE.ArcCurve.prototype = Object.create( THREE.EllipseCurve.prototype );\n\tTHREE.ArcCurve.prototype.constructor = THREE.ArcCurve;\n\t\n\t// File:src/extras/curves/LineCurve3.js\n\t\n\t/**************************************************************\n\t *\tLine3D\n\t **************************************************************/\n\t\n\tTHREE.LineCurve3 = THREE.Curve.create(\n\t\n\t\tfunction ( v1, v2 ) {\n\t\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\n\t\t},\n\t\n\t\tfunction ( t ) {\n\t\n\t\t\tvar vector = new THREE.Vector3();\n\t\n\t\t\tvector.subVectors( this.v2, this.v1 ); // diff\n\t\t\tvector.multiplyScalar( t );\n\t\t\tvector.add( this.v1 );\n\t\n\t\t\treturn vector;\n\t\n\t\t}\n\t\n\t);\n\t\n\t// File:src/extras/curves/QuadraticBezierCurve3.js\n\t\n\t/**************************************************************\n\t *\tQuadratic Bezier 3D curve\n\t **************************************************************/\n\t\n\tTHREE.QuadraticBezierCurve3 = THREE.Curve.create(\n\t\n\t\tfunction ( v0, v1, v2 ) {\n\t\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\n\t\t},\n\t\n\t\tfunction ( t ) {\n\t\n\t\t\tvar b2 = THREE.ShapeUtils.b2;\t\t\n\t\n\t\t\treturn new THREE.Vector3(\n\t\t\t\tb2( t, this.v0.x, this.v1.x, this.v2.x ),\n\t\t\t\tb2( t, this.v0.y, this.v1.y, this.v2.y ),\n\t\t\t\tb2( t, this.v0.z, this.v1.z, this.v2.z )\n\t\t\t);\n\t\n\t\t}\n\t\n\t);\n\t\n\t// File:src/extras/curves/CubicBezierCurve3.js\n\t\n\t/**************************************************************\n\t *\tCubic Bezier 3D curve\n\t **************************************************************/\n\t\n\tTHREE.CubicBezierCurve3 = THREE.Curve.create(\n\t\n\t\tfunction ( v0, v1, v2, v3 ) {\n\t\n\t\t\tthis.v0 = v0;\n\t\t\tthis.v1 = v1;\n\t\t\tthis.v2 = v2;\n\t\t\tthis.v3 = v3;\n\t\n\t\t},\n\t\n\t\tfunction ( t ) {\n\t\n\t\t\tvar b3 = THREE.ShapeUtils.b3;\n\t\n\t\t\treturn new THREE.Vector3(\n\t\t\t\tb3( t, this.v0.x, this.v1.x, this.v2.x, this.v3.x ),\n\t\t\t\tb3( t, this.v0.y, this.v1.y, this.v2.y, this.v3.y ),\n\t\t\t\tb3( t, this.v0.z, this.v1.z, this.v2.z, this.v3.z )\n\t\t\t);\n\t\n\t\t}\n\t\n\t);\n\t\n\t// File:src/extras/curves/SplineCurve3.js\n\t\n\t/**************************************************************\n\t *\tSpline 3D curve\n\t **************************************************************/\n\t\n\t\n\tTHREE.SplineCurve3 = THREE.Curve.create(\n\t\n\t\tfunction ( points /* array of Vector3 */ ) {\n\t\n\t\t\tconsole.warn( 'THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3' );\n\t\t\tthis.points = ( points == undefined ) ? [] : points;\n\t\n\t\t},\n\t\n\t\tfunction ( t ) {\n\t\n\t\t\tvar points = this.points;\n\t\t\tvar point = ( points.length - 1 ) * t;\n\t\n\t\t\tvar intPoint = Math.floor( point );\n\t\t\tvar weight = point - intPoint;\n\t\n\t\t\tvar point0 = points[ intPoint == 0 ? intPoint : intPoint - 1 ];\n\t\t\tvar point1 = points[ intPoint ];\n\t\t\tvar point2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\t\tvar point3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\t\n\t\t\tvar interpolate = THREE.CurveUtils.interpolate;\n\t\n\t\t\treturn new THREE.Vector3(\n\t\t\t\tinterpolate( point0.x, point1.x, point2.x, point3.x, weight ),\n\t\t\t\tinterpolate( point0.y, point1.y, point2.y, point3.y, weight ),\n\t\t\t\tinterpolate( point0.z, point1.z, point2.z, point3.z, weight )\n\t\t\t);\n\t\n\t\t}\n\t\n\t);\n\t\n\t// File:src/extras/curves/CatmullRomCurve3.js\n\t\n\t/**\n\t * @author zz85 https://github.com/zz85\n\t *\n\t * Centripetal CatmullRom Curve - which is useful for avoiding\n\t * cusps and self-intersections in non-uniform catmull rom curves.\n\t * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n\t *\n\t * curve.type accepts centripetal(default), chordal and catmullrom\n\t * curve.tension is used for catmullrom which defaults to 0.5\n\t */\n\t\n\tTHREE.CatmullRomCurve3 = ( function() {\n\t\n\t\tvar\n\t\t\ttmp = new THREE.Vector3(),\n\t\t\tpx = new CubicPoly(),\n\t\t\tpy = new CubicPoly(),\n\t\t\tpz = new CubicPoly();\n\t\n\t\t/*\n\t\tBased on an optimized c++ solution in\n\t\t - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n\t\t - http://ideone.com/NoEbVM\n\t\n\t\tThis CubicPoly class could be used for reusing some variables and calculations,\n\t\tbut for three.js curve use, it could be possible inlined and flatten into a single function call\n\t\twhich can be placed in CurveUtils.\n\t\t*/\n\t\n\t\tfunction CubicPoly() {\n\t\n\t\t}\n\t\n\t\t/*\n\t\t * Compute coefficients for a cubic polynomial\n\t\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t\t * such that\n\t\t *   p(0) = x0, p(1) = x1\n\t\t *  and\n\t\t *   p'(0) = t0, p'(1) = t1.\n\t\t */\n\t\tCubicPoly.prototype.init = function( x0, x1, t0, t1 ) {\n\t\n\t\t\tthis.c0 = x0;\n\t\t\tthis.c1 = t0;\n\t\t\tthis.c2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\t\tthis.c3 = 2 * x0 - 2 * x1 + t0 + t1;\n\t\n\t\t};\n\t\n\t\tCubicPoly.prototype.initNonuniformCatmullRom = function( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\t\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\t\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\t\n\t\t\t// initCubicPoly\n\t\t\tthis.init( x1, x2, t1, t2 );\n\t\n\t\t};\n\t\n\t\t// standard Catmull-Rom spline: interpolate between x1 and x2 with previous/following points x1/x4\n\t\tCubicPoly.prototype.initCatmullRom = function( x0, x1, x2, x3, tension ) {\n\t\n\t\t\tthis.init( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\t\n\t\t};\n\t\n\t\tCubicPoly.prototype.calc = function( t ) {\n\t\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn this.c0 + this.c1 * t + this.c2 * t2 + this.c3 * t3;\n\t\n\t\t};\n\t\n\t\t// Subclass Three.js curve\n\t\treturn THREE.Curve.create(\n\t\n\t\t\tfunction ( p /* array of Vector3 */ ) {\n\t\n\t\t\t\tthis.points = p || [];\n\t\n\t\t\t},\n\t\n\t\t\tfunction ( t ) {\n\t\n\t\t\t\tvar points = this.points,\n\t\t\t\t\tpoint, intPoint, weight, l;\n\t\n\t\t\t\tl = points.length;\n\t\n\t\t\t\tif ( l < 2 ) console.log( 'duh, you need at least 2 points' );\n\t\n\t\t\t\tpoint = ( l - 1 ) * t;\n\t\t\t\tintPoint = Math.floor( point );\n\t\t\t\tweight = point - intPoint;\n\t\n\t\t\t\tif ( weight === 0 && intPoint === l - 1 ) {\n\t\n\t\t\t\t\tintPoint = l - 2;\n\t\t\t\t\tweight = 1;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar p0, p1, p2, p3;\n\t\n\t\t\t\tif ( intPoint === 0 ) {\n\t\n\t\t\t\t\t// extrapolate first point\n\t\t\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\t\t\tp0 = tmp;\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tp0 = points[ intPoint - 1 ];\n\t\n\t\t\t\t}\n\t\n\t\t\t\tp1 = points[ intPoint ];\n\t\t\t\tp2 = points[ intPoint + 1 ];\n\t\n\t\t\t\tif ( intPoint + 2 < l ) {\n\t\n\t\t\t\t\tp3 = points[ intPoint + 2 ]\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// extrapolate last point\n\t\t\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 2 ] );\n\t\t\t\t\tp3 = tmp;\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( this.type === undefined || this.type === 'centripetal' || this.type === 'chordal' ) {\n\t\n\t\t\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\t\t\tvar pow = this.type === 'chordal' ? 0.5 : 0.25;\n\t\t\t\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\t\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\t\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\t\n\t\t\t\t\t// safety check for repeated points\n\t\t\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\t\n\t\t\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\t\n\t\t\t\t} else if ( this.type === 'catmullrom' ) {\n\t\n\t\t\t\t\tvar tension = this.tension !== undefined ? this.tension : 0.5;\n\t\t\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, tension );\n\t\t\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, tension );\n\t\t\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, tension );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar v = new THREE.Vector3(\n\t\t\t\t\tpx.calc( weight ),\n\t\t\t\t\tpy.calc( weight ),\n\t\t\t\t\tpz.calc( weight )\n\t\t\t\t);\n\t\n\t\t\t\treturn v;\n\t\n\t\t\t}\n\t\n\t\t);\n\t\n\t} )();\n\t\n\t// File:src/extras/curves/ClosedSplineCurve3.js\n\t\n\t/**************************************************************\n\t *\tClosed Spline 3D curve\n\t **************************************************************/\n\t\n\t\n\tTHREE.ClosedSplineCurve3 = THREE.Curve.create(\n\t\n\t\tfunction ( points /* array of Vector3 */ ) {\n\t\n\t\t\tthis.points = ( points == undefined ) ? [] : points;\n\t\n\t\t},\n\t\n\t\tfunction ( t ) {\n\t\n\t\t\tvar points = this.points;\n\t\t\tvar point = ( points.length - 0 ) * t; // This needs to be from 0-length +1\n\t\n\t\t\tvar intPoint = Math.floor( point );\n\t\t\tvar weight = point - intPoint;\n\t\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / points.length ) + 1 ) * points.length;\n\t\n\t\t\tvar point0 = points[ ( intPoint - 1 ) % points.length ];\n\t\t\tvar point1 = points[ ( intPoint     ) % points.length ];\n\t\t\tvar point2 = points[ ( intPoint + 1 ) % points.length ];\n\t\t\tvar point3 = points[ ( intPoint + 2 ) % points.length ];\n\t\n\t\t\tvar interpolate = THREE.CurveUtils.interpolate;\n\t\n\t\t\treturn new THREE.Vector3(\n\t\t\t\tinterpolate( point0.x, point1.x, point2.x, point3.x, weight ),\n\t\t\t\tinterpolate( point0.y, point1.y, point2.y, point3.y, weight ),\n\t\t\t\tinterpolate( point0.z, point1.z, point2.z, point3.z, weight )\n\t\t\t);\n\t\n\t\t}\n\t\n\t);\n\t\n\t// File:src/extras/geometries/BoxGeometry.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Cube.as\n\t */\n\t\n\tTHREE.BoxGeometry = function ( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'BoxGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\t\n\t\tthis.widthSegments = widthSegments || 1;\n\t\tthis.heightSegments = heightSegments || 1;\n\t\tthis.depthSegments = depthSegments || 1;\n\t\n\t\tvar scope = this;\n\t\n\t\tvar width_half = width / 2;\n\t\tvar height_half = height / 2;\n\t\tvar depth_half = depth / 2;\n\t\n\t\tbuildPlane( 'z', 'y', - 1, - 1, depth, height, width_half, 0 ); // px\n\t\tbuildPlane( 'z', 'y',   1, - 1, depth, height, - width_half, 1 ); // nx\n\t\tbuildPlane( 'x', 'z',   1,   1, width, depth, height_half, 2 ); // py\n\t\tbuildPlane( 'x', 'z',   1, - 1, width, depth, - height_half, 3 ); // ny\n\t\tbuildPlane( 'x', 'y',   1, - 1, width, height, depth_half, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', - 1, - 1, width, height, - depth_half, 5 ); // nz\n\t\n\t\tfunction buildPlane( u, v, udir, vdir, width, height, depth, materialIndex ) {\n\t\n\t\t\tvar w, ix, iy,\n\t\t\tgridX = scope.widthSegments,\n\t\t\tgridY = scope.heightSegments,\n\t\t\twidth_half = width / 2,\n\t\t\theight_half = height / 2,\n\t\t\toffset = scope.vertices.length;\n\t\n\t\t\tif ( ( u === 'x' && v === 'y' ) || ( u === 'y' && v === 'x' ) ) {\n\t\n\t\t\t\tw = 'z';\n\t\n\t\t\t} else if ( ( u === 'x' && v === 'z' ) || ( u === 'z' && v === 'x' ) ) {\n\t\n\t\t\t\tw = 'y';\n\t\t\t\tgridY = scope.depthSegments;\n\t\n\t\t\t} else if ( ( u === 'z' && v === 'y' ) || ( u === 'y' && v === 'z' ) ) {\n\t\n\t\t\t\tw = 'x';\n\t\t\t\tgridX = scope.depthSegments;\n\t\n\t\t\t}\n\t\n\t\t\tvar gridX1 = gridX + 1,\n\t\t\tgridY1 = gridY + 1,\n\t\t\tsegment_width = width / gridX,\n\t\t\tsegment_height = height / gridY,\n\t\t\tnormal = new THREE.Vector3();\n\t\n\t\t\tnormal[ w ] = depth > 0 ? 1 : - 1;\n\t\n\t\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\t\n\t\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\t\n\t\t\t\t\tvar vector = new THREE.Vector3();\n\t\t\t\t\tvector[ u ] = ( ix * segment_width - width_half ) * udir;\n\t\t\t\t\tvector[ v ] = ( iy * segment_height - height_half ) * vdir;\n\t\t\t\t\tvector[ w ] = depth;\n\t\n\t\t\t\t\tscope.vertices.push( vector );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\t\n\t\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\t\n\t\t\t\t\tvar a = ix + gridX1 * iy;\n\t\t\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\t\n\t\t\t\t\tvar uva = new THREE.Vector2( ix / gridX, 1 - iy / gridY );\n\t\t\t\t\tvar uvb = new THREE.Vector2( ix / gridX, 1 - ( iy + 1 ) / gridY );\n\t\t\t\t\tvar uvc = new THREE.Vector2( ( ix + 1 ) / gridX, 1 - ( iy + 1 ) / gridY );\n\t\t\t\t\tvar uvd = new THREE.Vector2( ( ix + 1 ) / gridX, 1 - iy / gridY );\n\t\n\t\t\t\t\tvar face = new THREE.Face3( a + offset, b + offset, d + offset );\n\t\t\t\t\tface.normal.copy( normal );\n\t\t\t\t\tface.vertexNormals.push( normal.clone(), normal.clone(), normal.clone() );\n\t\t\t\t\tface.materialIndex = materialIndex;\n\t\n\t\t\t\t\tscope.faces.push( face );\n\t\t\t\t\tscope.faceVertexUvs[ 0 ].push( [ uva, uvb, uvd ] );\n\t\n\t\t\t\t\tface = new THREE.Face3( b + offset, c + offset, d + offset );\n\t\t\t\t\tface.normal.copy( normal );\n\t\t\t\t\tface.vertexNormals.push( normal.clone(), normal.clone(), normal.clone() );\n\t\t\t\t\tface.materialIndex = materialIndex;\n\t\n\t\t\t\t\tscope.faces.push( face );\n\t\t\t\t\tscope.faceVertexUvs[ 0 ].push( [ uvb.clone(), uvc, uvd.clone() ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.mergeVertices();\n\t\n\t};\n\t\n\tTHREE.BoxGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.BoxGeometry.prototype.constructor = THREE.BoxGeometry;\n\t\n\tTHREE.BoxGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.BoxGeometry(\n\t\t\tparameters.width,\n\t\t\tparameters.height,\n\t\t\tparameters.depth,\n\t\t\tparameters.widthSegments,\n\t\t\tparameters.heightSegments,\n\t\t\tparameters.depthSegments\n\t\t);\n\t\n\t};\n\t\n\tTHREE.CubeGeometry = THREE.BoxGeometry; // backwards compatibility\n\t\n\t// File:src/extras/geometries/CircleGeometry.js\n\t\n\t/**\n\t * @author hughes\n\t */\n\t\n\tTHREE.CircleGeometry = function ( radius, segments, thetaStart, thetaLength ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'CircleGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\t\n\t\tthis.fromBufferGeometry( new THREE.CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\t\n\t};\n\t\n\tTHREE.CircleGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.CircleGeometry.prototype.constructor = THREE.CircleGeometry;\n\t\n\tTHREE.CircleGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.CircleGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.segments,\n\t\t\tparameters.thetaStart,\n\t\t\tparameters.thetaLength\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/CircleBufferGeometry.js\n\t\n\t/**\n\t * @author benaadams / https://twitter.com/ben_a_adams\n\t */\n\t\n\tTHREE.CircleBufferGeometry = function ( radius, segments, thetaStart, thetaLength ) {\n\t\n\t\tTHREE.BufferGeometry.call( this );\n\t\n\t\tthis.type = 'CircleBufferGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\t\n\t\tradius = radius || 50;\n\t\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\t\n\t\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\t\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\t\n\t\tvar vertices = segments + 2;\n\t\n\t\tvar positions = new Float32Array( vertices * 3 );\n\t\tvar normals = new Float32Array( vertices * 3 );\n\t\tvar uvs = new Float32Array( vertices * 2 );\n\t\n\t\t// center data is already zero, but need to set a few extras\n\t\tnormals[ 2 ] = 1.0;\n\t\tuvs[ 0 ] = 0.5;\n\t\tuvs[ 1 ] = 0.5;\n\t\n\t\tfor ( var s = 0, i = 3, ii = 2 ; s <= segments; s ++, i += 3, ii += 2 ) {\n\t\n\t\t\tvar segment = thetaStart + s / segments * thetaLength;\n\t\n\t\t\tpositions[ i ] = radius * Math.cos( segment );\n\t\t\tpositions[ i + 1 ] = radius * Math.sin( segment );\n\t\n\t\t\tnormals[ i + 2 ] = 1; // normal z\n\t\n\t\t\tuvs[ ii ] = ( positions[ i ] / radius + 1 ) / 2;\n\t\t\tuvs[ ii + 1 ] = ( positions[ i + 1 ] / radius + 1 ) / 2;\n\t\n\t\t}\n\t\n\t\tvar indices = [];\n\t\n\t\tfor ( var i = 1; i <= segments; i ++ ) {\n\t\n\t\t\tindices.push( i, i + 1, 0 );\n\t\n\t\t}\n\t\n\t\tthis.setIndex( new THREE.BufferAttribute( new Uint16Array( indices ), 1 ) );\n\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ) );\n\t\tthis.addAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\n\t\tthis.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ) );\n\t\n\t\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\n\t\n\t};\n\t\n\tTHREE.CircleBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\n\tTHREE.CircleBufferGeometry.prototype.constructor = THREE.CircleBufferGeometry;\n\t\n\tTHREE.CircleBufferGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.CircleBufferGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.segments,\n\t\t\tparameters.thetaStart,\n\t\t\tparameters.thetaLength\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/CylinderGeometry.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.CylinderGeometry = function ( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'CylinderGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\t\n\t\tradiusTop = radiusTop !== undefined ? radiusTop : 20;\n\t\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 20;\n\t\theight = height !== undefined ? height : 100;\n\t\n\t\tradialSegments = radialSegments || 8;\n\t\theightSegments = heightSegments || 1;\n\t\n\t\topenEnded = openEnded !== undefined ? openEnded : false;\n\t\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\t\tthetaLength = thetaLength !== undefined ? thetaLength : 2 * Math.PI;\n\t\n\t\tvar heightHalf = height / 2;\n\t\n\t\tvar x, y, vertices = [], uvs = [];\n\t\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\t\n\t\t\tvar verticesRow = [];\n\t\t\tvar uvsRow = [];\n\t\n\t\t\tvar v = y / heightSegments;\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\t\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\t\n\t\t\t\tvar u = x / radialSegments;\n\t\n\t\t\t\tvar vertex = new THREE.Vector3();\n\t\t\t\tvertex.x = radius * Math.sin( u * thetaLength + thetaStart );\n\t\t\t\tvertex.y = - v * height + heightHalf;\n\t\t\t\tvertex.z = radius * Math.cos( u * thetaLength + thetaStart );\n\t\n\t\t\t\tthis.vertices.push( vertex );\n\t\n\t\t\t\tverticesRow.push( this.vertices.length - 1 );\n\t\t\t\tuvsRow.push( new THREE.Vector2( u, 1 - v ) );\n\t\n\t\t\t}\n\t\n\t\t\tvertices.push( verticesRow );\n\t\t\tuvs.push( uvsRow );\n\t\n\t\t}\n\t\n\t\tvar tanTheta = ( radiusBottom - radiusTop ) / height;\n\t\tvar na, nb;\n\t\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\t\n\t\t\tif ( radiusTop !== 0 ) {\n\t\n\t\t\t\tna = this.vertices[ vertices[ 0 ][ x ] ].clone();\n\t\t\t\tnb = this.vertices[ vertices[ 0 ][ x + 1 ] ].clone();\n\t\n\t\t\t} else {\n\t\n\t\t\t\tna = this.vertices[ vertices[ 1 ][ x ] ].clone();\n\t\t\t\tnb = this.vertices[ vertices[ 1 ][ x + 1 ] ].clone();\n\t\n\t\t\t}\n\t\n\t\t\tna.setY( Math.sqrt( na.x * na.x + na.z * na.z ) * tanTheta ).normalize();\n\t\t\tnb.setY( Math.sqrt( nb.x * nb.x + nb.z * nb.z ) * tanTheta ).normalize();\n\t\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\t\n\t\t\t\tvar v1 = vertices[ y ][ x ];\n\t\t\t\tvar v2 = vertices[ y + 1 ][ x ];\n\t\t\t\tvar v3 = vertices[ y + 1 ][ x + 1 ];\n\t\t\t\tvar v4 = vertices[ y ][ x + 1 ];\n\t\n\t\t\t\tvar n1 = na.clone();\n\t\t\t\tvar n2 = na.clone();\n\t\t\t\tvar n3 = nb.clone();\n\t\t\t\tvar n4 = nb.clone();\n\t\n\t\t\t\tvar uv1 = uvs[ y ][ x ].clone();\n\t\t\t\tvar uv2 = uvs[ y + 1 ][ x ].clone();\n\t\t\t\tvar uv3 = uvs[ y + 1 ][ x + 1 ].clone();\n\t\t\t\tvar uv4 = uvs[ y ][ x + 1 ].clone();\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v4, [ n1, n2, n4 ] ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv2, uv4 ] );\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( v2, v3, v4, [ n2.clone(), n3, n4.clone() ] ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv2.clone(), uv3, uv4.clone() ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// top cap\n\t\n\t\tif ( openEnded === false && radiusTop > 0 ) {\n\t\n\t\t\tthis.vertices.push( new THREE.Vector3( 0, heightHalf, 0 ) );\n\t\n\t\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\t\n\t\t\t\tvar v1 = vertices[ 0 ][ x ];\n\t\t\t\tvar v2 = vertices[ 0 ][ x + 1 ];\n\t\t\t\tvar v3 = this.vertices.length - 1;\n\t\n\t\t\t\tvar n1 = new THREE.Vector3( 0, 1, 0 );\n\t\t\t\tvar n2 = new THREE.Vector3( 0, 1, 0 );\n\t\t\t\tvar n3 = new THREE.Vector3( 0, 1, 0 );\n\t\n\t\t\t\tvar uv1 = uvs[ 0 ][ x ].clone();\n\t\t\t\tvar uv2 = uvs[ 0 ][ x + 1 ].clone();\n\t\t\t\tvar uv3 = new THREE.Vector2( uv2.x, 0 );\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n1, n2, n3 ], undefined, 1 ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv2, uv3 ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// bottom cap\n\t\n\t\tif ( openEnded === false && radiusBottom > 0 ) {\n\t\n\t\t\tthis.vertices.push( new THREE.Vector3( 0, - heightHalf, 0 ) );\n\t\n\t\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\t\n\t\t\t\tvar v1 = vertices[ heightSegments ][ x + 1 ];\n\t\t\t\tvar v2 = vertices[ heightSegments ][ x ];\n\t\t\t\tvar v3 = this.vertices.length - 1;\n\t\n\t\t\t\tvar n1 = new THREE.Vector3( 0, - 1, 0 );\n\t\t\t\tvar n2 = new THREE.Vector3( 0, - 1, 0 );\n\t\t\t\tvar n3 = new THREE.Vector3( 0, - 1, 0 );\n\t\n\t\t\t\tvar uv1 = uvs[ heightSegments ][ x + 1 ].clone();\n\t\t\t\tvar uv2 = uvs[ heightSegments ][ x ].clone();\n\t\t\t\tvar uv3 = new THREE.Vector2( uv2.x, 1 );\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n1, n2, n3 ], undefined, 2 ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uv1, uv2, uv3 ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.computeFaceNormals();\n\t\n\t};\n\t\n\tTHREE.CylinderGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.CylinderGeometry.prototype.constructor = THREE.CylinderGeometry;\n\t\n\tTHREE.CylinderGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.CylinderGeometry(\n\t\t\tparameters.radiusTop,\n\t\t\tparameters.radiusBottom,\n\t\t\tparameters.height,\n\t\t\tparameters.radialSegments,\n\t\t\tparameters.heightSegments,\n\t\t\tparameters.openEnded,\n\t\t\tparameters.thetaStart,\n\t\t\tparameters.thetaLength\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/EdgesGeometry.js\n\t\n\t/**\n\t * @author WestLangley / http://github.com/WestLangley\n\t */\n\t\n\tTHREE.EdgesGeometry = function ( geometry, thresholdAngle ) {\n\t\n\t\tTHREE.BufferGeometry.call( this );\n\t\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\t\n\t\tvar thresholdDot = Math.cos( THREE.Math.degToRad( thresholdAngle ) );\n\t\n\t\tvar edge = [ 0, 0 ], hash = {};\n\t\n\t\tfunction sortFunction( a, b ) {\n\t\n\t\t\treturn a - b;\n\t\n\t\t}\n\t\n\t\tvar keys = [ 'a', 'b', 'c' ];\n\t\n\t\tvar geometry2;\n\t\n\t\tif ( geometry instanceof THREE.BufferGeometry ) {\n\t\n\t\t\tgeometry2 = new THREE.Geometry();\n\t\t\tgeometry2.fromBufferGeometry( geometry );\n\t\n\t\t} else {\n\t\n\t\t\tgeometry2 = geometry.clone();\n\t\n\t\t}\n\t\n\t\tgeometry2.mergeVertices();\n\t\tgeometry2.computeFaceNormals();\n\t\n\t\tvar vertices = geometry2.vertices;\n\t\tvar faces = geometry2.faces;\n\t\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\t\n\t\t\tvar face = faces[ i ];\n\t\n\t\t\tfor ( var j = 0; j < 3; j ++ ) {\n\t\n\t\t\t\tedge[ 0 ] = face[ keys[ j ] ];\n\t\t\t\tedge[ 1 ] = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge.sort( sortFunction );\n\t\n\t\t\t\tvar key = edge.toString();\n\t\n\t\t\t\tif ( hash[ key ] === undefined ) {\n\t\n\t\t\t\t\thash[ key ] = { vert1: edge[ 0 ], vert2: edge[ 1 ], face1: i, face2: undefined };\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\thash[ key ].face2 = i;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tvar coords = [];\n\t\n\t\tfor ( var key in hash ) {\n\t\n\t\t\tvar h = hash[ key ];\n\t\n\t\t\tif ( h.face2 === undefined || faces[ h.face1 ].normal.dot( faces[ h.face2 ].normal ) <= thresholdDot ) {\n\t\n\t\t\t\tvar vertex = vertices[ h.vert1 ];\n\t\t\t\tcoords.push( vertex.x );\n\t\t\t\tcoords.push( vertex.y );\n\t\t\t\tcoords.push( vertex.z );\n\t\n\t\t\t\tvertex = vertices[ h.vert2 ];\n\t\t\t\tcoords.push( vertex.x );\n\t\t\t\tcoords.push( vertex.y );\n\t\t\t\tcoords.push( vertex.z );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( new Float32Array( coords ), 3 ) );\n\t\n\t};\n\t\n\tTHREE.EdgesGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\n\tTHREE.EdgesGeometry.prototype.constructor = THREE.EdgesGeometry;\n\t\n\t// File:src/extras/geometries/ExtrudeGeometry.js\n\t\n\t/**\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t *\n\t * Creates extruded geometry from a path shape.\n\t *\n\t * parameters = {\n\t *\n\t *  curveSegments: <int>, // number of points on the curves\n\t *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n\t *  amount: <int>, // Depth to extrude the shape\n\t *\n\t *  bevelEnabled: <bool>, // turn on bevel\n\t *  bevelThickness: <float>, // how deep into the original shape bevel goes\n\t *  bevelSize: <float>, // how far from shape outline is bevel\n\t *  bevelSegments: <int>, // number of bevel layers\n\t *\n\t *  extrudePath: <THREE.CurvePath> // 3d spline path to extrude shape along. (creates Frames if .frames aren't defined)\n\t *  frames: <THREE.TubeGeometry.FrenetFrames> // containing arrays of tangents, normals, binormals\n\t *\n\t *  uvGenerator: <Object> // object that provides UV generator functions\n\t *\n\t * }\n\t **/\n\t\n\tTHREE.ExtrudeGeometry = function ( shapes, options ) {\n\t\n\t\tif ( typeof( shapes ) === \"undefined\" ) {\n\t\n\t\t\tshapes = [];\n\t\t\treturn;\n\t\n\t\t}\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'ExtrudeGeometry';\n\t\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\t\n\t\tthis.addShapeList( shapes, options );\n\t\n\t\tthis.computeFaceNormals();\n\t\n\t\t// can't really use automatic vertex normals\n\t\t// as then front and back sides get smoothed too\n\t\t// should do separate smoothing just for sides\n\t\n\t\t//this.computeVertexNormals();\n\t\n\t\t//console.log( \"took\", ( Date.now() - startTime ) );\n\t\n\t};\n\t\n\tTHREE.ExtrudeGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.ExtrudeGeometry.prototype.constructor = THREE.ExtrudeGeometry;\n\t\n\tTHREE.ExtrudeGeometry.prototype.addShapeList = function ( shapes, options ) {\n\t\n\t\tvar sl = shapes.length;\n\t\n\t\tfor ( var s = 0; s < sl; s ++ ) {\n\t\n\t\t\tvar shape = shapes[ s ];\n\t\t\tthis.addShape( shape, options );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.ExtrudeGeometry.prototype.addShape = function ( shape, options ) {\n\t\n\t\tvar amount = options.amount !== undefined ? options.amount : 100;\n\t\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6; // 10\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2; // 8\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\t\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true; // false\n\t\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\n\t\n\t\tvar extrudePath = options.extrudePath;\n\t\tvar extrudePts, extrudeByPath = false;\n\t\n\t\t// Use default WorldUVGenerator if no UV generators are specified.\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : THREE.ExtrudeGeometry.WorldUVGenerator;\n\t\n\t\tvar splineTube, binormal, normal, position2;\n\t\tif ( extrudePath ) {\n\t\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\t\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\t\n\t\t\t// SETUP TNB variables\n\t\n\t\t\t// Reuse TNB from TubeGeomtry for now.\n\t\t\t// TODO1 - have a .isClosed in spline?\n\t\n\t\t\tsplineTube = options.frames !== undefined ? options.frames : new THREE.TubeGeometry.FrenetFrames( extrudePath, steps, false );\n\t\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\t\n\t\t\tbinormal = new THREE.Vector3();\n\t\t\tnormal = new THREE.Vector3();\n\t\t\tposition2 = new THREE.Vector3();\n\t\n\t\t}\n\t\n\t\t// Safeguards if bevels are not enabled\n\t\n\t\tif ( ! bevelEnabled ) {\n\t\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\t\n\t\t}\n\t\n\t\t// Variables initialization\n\t\n\t\tvar ahole, h, hl; // looping of holes\n\t\tvar scope = this;\n\t\n\t\tvar shapesOffset = this.vertices.length;\n\t\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\t\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\t\n\t\tvar reverse = ! THREE.ShapeUtils.isClockWise( vertices );\n\t\n\t\tif ( reverse ) {\n\t\n\t\t\tvertices = vertices.reverse();\n\t\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\t\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\t\n\t\t\t\tahole = holes[ h ];\n\t\n\t\t\t\tif ( THREE.ShapeUtils.isClockWise( ahole ) ) {\n\t\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treverse = false; // If vertices are in order now, we shouldn't need to worry about them again (hopefully)!\n\t\n\t\t}\n\t\n\t\n\t\tvar faces = THREE.ShapeUtils.triangulateShape( vertices, holes );\n\t\n\t\t/* Vertices */\n\t\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\t\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\t\n\t\t\tahole = holes[ h ];\n\t\n\t\t\tvertices = vertices.concat( ahole );\n\t\n\t\t}\n\t\n\t\n\t\tfunction scalePt2 ( pt, vec, size ) {\n\t\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\t\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\t\n\t\t}\n\t\n\t\tvar b, bs, t, z,\n\t\t\tvert, vlen = vertices.length,\n\t\t\tface, flen = faces.length;\n\t\n\t\n\t\t// Find directions for point movement\n\t\n\t\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\t\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\t\n\t\t\tvar v_trans_x, v_trans_y, shrink_by = 1;\t\t// resulting translation vector for inPt\n\t\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\t\n\t\t\tvar v_prev_x = inPt.x - inPrev.x, v_prev_y = inPt.y - inPrev.y;\n\t\t\tvar v_next_x = inNext.x - inPt.x, v_next_y = inNext.y - inPt.y;\n\t\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\t\n\t\t\t// check for collinear edges\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\t\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\t\n\t\t\t\t// not collinear\n\t\n\t\t\t\t// length of vectors for normalizing\n\t\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\t\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\t\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\t\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\t\n\t\t\t\t// scaling factor for v_prev to intersection point\n\t\n\t\t\t\tvar sf = (  ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x    ) /\n\t\t\t\t\t\t  ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\t\n\t\t\t\t// vector from inPt to intersection point\n\t\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\t\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\t\n\t\t\t\t\treturn\tnew THREE.Vector2( v_trans_x, v_trans_y );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// handle special case of collinear edges\n\t\n\t\t\t\tvar direction_eq = false;\t\t// assumes: opposite\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\t\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\t\n\t\t\t\t\t\tdirection_eq = true;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\t\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\t\n\t\t\t\t\t\t\tdirection_eq = true;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\t\n\t\t\t\t\t\t\tdirection_eq = true;\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( direction_eq ) {\n\t\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y =  v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treturn\tnew THREE.Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\t\n\t\t}\n\t\n\t\n\t\tvar contourMovements = [];\n\t\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\t\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\t\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\t\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\t\n\t\t}\n\t\n\t\tvar holesMovements = [], oneHoleMovements, verticesMovements = contourMovements.concat();\n\t\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\t\n\t\t\tahole = holes[ h ];\n\t\n\t\t\toneHoleMovements = [];\n\t\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\t\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\t\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\t\n\t\t\t}\n\t\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\t\n\t\t}\n\t\n\t\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\t\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\t\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\t\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * ( 1 - t );\n\t\n\t\t\t//z = bevelThickness * t;\n\t\t\tbs = bevelSize * ( Math.sin ( t * Math.PI / 2 ) ); // curved\n\t\t\t//bs = bevelSize * t; // linear\n\t\n\t\t\t// contract shape\n\t\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\t\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\n\t\t\t\tv( vert.x, vert.y,  - z );\n\t\n\t\t\t}\n\t\n\t\t\t// expand holes\n\t\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\t\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\t\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\t\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\t\n\t\t\t\t\tv( vert.x, vert.y,  - z );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tbs = bevelSize;\n\t\n\t\t// Back facing vertices\n\t\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\t\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\t\n\t\t\tif ( ! extrudeByPath ) {\n\t\n\t\t\t\tv( vert.x, vert.y, 0 );\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\t\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\t\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\t\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\t\n\t\tvar s;\n\t\n\t\tfor ( s = 1; s <= steps; s ++ ) {\n\t\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\n\t\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\t\n\t\t\t\tif ( ! extrudeByPath ) {\n\t\n\t\t\t\t\tv( vert.x, vert.y, amount / steps * s );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\t\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\t\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\t\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\n\t\t// Add bevel segments planes\n\t\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\t\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * ( 1 - t );\n\t\t\t//bs = bevelSize * ( 1-Math.sin ( ( 1 - t ) * Math.PI/2 ) );\n\t\t\tbs = bevelSize * Math.sin ( t * Math.PI / 2 );\n\t\n\t\t\t// contract shape\n\t\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\t\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y,  amount + z );\n\t\n\t\t\t}\n\t\n\t\t\t// expand holes\n\t\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\t\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\t\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\t\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\t\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\t\n\t\t\t\t\t\tv( vert.x, vert.y,  amount + z );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t/* Faces */\n\t\n\t\t// Top and bottom faces\n\t\n\t\tbuildLidFaces();\n\t\n\t\t// Sides faces\n\t\n\t\tbuildSideFaces();\n\t\n\t\n\t\t/////  Internal functions\n\t\n\t\tfunction buildLidFaces() {\n\t\n\t\t\tif ( bevelEnabled ) {\n\t\n\t\t\t\tvar layer = 0; // steps + 1\n\t\t\t\tvar offset = vlen * layer;\n\t\n\t\t\t\t// Bottom faces\n\t\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\t\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\t\n\t\t\t\t// Top faces\n\t\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\t\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// Bottom faces\n\t\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\t\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// Top faces\n\t\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\t\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// Create faces for the z-sides of the shape\n\t\n\t\tfunction buildSideFaces() {\n\t\n\t\t\tvar layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\t\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\t\n\t\t\t\tahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\t\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfunction sidewalls( contour, layeroffset ) {\n\t\n\t\t\tvar j, k;\n\t\t\ti = contour.length;\n\t\n\t\t\twhile ( -- i >= 0 ) {\n\t\n\t\t\t\tj = i;\n\t\t\t\tk = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\t\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\t\n\t\t\t\tvar s = 0, sl = steps  + bevelSegments * 2;\n\t\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\t\n\t\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\t\n\t\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\t\n\t\t\t\t\tf4( a, b, c, d, contour, s, sl, j, k );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\n\t\tfunction v( x, y, z ) {\n\t\n\t\t\tscope.vertices.push( new THREE.Vector3( x, y, z ) );\n\t\n\t\t}\n\t\n\t\tfunction f3( a, b, c ) {\n\t\n\t\t\ta += shapesOffset;\n\t\t\tb += shapesOffset;\n\t\t\tc += shapesOffset;\n\t\n\t\t\tscope.faces.push( new THREE.Face3( a, b, c, null, null, 0 ) );\n\t\n\t\t\tvar uvs = uvgen.generateTopUV( scope, a, b, c );\n\t\n\t\t\tscope.faceVertexUvs[ 0 ].push( uvs );\n\t\n\t\t}\n\t\n\t\tfunction f4( a, b, c, d, wallContour, stepIndex, stepsLength, contourIndex1, contourIndex2 ) {\n\t\n\t\t\ta += shapesOffset;\n\t\t\tb += shapesOffset;\n\t\t\tc += shapesOffset;\n\t\t\td += shapesOffset;\n\t\n\t\t\tscope.faces.push( new THREE.Face3( a, b, d, null, null, 1 ) );\n\t\t\tscope.faces.push( new THREE.Face3( b, c, d, null, null, 1 ) );\n\t\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, a, b, c, d );\n\t\n\t\t\tscope.faceVertexUvs[ 0 ].push( [ uvs[ 0 ], uvs[ 1 ], uvs[ 3 ] ] );\n\t\t\tscope.faceVertexUvs[ 0 ].push( [ uvs[ 1 ], uvs[ 2 ], uvs[ 3 ] ] );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.ExtrudeGeometry.WorldUVGenerator = {\n\t\n\t\tgenerateTopUV: function ( geometry, indexA, indexB, indexC ) {\n\t\n\t\t\tvar vertices = geometry.vertices;\n\t\n\t\t\tvar a = vertices[ indexA ];\n\t\t\tvar b = vertices[ indexB ];\n\t\t\tvar c = vertices[ indexC ];\n\t\n\t\t\treturn [\n\t\t\t\tnew THREE.Vector2( a.x, a.y ),\n\t\t\t\tnew THREE.Vector2( b.x, b.y ),\n\t\t\t\tnew THREE.Vector2( c.x, c.y )\n\t\t\t];\n\t\n\t\t},\n\t\n\t\tgenerateSideWallUV: function ( geometry, indexA, indexB, indexC, indexD ) {\n\t\n\t\t\tvar vertices = geometry.vertices;\n\t\n\t\t\tvar a = vertices[ indexA ];\n\t\t\tvar b = vertices[ indexB ];\n\t\t\tvar c = vertices[ indexC ];\n\t\t\tvar d = vertices[ indexD ];\n\t\n\t\t\tif ( Math.abs( a.y - b.y ) < 0.01 ) {\n\t\n\t\t\t\treturn [\n\t\t\t\t\tnew THREE.Vector2( a.x, 1 - a.z ),\n\t\t\t\t\tnew THREE.Vector2( b.x, 1 - b.z ),\n\t\t\t\t\tnew THREE.Vector2( c.x, 1 - c.z ),\n\t\t\t\t\tnew THREE.Vector2( d.x, 1 - d.z )\n\t\t\t\t];\n\t\n\t\t\t} else {\n\t\n\t\t\t\treturn [\n\t\t\t\t\tnew THREE.Vector2( a.y, 1 - a.z ),\n\t\t\t\t\tnew THREE.Vector2( b.y, 1 - b.z ),\n\t\t\t\t\tnew THREE.Vector2( c.y, 1 - c.z ),\n\t\t\t\t\tnew THREE.Vector2( d.y, 1 - d.z )\n\t\t\t\t];\n\t\n\t\t\t}\n\t\n\t\t}\n\t};\n\t\n\t// File:src/extras/geometries/ShapeGeometry.js\n\t\n\t/**\n\t * @author jonobr1 / http://jonobr1.com\n\t *\n\t * Creates a one-sided polygonal geometry from a path shape. Similar to\n\t * ExtrudeGeometry.\n\t *\n\t * parameters = {\n\t *\n\t *\tcurveSegments: <int>, // number of points on the curves. NOT USED AT THE MOMENT.\n\t *\n\t *\tmaterial: <int> // material index for front and back faces\n\t *\tuvGenerator: <Object> // object that provides UV generator functions\n\t *\n\t * }\n\t **/\n\t\n\tTHREE.ShapeGeometry = function ( shapes, options ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'ShapeGeometry';\n\t\n\t\tif ( Array.isArray( shapes ) === false ) shapes = [ shapes ];\n\t\n\t\tthis.addShapeList( shapes, options );\n\t\n\t\tthis.computeFaceNormals();\n\t\n\t};\n\t\n\tTHREE.ShapeGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.ShapeGeometry.prototype.constructor = THREE.ShapeGeometry;\n\t\n\t/**\n\t * Add an array of shapes to THREE.ShapeGeometry.\n\t */\n\tTHREE.ShapeGeometry.prototype.addShapeList = function ( shapes, options ) {\n\t\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\t\n\t\t\tthis.addShape( shapes[ i ], options );\n\t\n\t\t}\n\t\n\t\treturn this;\n\t\n\t};\n\t\n\t/**\n\t * Adds a shape to THREE.ShapeGeometry, based on THREE.ExtrudeGeometry.\n\t */\n\tTHREE.ShapeGeometry.prototype.addShape = function ( shape, options ) {\n\t\n\t\tif ( options === undefined ) options = {};\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\n\t\tvar material = options.material;\n\t\tvar uvgen = options.UVGenerator === undefined ? THREE.ExtrudeGeometry.WorldUVGenerator : options.UVGenerator;\n\t\n\t\t//\n\t\n\t\tvar i, l, hole;\n\t\n\t\tvar shapesOffset = this.vertices.length;\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\t\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\t\n\t\tvar reverse = ! THREE.ShapeUtils.isClockWise( vertices );\n\t\n\t\tif ( reverse ) {\n\t\n\t\t\tvertices = vertices.reverse();\n\t\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe...\n\t\n\t\t\tfor ( i = 0, l = holes.length; i < l; i ++ ) {\n\t\n\t\t\t\thole = holes[ i ];\n\t\n\t\t\t\tif ( THREE.ShapeUtils.isClockWise( hole ) ) {\n\t\n\t\t\t\t\tholes[ i ] = hole.reverse();\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\treverse = false;\n\t\n\t\t}\n\t\n\t\tvar faces = THREE.ShapeUtils.triangulateShape( vertices, holes );\n\t\n\t\t// Vertices\n\t\n\t\tfor ( i = 0, l = holes.length; i < l; i ++ ) {\n\t\n\t\t\thole = holes[ i ];\n\t\t\tvertices = vertices.concat( hole );\n\t\n\t\t}\n\t\n\t\t//\n\t\n\t\tvar vert, vlen = vertices.length;\n\t\tvar face, flen = faces.length;\n\t\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\t\n\t\t\tvert = vertices[ i ];\n\t\n\t\t\tthis.vertices.push( new THREE.Vector3( vert.x, vert.y, 0 ) );\n\t\n\t\t}\n\t\n\t\tfor ( i = 0; i < flen; i ++ ) {\n\t\n\t\t\tface = faces[ i ];\n\t\n\t\t\tvar a = face[ 0 ] + shapesOffset;\n\t\t\tvar b = face[ 1 ] + shapesOffset;\n\t\t\tvar c = face[ 2 ] + shapesOffset;\n\t\n\t\t\tthis.faces.push( new THREE.Face3( a, b, c, null, null, material ) );\n\t\t\tthis.faceVertexUvs[ 0 ].push( uvgen.generateTopUV( this, a, b, c ) );\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/extras/geometries/LatheGeometry.js\n\t\n\t/**\n\t * @author astrodud / http://astrodud.isgreat.org/\n\t * @author zz85 / https://github.com/zz85\n\t * @author bhouston / http://clara.io\n\t */\n\t\n\t// points - to create a closed torus, one must use a set of points \n\t//    like so: [ a, b, c, d, a ], see first is the same as last.\n\t// segments - the number of circumference segments to create\n\t// phiStart - the starting radian\n\t// phiLength - the radian (0 to 2*PI) range of the lathed section\n\t//    2*pi is a closed lathe, less than 2PI is a portion.\n\t\n\tTHREE.LatheGeometry = function ( points, segments, phiStart, phiLength ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'LatheGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\t\n\t\tsegments = segments || 12;\n\t\tphiStart = phiStart || 0;\n\t\tphiLength = phiLength || 2 * Math.PI;\n\t\n\t\tvar inversePointLength = 1.0 / ( points.length - 1 );\n\t\tvar inverseSegments = 1.0 / segments;\n\t\n\t\tfor ( var i = 0, il = segments; i <= il; i ++ ) {\n\t\n\t\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\t\n\t\t\tvar c = Math.cos( phi ),\n\t\t\t\ts = Math.sin( phi );\n\t\n\t\t\tfor ( var j = 0, jl = points.length; j < jl; j ++ ) {\n\t\n\t\t\t\tvar pt = points[ j ];\n\t\n\t\t\t\tvar vertex = new THREE.Vector3();\n\t\n\t\t\t\tvertex.x = c * pt.x - s * pt.y;\n\t\t\t\tvertex.y = s * pt.x + c * pt.y;\n\t\t\t\tvertex.z = pt.z;\n\t\n\t\t\t\tthis.vertices.push( vertex );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tvar np = points.length;\n\t\n\t\tfor ( var i = 0, il = segments; i < il; i ++ ) {\n\t\n\t\t\tfor ( var j = 0, jl = points.length - 1; j < jl; j ++ ) {\n\t\n\t\t\t\tvar base = j + np * i;\n\t\t\t\tvar a = base;\n\t\t\t\tvar b = base + np;\n\t\t\t\tvar c = base + 1 + np;\n\t\t\t\tvar d = base + 1;\n\t\n\t\t\t\tvar u0 = i * inverseSegments;\n\t\t\t\tvar v0 = j * inversePointLength;\n\t\t\t\tvar u1 = u0 + inverseSegments;\n\t\t\t\tvar v1 = v0 + inversePointLength;\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( a, b, d ) );\n\t\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [\n\t\n\t\t\t\t\tnew THREE.Vector2( u0, v0 ),\n\t\t\t\t\tnew THREE.Vector2( u1, v0 ),\n\t\t\t\t\tnew THREE.Vector2( u0, v1 )\n\t\n\t\t\t\t] );\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( b, c, d ) );\n\t\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [\n\t\n\t\t\t\t\tnew THREE.Vector2( u1, v0 ),\n\t\t\t\t\tnew THREE.Vector2( u1, v1 ),\n\t\t\t\t\tnew THREE.Vector2( u0, v1 )\n\t\n\t\t\t\t] );\n\t\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.mergeVertices();\n\t\tthis.computeFaceNormals();\n\t\tthis.computeVertexNormals();\n\t\n\t};\n\t\n\tTHREE.LatheGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.LatheGeometry.prototype.constructor = THREE.LatheGeometry;\n\t\n\t// File:src/extras/geometries/PlaneGeometry.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\n\t */\n\t\n\tTHREE.PlaneGeometry = function ( width, height, widthSegments, heightSegments ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'PlaneGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\t\n\t\tthis.fromBufferGeometry( new THREE.PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\t\n\t};\n\t\n\tTHREE.PlaneGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.PlaneGeometry.prototype.constructor = THREE.PlaneGeometry;\n\t\n\tTHREE.PlaneGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.PlaneGeometry(\n\t\t\tparameters.width,\n\t\t\tparameters.height,\n\t\t\tparameters.widthSegments,\n\t\t\tparameters.heightSegments\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/PlaneBufferGeometry.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * based on http://papervision3d.googlecode.com/svn/trunk/as3/trunk/src/org/papervision3d/objects/primitives/Plane.as\n\t */\n\t\n\tTHREE.PlaneBufferGeometry = function ( width, height, widthSegments, heightSegments ) {\n\t\n\t\tTHREE.BufferGeometry.call( this );\n\t\n\t\tthis.type = 'PlaneBufferGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\t\n\t\tvar width_half = width / 2;\n\t\tvar height_half = height / 2;\n\t\n\t\tvar gridX = Math.floor( widthSegments ) || 1;\n\t\tvar gridY = Math.floor( heightSegments ) || 1;\n\t\n\t\tvar gridX1 = gridX + 1;\n\t\tvar gridY1 = gridY + 1;\n\t\n\t\tvar segment_width = width / gridX;\n\t\tvar segment_height = height / gridY;\n\t\n\t\tvar vertices = new Float32Array( gridX1 * gridY1 * 3 );\n\t\tvar normals = new Float32Array( gridX1 * gridY1 * 3 );\n\t\tvar uvs = new Float32Array( gridX1 * gridY1 * 2 );\n\t\n\t\tvar offset = 0;\n\t\tvar offset2 = 0;\n\t\n\t\tfor ( var iy = 0; iy < gridY1; iy ++ ) {\n\t\n\t\t\tvar y = iy * segment_height - height_half;\n\t\n\t\t\tfor ( var ix = 0; ix < gridX1; ix ++ ) {\n\t\n\t\t\t\tvar x = ix * segment_width - width_half;\n\t\n\t\t\t\tvertices[ offset ] = x;\n\t\t\t\tvertices[ offset + 1 ] = - y;\n\t\n\t\t\t\tnormals[ offset + 2 ] = 1;\n\t\n\t\t\t\tuvs[ offset2 ] = ix / gridX;\n\t\t\t\tuvs[ offset2 + 1 ] = 1 - ( iy / gridY );\n\t\n\t\t\t\toffset += 3;\n\t\t\t\toffset2 += 2;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\toffset = 0;\n\t\n\t\tvar indices = new ( ( vertices.length / 3 ) > 65535 ? Uint32Array : Uint16Array )( gridX * gridY * 6 );\n\t\n\t\tfor ( var iy = 0; iy < gridY; iy ++ ) {\n\t\n\t\t\tfor ( var ix = 0; ix < gridX; ix ++ ) {\n\t\n\t\t\t\tvar a = ix + gridX1 * iy;\n\t\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\t\n\t\t\t\tindices[ offset ] = a;\n\t\t\t\tindices[ offset + 1 ] = b;\n\t\t\t\tindices[ offset + 2 ] = d;\n\t\n\t\t\t\tindices[ offset + 3 ] = b;\n\t\t\t\tindices[ offset + 4 ] = c;\n\t\t\t\tindices[ offset + 5 ] = d;\n\t\n\t\t\t\toffset += 6;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.setIndex( new THREE.BufferAttribute( indices, 1 ) );\n\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n\t\tthis.addAttribute( 'normal', new THREE.BufferAttribute( normals, 3 ) );\n\t\tthis.addAttribute( 'uv', new THREE.BufferAttribute( uvs, 2 ) );\n\t\n\t};\n\t\n\tTHREE.PlaneBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\n\tTHREE.PlaneBufferGeometry.prototype.constructor = THREE.PlaneBufferGeometry;\n\t\n\tTHREE.PlaneBufferGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.PlaneBufferGeometry(\n\t\t\tparameters.width,\n\t\t\tparameters.height,\n\t\t\tparameters.widthSegments,\n\t\t\tparameters.heightSegments\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/RingGeometry.js\n\t\n\t/**\n\t * @author Kaleb Murphy\n\t */\n\t\n\tTHREE.RingGeometry = function ( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'RingGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\t\n\t\tinnerRadius = innerRadius || 0;\n\t\touterRadius = outerRadius || 50;\n\t\n\t\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\t\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\t\n\t\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\t\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 8;\n\t\n\t\tvar i, o, uvs = [], radius = innerRadius, radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\n\t\tfor ( i = 0; i < phiSegments + 1; i ++ ) {\n\t\n\t\t\t// concentric circles inside ring\n\t\n\t\t\tfor ( o = 0; o < thetaSegments + 1; o ++ ) {\n\t\n\t\t\t\t// number of segments per circle\n\t\n\t\t\t\tvar vertex = new THREE.Vector3();\n\t\t\t\tvar segment = thetaStart + o / thetaSegments * thetaLength;\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\t\n\t\t\t\tthis.vertices.push( vertex );\n\t\t\t\tuvs.push( new THREE.Vector2( ( vertex.x / outerRadius + 1 ) / 2, ( vertex.y / outerRadius + 1 ) / 2 ) );\n\t\n\t\t\t}\n\t\n\t\t\tradius += radiusStep;\n\t\n\t\t}\n\t\n\t\tvar n = new THREE.Vector3( 0, 0, 1 );\n\t\n\t\tfor ( i = 0; i < phiSegments; i ++ ) {\n\t\n\t\t\t// concentric circles inside ring\n\t\n\t\t\tvar thetaSegment = i * ( thetaSegments + 1 );\n\t\n\t\t\tfor ( o = 0; o < thetaSegments ; o ++ ) {\n\t\n\t\t\t\t// number of segments per circle\n\t\n\t\t\t\tvar segment = o + thetaSegment;\n\t\n\t\t\t\tvar v1 = segment;\n\t\t\t\tvar v2 = segment + thetaSegments + 1;\n\t\t\t\tvar v3 = segment + thetaSegments + 2;\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n.clone(), n.clone(), n.clone() ] ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ v1 ].clone(), uvs[ v2 ].clone(), uvs[ v3 ].clone() ] );\n\t\n\t\t\t\tv1 = segment;\n\t\t\t\tv2 = segment + thetaSegments + 2;\n\t\t\t\tv3 = segment + 1;\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( v1, v2, v3, [ n.clone(), n.clone(), n.clone() ] ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ v1 ].clone(), uvs[ v2 ].clone(), uvs[ v3 ].clone() ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.computeFaceNormals();\n\t\n\t\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\n\t\n\t};\n\t\n\tTHREE.RingGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.RingGeometry.prototype.constructor = THREE.RingGeometry;\n\t\n\tTHREE.RingGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.RingGeometry(\n\t\t\tparameters.innerRadius,\n\t\t\tparameters.outerRadius,\n\t\t\tparameters.thetaSegments,\n\t\t\tparameters.phiSegments,\n\t\t\tparameters.thetaStart,\n\t\t\tparameters.thetaLength\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/SphereGeometry.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.SphereGeometry = function ( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'SphereGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\t\n\t\tthis.fromBufferGeometry( new THREE.SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\t\n\t};\n\t\n\tTHREE.SphereGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.SphereGeometry.prototype.constructor = THREE.SphereGeometry;\n\t\n\tTHREE.SphereGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.SphereGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.widthSegments,\n\t\t\tparameters.heightSegments,\n\t\t\tparameters.phiStart,\n\t\t\tparameters.phiLength,\n\t\t\tparameters.thetaStart,\n\t\t\tparameters.thetaLength\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/SphereBufferGeometry.js\n\t\n\t/**\n\t * @author benaadams / https://twitter.com/ben_a_adams\n\t * based on THREE.SphereGeometry\n\t */\n\t\n\tTHREE.SphereBufferGeometry = function ( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\t\n\t\tTHREE.BufferGeometry.call( this );\n\t\n\t\tthis.type = 'SphereBufferGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\t\n\t\tradius = radius || 50;\n\t\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\t\n\t\tphiStart = phiStart !== undefined ? phiStart : 0;\n\t\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\t\n\t\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\t\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\t\n\t\tvar thetaEnd = thetaStart + thetaLength;\n\t\n\t\tvar vertexCount = ( ( widthSegments + 1 ) * ( heightSegments + 1 ) );\n\t\n\t\tvar positions = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\n\t\tvar normals = new THREE.BufferAttribute( new Float32Array( vertexCount * 3 ), 3 );\n\t\tvar uvs = new THREE.BufferAttribute( new Float32Array( vertexCount * 2 ), 2 );\n\t\n\t\tvar index = 0, vertices = [], normal = new THREE.Vector3();\n\t\n\t\tfor ( var y = 0; y <= heightSegments; y ++ ) {\n\t\n\t\t\tvar verticesRow = [];\n\t\n\t\t\tvar v = y / heightSegments;\n\t\n\t\t\tfor ( var x = 0; x <= widthSegments; x ++ ) {\n\t\n\t\t\t\tvar u = x / widthSegments;\n\t\n\t\t\t\tvar px = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvar py = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvar pz = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\n\t\t\t\tnormal.set( px, py, pz ).normalize();\n\t\n\t\t\t\tpositions.setXYZ( index, px, py, pz );\n\t\t\t\tnormals.setXYZ( index, normal.x, normal.y, normal.z );\n\t\t\t\tuvs.setXY( index, u, 1 - v );\n\t\n\t\t\t\tverticesRow.push( index );\n\t\n\t\t\t\tindex ++;\n\t\n\t\t\t}\n\t\n\t\t\tvertices.push( verticesRow );\n\t\n\t\t}\n\t\n\t\tvar indices = [];\n\t\n\t\tfor ( var y = 0; y < heightSegments; y ++ ) {\n\t\n\t\t\tfor ( var x = 0; x < widthSegments; x ++ ) {\n\t\n\t\t\t\tvar v1 = vertices[ y ][ x + 1 ];\n\t\t\t\tvar v2 = vertices[ y ][ x ];\n\t\t\t\tvar v3 = vertices[ y + 1 ][ x ];\n\t\t\t\tvar v4 = vertices[ y + 1 ][ x + 1 ];\n\t\n\t\t\t\tif ( y !== 0 || thetaStart > 0 ) indices.push( v1, v2, v4 );\n\t\t\t\tif ( y !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( v2, v3, v4 );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.setIndex( new ( positions.count > 65535 ? THREE.Uint32Attribute : THREE.Uint16Attribute )( indices, 1 ) );\n\t\tthis.addAttribute( 'position', positions );\n\t\tthis.addAttribute( 'normal', normals );\n\t\tthis.addAttribute( 'uv', uvs );\n\t\n\t\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\n\t\n\t};\n\t\n\tTHREE.SphereBufferGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\n\tTHREE.SphereBufferGeometry.prototype.constructor = THREE.SphereBufferGeometry;\n\t\n\tTHREE.SphereBufferGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.SphereBufferGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.widthSegments,\n\t\t\tparameters.heightSegments,\n\t\t\tparameters.phiStart,\n\t\t\tparameters.phiLength,\n\t\t\tparameters.thetaStart,\n\t\t\tparameters.thetaLength\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/TorusGeometry.js\n\t\n\t/**\n\t * @author oosmoxiecode\n\t * @author mrdoob / http://mrdoob.com/\n\t * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3DLite/src/away3dlite/primitives/Torus.as?r=2888\n\t */\n\t\n\tTHREE.TorusGeometry = function ( radius, tube, radialSegments, tubularSegments, arc ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'TorusGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\t\n\t\tradius = radius || 100;\n\t\ttube = tube || 40;\n\t\tradialSegments = radialSegments || 8;\n\t\ttubularSegments = tubularSegments || 6;\n\t\tarc = arc || Math.PI * 2;\n\t\n\t\tvar center = new THREE.Vector3(), uvs = [], normals = [];\n\t\n\t\tfor ( var j = 0; j <= radialSegments; j ++ ) {\n\t\n\t\t\tfor ( var i = 0; i <= tubularSegments; i ++ ) {\n\t\n\t\t\t\tvar u = i / tubularSegments * arc;\n\t\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\n\t\t\t\tvar vertex = new THREE.Vector3();\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\t\n\t\t\t\tthis.vertices.push( vertex );\n\t\n\t\t\t\tuvs.push( new THREE.Vector2( i / tubularSegments, j / radialSegments ) );\n\t\t\t\tnormals.push( vertex.clone().sub( center ).normalize() );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfor ( var j = 1; j <= radialSegments; j ++ ) {\n\t\n\t\t\tfor ( var i = 1; i <= tubularSegments; i ++ ) {\n\t\n\t\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\t\n\t\t\t\tvar face = new THREE.Face3( a, b, d, [ normals[ a ].clone(), normals[ b ].clone(), normals[ d ].clone() ] );\n\t\t\t\tthis.faces.push( face );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ a ].clone(), uvs[ b ].clone(), uvs[ d ].clone() ] );\n\t\n\t\t\t\tface = new THREE.Face3( b, c, d, [ normals[ b ].clone(), normals[ c ].clone(), normals[ d ].clone() ] );\n\t\t\t\tthis.faces.push( face );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvs[ b ].clone(), uvs[ c ].clone(), uvs[ d ].clone() ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.computeFaceNormals();\n\t\n\t};\n\t\n\tTHREE.TorusGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.TorusGeometry.prototype.constructor = THREE.TorusGeometry;\n\t\n\tTHREE.TorusGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.TorusGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.tube,\n\t\t\tparameters.radialSegments,\n\t\t\tparameters.tubularSegments,\n\t\t\tparameters.arc\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/TorusKnotGeometry.js\n\t\n\t/**\n\t * @author oosmoxiecode\n\t * based on http://code.google.com/p/away3d/source/browse/trunk/fp10/Away3D/src/away3d/primitives/TorusKnot.as?spec=svn2473&r=2473\n\t */\n\t\n\tTHREE.TorusKnotGeometry = function ( radius, tube, radialSegments, tubularSegments, p, q, heightScale ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'TorusKnotGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tp: p,\n\t\t\tq: q,\n\t\t\theightScale: heightScale\n\t\t};\n\t\n\t\tradius = radius || 100;\n\t\ttube = tube || 40;\n\t\tradialSegments = radialSegments || 64;\n\t\ttubularSegments = tubularSegments || 8;\n\t\tp = p || 2;\n\t\tq = q || 3;\n\t\theightScale = heightScale || 1;\n\t\n\t\tvar grid = new Array( radialSegments );\n\t\tvar tang = new THREE.Vector3();\n\t\tvar n = new THREE.Vector3();\n\t\tvar bitan = new THREE.Vector3();\n\t\n\t\tfor ( var i = 0; i < radialSegments; ++ i ) {\n\t\n\t\t\tgrid[ i ] = new Array( tubularSegments );\n\t\t\tvar u = i / radialSegments * 2 * p * Math.PI;\n\t\t\tvar p1 = getPos( u, q, p, radius, heightScale );\n\t\t\tvar p2 = getPos( u + 0.01, q, p, radius, heightScale );\n\t\t\ttang.subVectors( p2, p1 );\n\t\t\tn.addVectors( p2, p1 );\n\t\n\t\t\tbitan.crossVectors( tang, n );\n\t\t\tn.crossVectors( bitan, tang );\n\t\t\tbitan.normalize();\n\t\t\tn.normalize();\n\t\n\t\t\tfor ( var j = 0; j < tubularSegments; ++ j ) {\n\t\n\t\t\t\tvar v = j / tubularSegments * 2 * Math.PI;\n\t\t\t\tvar cx = - tube * Math.cos( v ); // TODO: Hack: Negating it so it faces outside.\n\t\t\t\tvar cy = tube * Math.sin( v );\n\t\n\t\t\t\tvar pos = new THREE.Vector3();\n\t\t\t\tpos.x = p1.x + cx * n.x + cy * bitan.x;\n\t\t\t\tpos.y = p1.y + cx * n.y + cy * bitan.y;\n\t\t\t\tpos.z = p1.z + cx * n.z + cy * bitan.z;\n\t\n\t\t\t\tgrid[ i ][ j ] = this.vertices.push( pos ) - 1;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfor ( var i = 0; i < radialSegments; ++ i ) {\n\t\n\t\t\tfor ( var j = 0; j < tubularSegments; ++ j ) {\n\t\n\t\t\t\tvar ip = ( i + 1 ) % radialSegments;\n\t\t\t\tvar jp = ( j + 1 ) % tubularSegments;\n\t\n\t\t\t\tvar a = grid[ i ][ j ];\n\t\t\t\tvar b = grid[ ip ][ j ];\n\t\t\t\tvar c = grid[ ip ][ jp ];\n\t\t\t\tvar d = grid[ i ][ jp ];\n\t\n\t\t\t\tvar uva = new THREE.Vector2( i / radialSegments, j / tubularSegments );\n\t\t\t\tvar uvb = new THREE.Vector2( ( i + 1 ) / radialSegments, j / tubularSegments );\n\t\t\t\tvar uvc = new THREE.Vector2( ( i + 1 ) / radialSegments, ( j + 1 ) / tubularSegments );\n\t\t\t\tvar uvd = new THREE.Vector2( i / radialSegments, ( j + 1 ) / tubularSegments );\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( a, b, d ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uva, uvb, uvd ] );\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( b, c, d ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvb.clone(), uvc, uvd.clone() ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.computeFaceNormals();\n\t\tthis.computeVertexNormals();\n\t\n\t\tfunction getPos( u, in_q, in_p, radius, heightScale ) {\n\t\n\t\t\tvar cu = Math.cos( u );\n\t\t\tvar su = Math.sin( u );\n\t\t\tvar quOverP = in_q / in_p * u;\n\t\t\tvar cs = Math.cos( quOverP );\n\t\n\t\t\tvar tx = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tvar ty = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tvar tz = heightScale * radius * Math.sin( quOverP ) * 0.5;\n\t\n\t\t\treturn new THREE.Vector3( tx, ty, tz );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.TorusKnotGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.TorusKnotGeometry.prototype.constructor = THREE.TorusKnotGeometry;\n\t\n\tTHREE.TorusKnotGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.TorusKnotGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.tube,\n\t\t\tparameters.radialSegments,\n\t\t\tparameters.tubularSegments,\n\t\t\tparameters.p,\n\t\t\tparameters.q,\n\t\t\tparameters.heightScale\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/TubeGeometry.js\n\t\n\t/**\n\t * @author WestLangley / https://github.com/WestLangley\n\t * @author zz85 / https://github.com/zz85\n\t * @author miningold / https://github.com/miningold\n\t * @author jonobr1 / https://github.com/jonobr1\n\t *\n\t * Modified from the TorusKnotGeometry by @oosmoxiecode\n\t *\n\t * Creates a tube which extrudes along a 3d spline\n\t *\n\t * Uses parallel transport frames as described in\n\t * http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\t */\n\t\n\tTHREE.TubeGeometry = function ( path, segments, radius, radialSegments, closed, taper ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'TubeGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\tsegments: segments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed,\n\t\t\ttaper: taper\n\t\t};\n\t\n\t\tsegments = segments || 64;\n\t\tradius = radius || 1;\n\t\tradialSegments = radialSegments || 8;\n\t\tclosed = closed || false;\n\t\ttaper = taper || THREE.TubeGeometry.NoTaper;\n\t\n\t\tvar grid = [];\n\t\n\t\tvar scope = this,\n\t\n\t\t\ttangent,\n\t\t\tnormal,\n\t\t\tbinormal,\n\t\n\t\t\tnumpoints = segments + 1,\n\t\n\t\t\tu, v, r,\n\t\n\t\t\tcx, cy,\n\t\t\tpos, pos2 = new THREE.Vector3(),\n\t\t\ti, j,\n\t\t\tip, jp,\n\t\t\ta, b, c, d,\n\t\t\tuva, uvb, uvc, uvd;\n\t\n\t\tvar frames = new THREE.TubeGeometry.FrenetFrames( path, segments, closed ),\n\t\t\ttangents = frames.tangents,\n\t\t\tnormals = frames.normals,\n\t\t\tbinormals = frames.binormals;\n\t\n\t\t// proxy internals\n\t\tthis.tangents = tangents;\n\t\tthis.normals = normals;\n\t\tthis.binormals = binormals;\n\t\n\t\tfunction vert( x, y, z ) {\n\t\n\t\t\treturn scope.vertices.push( new THREE.Vector3( x, y, z ) ) - 1;\n\t\n\t\t}\n\t\n\t\t// construct the grid\n\t\n\t\tfor ( i = 0; i < numpoints; i ++ ) {\n\t\n\t\t\tgrid[ i ] = [];\n\t\n\t\t\tu = i / ( numpoints - 1 );\n\t\n\t\t\tpos = path.getPointAt( u );\n\t\n\t\t\ttangent = tangents[ i ];\n\t\t\tnormal = normals[ i ];\n\t\t\tbinormal = binormals[ i ];\n\t\n\t\t\tr = radius * taper( u );\n\t\n\t\t\tfor ( j = 0; j < radialSegments; j ++ ) {\n\t\n\t\t\t\tv = j / radialSegments * 2 * Math.PI;\n\t\n\t\t\t\tcx = - r * Math.cos( v ); // TODO: Hack: Negating it so it faces outside.\n\t\t\t\tcy = r * Math.sin( v );\n\t\n\t\t\t\tpos2.copy( pos );\n\t\t\t\tpos2.x += cx * normal.x + cy * binormal.x;\n\t\t\t\tpos2.y += cx * normal.y + cy * binormal.y;\n\t\t\t\tpos2.z += cx * normal.z + cy * binormal.z;\n\t\n\t\t\t\tgrid[ i ][ j ] = vert( pos2.x, pos2.y, pos2.z );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\n\t\t// construct the mesh\n\t\n\t\tfor ( i = 0; i < segments; i ++ ) {\n\t\n\t\t\tfor ( j = 0; j < radialSegments; j ++ ) {\n\t\n\t\t\t\tip = ( closed ) ? ( i + 1 ) % segments : i + 1;\n\t\t\t\tjp = ( j + 1 ) % radialSegments;\n\t\n\t\t\t\ta = grid[ i ][ j ];\t\t// *** NOT NECESSARILY PLANAR ! ***\n\t\t\t\tb = grid[ ip ][ j ];\n\t\t\t\tc = grid[ ip ][ jp ];\n\t\t\t\td = grid[ i ][ jp ];\n\t\n\t\t\t\tuva = new THREE.Vector2( i / segments, j / radialSegments );\n\t\t\t\tuvb = new THREE.Vector2( ( i + 1 ) / segments, j / radialSegments );\n\t\t\t\tuvc = new THREE.Vector2( ( i + 1 ) / segments, ( j + 1 ) / radialSegments );\n\t\t\t\tuvd = new THREE.Vector2( i / segments, ( j + 1 ) / radialSegments );\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( a, b, d ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uva, uvb, uvd ] );\n\t\n\t\t\t\tthis.faces.push( new THREE.Face3( b, c, d ) );\n\t\t\t\tthis.faceVertexUvs[ 0 ].push( [ uvb.clone(), uvc, uvd.clone() ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tthis.computeFaceNormals();\n\t\tthis.computeVertexNormals();\n\t\n\t};\n\t\n\tTHREE.TubeGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.TubeGeometry.prototype.constructor = THREE.TubeGeometry;\n\tTHREE.TubeGeometry.prototype.clone = function() {\n\t\n\t\treturn new this.constructor( this.parameters.path,\n\t\t\tthis.parameters.segments, this.parameters.radius, this.parameters.radialSegments,\n\t\t\tthis.parameters.closed, this.parameters.taper\n\t\t);\n\t\n\t};\n\t\n\tTHREE.TubeGeometry.NoTaper = function ( u ) {\n\t\n\t\treturn 1;\n\t\n\t};\n\t\n\tTHREE.TubeGeometry.SinusoidalTaper = function ( u ) {\n\t\n\t\treturn Math.sin( Math.PI * u );\n\t\n\t};\n\t\n\t// For computing of Frenet frames, exposing the tangents, normals and binormals the spline\n\tTHREE.TubeGeometry.FrenetFrames = function ( path, segments, closed ) {\n\t\n\t\tvar\tnormal = new THREE.Vector3(),\n\t\n\t\t\ttangents = [],\n\t\t\tnormals = [],\n\t\t\tbinormals = [],\n\t\n\t\t\tvec = new THREE.Vector3(),\n\t\t\tmat = new THREE.Matrix4(),\n\t\n\t\t\tnumpoints = segments + 1,\n\t\t\ttheta,\n\t\t\tsmallest,\n\t\n\t\t\ttx, ty, tz,\n\t\t\ti, u;\n\t\n\t\n\t\t// expose internals\n\t\tthis.tangents = tangents;\n\t\tthis.normals = normals;\n\t\tthis.binormals = binormals;\n\t\n\t\t// compute the tangent vectors for each segment on the path\n\t\n\t\tfor ( i = 0; i < numpoints; i ++ ) {\n\t\n\t\t\tu = i / ( numpoints - 1 );\n\t\n\t\t\ttangents[ i ] = path.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\t\n\t\t}\n\t\n\t\tinitialNormal3();\n\t\n\t\t/*\n\t\tfunction initialNormal1(lastBinormal) {\n\t\t\t// fixed start binormal. Has dangers of 0 vectors\n\t\t\tnormals[ 0 ] = new THREE.Vector3();\n\t\t\tbinormals[ 0 ] = new THREE.Vector3();\n\t\t\tif (lastBinormal===undefined) lastBinormal = new THREE.Vector3( 0, 0, 1 );\n\t\t\tnormals[ 0 ].crossVectors( lastBinormal, tangents[ 0 ] ).normalize();\n\t\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] ).normalize();\n\t\t}\n\t\n\t\tfunction initialNormal2() {\n\t\n\t\t\t// This uses the Frenet-Serret formula for deriving binormal\n\t\t\tvar t2 = path.getTangentAt( epsilon );\n\t\n\t\t\tnormals[ 0 ] = new THREE.Vector3().subVectors( t2, tangents[ 0 ] ).normalize();\n\t\t\tbinormals[ 0 ] = new THREE.Vector3().crossVectors( tangents[ 0 ], normals[ 0 ] );\n\t\n\t\t\tnormals[ 0 ].crossVectors( binormals[ 0 ], tangents[ 0 ] ).normalize(); // last binormal x tangent\n\t\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] ).normalize();\n\t\n\t\t}\n\t\t*/\n\t\n\t\tfunction initialNormal3() {\n\t\n\t\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t\t// and in the direction of the smallest tangent xyz component\n\t\n\t\t\tnormals[ 0 ] = new THREE.Vector3();\n\t\t\tbinormals[ 0 ] = new THREE.Vector3();\n\t\t\tsmallest = Number.MAX_VALUE;\n\t\t\ttx = Math.abs( tangents[ 0 ].x );\n\t\t\tty = Math.abs( tangents[ 0 ].y );\n\t\t\ttz = Math.abs( tangents[ 0 ].z );\n\t\n\t\t\tif ( tx <= smallest ) {\n\t\n\t\t\t\tsmallest = tx;\n\t\t\t\tnormal.set( 1, 0, 0 );\n\t\n\t\t\t}\n\t\n\t\t\tif ( ty <= smallest ) {\n\t\n\t\t\t\tsmallest = ty;\n\t\t\t\tnormal.set( 0, 1, 0 );\n\t\n\t\t\t}\n\t\n\t\t\tif ( tz <= smallest ) {\n\t\n\t\t\t\tnormal.set( 0, 0, 1 );\n\t\n\t\t\t}\n\t\n\t\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\t\n\t\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\t\n\t\t}\n\t\n\t\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the path\n\t\n\t\tfor ( i = 1; i < numpoints; i ++ ) {\n\t\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\t\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\t\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\t\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\t\n\t\t\t\tvec.normalize();\n\t\n\t\t\t\ttheta = Math.acos( THREE.Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\t\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\t\n\t\t\t}\n\t\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\t\n\t\t}\n\t\n\t\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\t\n\t\tif ( closed ) {\n\t\n\t\t\ttheta = Math.acos( THREE.Math.clamp( normals[ 0 ].dot( normals[ numpoints - 1 ] ), - 1, 1 ) );\n\t\t\ttheta /= ( numpoints - 1 );\n\t\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ numpoints - 1 ] ) ) > 0 ) {\n\t\n\t\t\t\ttheta = - theta;\n\t\n\t\t\t}\n\t\n\t\t\tfor ( i = 1; i < numpoints; i ++ ) {\n\t\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\t// File:src/extras/geometries/PolyhedronGeometry.js\n\t\n\t/**\n\t * @author clockworkgeek / https://github.com/clockworkgeek\n\t * @author timothypratley / https://github.com/timothypratley\n\t * @author WestLangley / http://github.com/WestLangley\n\t*/\n\t\n\tTHREE.PolyhedronGeometry = function ( vertices, indices, radius, detail ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'PolyhedronGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\t\n\t\tradius = radius || 1;\n\t\tdetail = detail || 0;\n\t\n\t\tvar that = this;\n\t\n\t\tfor ( var i = 0, l = vertices.length; i < l; i += 3 ) {\n\t\n\t\t\tprepare( new THREE.Vector3( vertices[ i ], vertices[ i + 1 ], vertices[ i + 2 ] ) );\n\t\n\t\t}\n\t\n\t\tvar p = this.vertices;\n\t\n\t\tvar faces = [];\n\t\n\t\tfor ( var i = 0, j = 0, l = indices.length; i < l; i += 3, j ++ ) {\n\t\n\t\t\tvar v1 = p[ indices[ i ] ];\n\t\t\tvar v2 = p[ indices[ i + 1 ] ];\n\t\t\tvar v3 = p[ indices[ i + 2 ] ];\n\t\n\t\t\tfaces[ j ] = new THREE.Face3( v1.index, v2.index, v3.index, [ v1.clone(), v2.clone(), v3.clone() ], undefined, j );\n\t\n\t\t}\n\t\n\t\tvar centroid = new THREE.Vector3();\n\t\n\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\t\n\t\t\tsubdivide( faces[ i ], detail );\n\t\n\t\t}\n\t\n\t\n\t\t// Handle case when face straddles the seam\n\t\n\t\tfor ( var i = 0, l = this.faceVertexUvs[ 0 ].length; i < l; i ++ ) {\n\t\n\t\t\tvar uvs = this.faceVertexUvs[ 0 ][ i ];\n\t\n\t\t\tvar x0 = uvs[ 0 ].x;\n\t\t\tvar x1 = uvs[ 1 ].x;\n\t\t\tvar x2 = uvs[ 2 ].x;\n\t\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\t\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\t\n\t\t\t\t// 0.9 is somewhat arbitrary\n\t\n\t\t\t\tif ( x0 < 0.2 ) uvs[ 0 ].x += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvs[ 1 ].x += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvs[ 2 ].x += 1;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\n\t\t// Apply radius\n\t\n\t\tfor ( var i = 0, l = this.vertices.length; i < l; i ++ ) {\n\t\n\t\t\tthis.vertices[ i ].multiplyScalar( radius );\n\t\n\t\t}\n\t\n\t\n\t\t// Merge vertices\n\t\n\t\tthis.mergeVertices();\n\t\n\t\tthis.computeFaceNormals();\n\t\n\t\tthis.boundingSphere = new THREE.Sphere( new THREE.Vector3(), radius );\n\t\n\t\n\t\t// Project vector onto sphere's surface\n\t\n\t\tfunction prepare( vector ) {\n\t\n\t\t\tvar vertex = vector.normalize().clone();\n\t\t\tvertex.index = that.vertices.push( vertex ) - 1;\n\t\n\t\t\t// Texture coords are equivalent to map coords, calculate angle and convert to fraction of a circle.\n\t\n\t\t\tvar u = azimuth( vector ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vector ) / Math.PI + 0.5;\n\t\t\tvertex.uv = new THREE.Vector2( u, 1 - v );\n\t\n\t\t\treturn vertex;\n\t\n\t\t}\n\t\n\t\n\t\t// Approximate a curved face with recursively sub-divided triangles.\n\t\n\t\tfunction make( v1, v2, v3, materialIndex ) {\n\t\n\t\t\tvar face = new THREE.Face3( v1.index, v2.index, v3.index, [ v1.clone(), v2.clone(), v3.clone() ], undefined, materialIndex );\n\t\t\tthat.faces.push( face );\n\t\n\t\t\tcentroid.copy( v1 ).add( v2 ).add( v3 ).divideScalar( 3 );\n\t\n\t\t\tvar azi = azimuth( centroid );\n\t\n\t\t\tthat.faceVertexUvs[ 0 ].push( [\n\t\t\t\tcorrectUV( v1.uv, v1, azi ),\n\t\t\t\tcorrectUV( v2.uv, v2, azi ),\n\t\t\t\tcorrectUV( v3.uv, v3, azi )\n\t\t\t] );\n\t\n\t\t}\n\t\n\t\n\t\t// Analytically subdivide a face to the required detail level.\n\t\n\t\tfunction subdivide( face, detail ) {\n\t\n\t\t\tvar cols = Math.pow( 2, detail );\n\t\t\tvar a = prepare( that.vertices[ face.a ] );\n\t\t\tvar b = prepare( that.vertices[ face.b ] );\n\t\t\tvar c = prepare( that.vertices[ face.c ] );\n\t\t\tvar v = [];\n\t\n\t\t\tvar materialIndex = face.materialIndex;\n\t\n\t\t\t// Construct all of the vertices for this subdivision.\n\t\n\t\t\tfor ( var i = 0 ; i <= cols; i ++ ) {\n\t\n\t\t\t\tv[ i ] = [];\n\t\n\t\t\t\tvar aj = prepare( a.clone().lerp( c, i / cols ) );\n\t\t\t\tvar bj = prepare( b.clone().lerp( c, i / cols ) );\n\t\t\t\tvar rows = cols - i;\n\t\n\t\t\t\tfor ( var j = 0; j <= rows; j ++ ) {\n\t\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\t\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tv[ i ][ j ] = prepare( aj.clone().lerp( bj, j / rows ) );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\t// Construct all of the faces.\n\t\n\t\t\tfor ( var i = 0; i < cols ; i ++ ) {\n\t\n\t\t\t\tfor ( var j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\t\n\t\t\t\t\tvar k = Math.floor( j / 2 );\n\t\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\t\n\t\t\t\t\t\tmake(\n\t\t\t\t\t\t\tv[ i ][ k + 1 ],\n\t\t\t\t\t\t\tv[ i + 1 ][ k ],\n\t\t\t\t\t\t\tv[ i ][ k ],\n\t\t\t\t\t\t\tmaterialIndex\n\t\t\t\t\t\t);\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tmake(\n\t\t\t\t\t\t\tv[ i ][ k + 1 ],\n\t\t\t\t\t\t\tv[ i + 1 ][ k + 1 ],\n\t\t\t\t\t\t\tv[ i + 1 ][ k ],\n\t\t\t\t\t\t\tmaterialIndex\n\t\t\t\t\t\t);\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\t\n\t\tfunction azimuth( vector ) {\n\t\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\t\n\t\t}\n\t\n\t\n\t\t// Angle above the XZ plane.\n\t\n\t\tfunction inclination( vector ) {\n\t\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\t\n\t\t}\n\t\n\t\n\t\t// Texture fixing helper. Spheres have some odd behaviours.\n\t\n\t\tfunction correctUV( uv, vector, azimuth ) {\n\t\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) uv = new THREE.Vector2( uv.x - 1, uv.y );\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) uv = new THREE.Vector2( azimuth / 2 / Math.PI + 0.5, uv.y );\n\t\t\treturn uv.clone();\n\t\n\t\t}\n\t\n\t\n\t};\n\t\n\tTHREE.PolyhedronGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.PolyhedronGeometry.prototype.constructor = THREE.PolyhedronGeometry;\n\t\n\tTHREE.PolyhedronGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.PolyhedronGeometry(\n\t\t\tparameters.vertices,\n\t\t\tparameters.indices,\n\t\t\tparameters.radius,\n\t\t\tparameters.detail\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/DodecahedronGeometry.js\n\t\n\t/**\n\t * @author Abe Pazos / https://hamoid.com\n\t */\n\t\n\tTHREE.DodecahedronGeometry = function ( radius, detail ) {\n\t\n\t\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tvar r = 1 / t;\n\t\n\t\tvar vertices = [\n\t\n\t\t\t// (1, 1, 1)\n\t\t\t- 1, - 1, - 1,    - 1, - 1,  1,\n\t\t\t- 1,  1, - 1,    - 1,  1,  1,\n\t\t\t 1, - 1, - 1,     1, - 1,  1,\n\t\t\t 1,  1, - 1,     1,  1,  1,\n\t\n\t\t\t// (0, 1/, )\n\t\t\t 0, - r, - t,     0, - r,  t,\n\t\t\t 0,  r, - t,     0,  r,  t,\n\t\n\t\t\t// (1/, , 0)\n\t\t\t- r, - t,  0,    - r,  t,  0,\n\t\t\t r, - t,  0,     r,  t,  0,\n\t\n\t\t\t// (, 0, 1/)\n\t\t\t- t,  0, - r,     t,  0, - r,\n\t\t\t- t,  0,  r,     t,  0,  r\n\t\t];\n\t\n\t\tvar indices = [\n\t\t\t 3, 11,  7,      3,  7, 15,      3, 15, 13,\n\t\t\t 7, 19, 17,      7, 17,  6,      7,  6, 15,\n\t\t\t17,  4,  8,     17,  8, 10,     17, 10,  6,\n\t\t\t 8,  0, 16,      8, 16,  2,      8,  2, 10,\n\t\t\t 0, 12,  1,      0,  1, 18,      0, 18, 16,\n\t\t\t 6, 10,  2,      6,  2, 13,      6, 13, 15,\n\t\t\t 2, 16, 18,      2, 18,  3,      2,  3, 13,\n\t\t\t18,  1,  9,     18,  9, 11,     18, 11,  3,\n\t\t\t 4, 14, 12,      4, 12,  0,      4,  0,  8,\n\t\t\t11,  9,  5,     11,  5, 19,     11, 19,  7,\n\t\t\t19,  5, 14,     19, 14,  4,     19,  4, 17,\n\t\t\t 1, 12, 14,      1, 14,  5,      1,  5,  9\n\t\t];\n\t\n\t\tTHREE.PolyhedronGeometry.call( this, vertices, indices, radius, detail );\n\t\n\t\tthis.type = 'DodecahedronGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\t\n\t};\n\t\n\tTHREE.DodecahedronGeometry.prototype = Object.create( THREE.PolyhedronGeometry.prototype );\n\tTHREE.DodecahedronGeometry.prototype.constructor = THREE.DodecahedronGeometry;\n\t\n\tTHREE.DodecahedronGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.DodecahedronGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.detail\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/IcosahedronGeometry.js\n\t\n\t/**\n\t * @author timothypratley / https://github.com/timothypratley\n\t */\n\t\n\tTHREE.IcosahedronGeometry = function ( radius, detail ) {\n\t\n\t\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\n\t\tvar vertices = [\n\t\t\t- 1,  t,  0,    1,  t,  0,   - 1, - t,  0,    1, - t,  0,\n\t\t\t 0, - 1,  t,    0,  1,  t,    0, - 1, - t,    0,  1, - t,\n\t\t\t t,  0, - 1,    t,  0,  1,   - t,  0, - 1,   - t,  0,  1\n\t\t];\n\t\n\t\tvar indices = [\n\t\t\t 0, 11,  5,    0,  5,  1,    0,  1,  7,    0,  7, 10,    0, 10, 11,\n\t\t\t 1,  5,  9,    5, 11,  4,   11, 10,  2,   10,  7,  6,    7,  1,  8,\n\t\t\t 3,  9,  4,    3,  4,  2,    3,  2,  6,    3,  6,  8,    3,  8,  9,\n\t\t\t 4,  9,  5,    2,  4, 11,    6,  2, 10,    8,  6,  7,    9,  8,  1\n\t\t];\n\t\n\t\tTHREE.PolyhedronGeometry.call( this, vertices, indices, radius, detail );\n\t\n\t\tthis.type = 'IcosahedronGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\t\n\t};\n\t\n\tTHREE.IcosahedronGeometry.prototype = Object.create( THREE.PolyhedronGeometry.prototype );\n\tTHREE.IcosahedronGeometry.prototype.constructor = THREE.IcosahedronGeometry;\n\t\n\tTHREE.IcosahedronGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.IcosahedronGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.detail\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/OctahedronGeometry.js\n\t\n\t/**\n\t * @author timothypratley / https://github.com/timothypratley\n\t */\n\t\n\tTHREE.OctahedronGeometry = function ( radius, detail ) {\n\t\n\t\tvar vertices = [\n\t\t\t1, 0, 0,   - 1, 0, 0,    0, 1, 0,    0, - 1, 0,    0, 0, 1,    0, 0, - 1\n\t\t];\n\t\n\t\tvar indices = [\n\t\t\t0, 2, 4,    0, 4, 3,    0, 3, 5,    0, 5, 2,    1, 2, 5,    1, 5, 3,    1, 3, 4,    1, 4, 2\n\t\t];\n\t\n\t\tTHREE.PolyhedronGeometry.call( this, vertices, indices, radius, detail );\n\t\n\t\tthis.type = 'OctahedronGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\t\n\t};\n\t\n\tTHREE.OctahedronGeometry.prototype = Object.create( THREE.PolyhedronGeometry.prototype );\n\tTHREE.OctahedronGeometry.prototype.constructor = THREE.OctahedronGeometry;\n\t\n\tTHREE.OctahedronGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.OctahedronGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.detail\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/TetrahedronGeometry.js\n\t\n\t/**\n\t * @author timothypratley / https://github.com/timothypratley\n\t */\n\t\n\tTHREE.TetrahedronGeometry = function ( radius, detail ) {\n\t\n\t\tvar vertices = [\n\t\t\t 1,  1,  1,   - 1, - 1,  1,   - 1,  1, - 1,    1, - 1, - 1\n\t\t];\n\t\n\t\tvar indices = [\n\t\t\t 2,  1,  0,    0,  3,  2,    1,  3,  0,    2,  3,  1\n\t\t];\n\t\n\t\tTHREE.PolyhedronGeometry.call( this, vertices, indices, radius, detail );\n\t\n\t\tthis.type = 'TetrahedronGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\t\n\t};\n\t\n\tTHREE.TetrahedronGeometry.prototype = Object.create( THREE.PolyhedronGeometry.prototype );\n\tTHREE.TetrahedronGeometry.prototype.constructor = THREE.TetrahedronGeometry;\n\t\n\tTHREE.TetrahedronGeometry.prototype.clone = function () {\n\t\n\t\tvar parameters = this.parameters;\n\t\n\t\treturn new THREE.TetrahedronGeometry(\n\t\t\tparameters.radius,\n\t\t\tparameters.detail\n\t\t);\n\t\n\t};\n\t\n\t// File:src/extras/geometries/ParametricGeometry.js\n\t\n\t/**\n\t * @author zz85 / https://github.com/zz85\n\t * Parametric Surfaces Geometry\n\t * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\n\t *\n\t * new THREE.ParametricGeometry( parametricFunction, uSegments, ySegements );\n\t *\n\t */\n\t\n\tTHREE.ParametricGeometry = function ( func, slices, stacks ) {\n\t\n\t\tTHREE.Geometry.call( this );\n\t\n\t\tthis.type = 'ParametricGeometry';\n\t\n\t\tthis.parameters = {\n\t\t\tfunc: func,\n\t\t\tslices: slices,\n\t\t\tstacks: stacks\n\t\t};\n\t\n\t\tvar verts = this.vertices;\n\t\tvar faces = this.faces;\n\t\tvar uvs = this.faceVertexUvs[ 0 ];\n\t\n\t\tvar i, j, p;\n\t\tvar u, v;\n\t\n\t\tvar sliceCount = slices + 1;\n\t\n\t\tfor ( i = 0; i <= stacks; i ++ ) {\n\t\n\t\t\tv = i / stacks;\n\t\n\t\t\tfor ( j = 0; j <= slices; j ++ ) {\n\t\n\t\t\t\tu = j / slices;\n\t\n\t\t\t\tp = func( u, v );\n\t\t\t\tverts.push( p );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tvar a, b, c, d;\n\t\tvar uva, uvb, uvc, uvd;\n\t\n\t\tfor ( i = 0; i < stacks; i ++ ) {\n\t\n\t\t\tfor ( j = 0; j < slices; j ++ ) {\n\t\n\t\t\t\ta = i * sliceCount + j;\n\t\t\t\tb = i * sliceCount + j + 1;\n\t\t\t\tc = ( i + 1 ) * sliceCount + j + 1;\n\t\t\t\td = ( i + 1 ) * sliceCount + j;\n\t\n\t\t\t\tuva = new THREE.Vector2( j / slices, i / stacks );\n\t\t\t\tuvb = new THREE.Vector2( ( j + 1 ) / slices, i / stacks );\n\t\t\t\tuvc = new THREE.Vector2( ( j + 1 ) / slices, ( i + 1 ) / stacks );\n\t\t\t\tuvd = new THREE.Vector2( j / slices, ( i + 1 ) / stacks );\n\t\n\t\t\t\tfaces.push( new THREE.Face3( a, b, d ) );\n\t\t\t\tuvs.push( [ uva, uvb, uvd ] );\n\t\n\t\t\t\tfaces.push( new THREE.Face3( b, c, d ) );\n\t\t\t\tuvs.push( [ uvb.clone(), uvc, uvd.clone() ] );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\t// console.log(this);\n\t\n\t\t// magic bullet\n\t\t// var diff = this.mergeVertices();\n\t\t// console.log('removed ', diff, ' vertices by merging');\n\t\n\t\tthis.computeFaceNormals();\n\t\tthis.computeVertexNormals();\n\t\n\t};\n\t\n\tTHREE.ParametricGeometry.prototype = Object.create( THREE.Geometry.prototype );\n\tTHREE.ParametricGeometry.prototype.constructor = THREE.ParametricGeometry;\n\t\n\t// File:src/extras/geometries/WireframeGeometry.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.WireframeGeometry = function ( geometry ) {\n\t\n\t\tTHREE.BufferGeometry.call( this );\n\t\n\t\tvar edge = [ 0, 0 ], hash = {};\n\t\n\t\tfunction sortFunction( a, b ) {\n\t\n\t\t\treturn a - b;\n\t\n\t\t}\n\t\n\t\tvar keys = [ 'a', 'b', 'c' ];\n\t\n\t\tif ( geometry instanceof THREE.Geometry ) {\n\t\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar faces = geometry.faces;\n\t\t\tvar numEdges = 0;\n\t\n\t\t\t// allocate maximal size\n\t\t\tvar edges = new Uint32Array( 6 * faces.length );\n\t\n\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar face = faces[ i ];\n\t\n\t\t\t\tfor ( var j = 0; j < 3; j ++ ) {\n\t\n\t\t\t\t\tedge[ 0 ] = face[ keys[ j ] ];\n\t\t\t\t\tedge[ 1 ] = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\t\tedge.sort( sortFunction );\n\t\n\t\t\t\t\tvar key = edge.toString();\n\t\n\t\t\t\t\tif ( hash[ key ] === undefined ) {\n\t\n\t\t\t\t\t\tedges[ 2 * numEdges ] = edge[ 0 ];\n\t\t\t\t\t\tedges[ 2 * numEdges + 1 ] = edge[ 1 ];\n\t\t\t\t\t\thash[ key ] = true;\n\t\t\t\t\t\tnumEdges ++;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tvar coords = new Float32Array( numEdges * 2 * 3 );\n\t\n\t\t\tfor ( var i = 0, l = numEdges; i < l; i ++ ) {\n\t\n\t\t\t\tfor ( var j = 0; j < 2; j ++ ) {\n\t\n\t\t\t\t\tvar vertex = vertices[ edges [ 2 * i + j ] ];\n\t\n\t\t\t\t\tvar index = 6 * i + 3 * j;\n\t\t\t\t\tcoords[ index + 0 ] = vertex.x;\n\t\t\t\t\tcoords[ index + 1 ] = vertex.y;\n\t\t\t\t\tcoords[ index + 2 ] = vertex.z;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( coords, 3 ) );\n\t\n\t\t} else if ( geometry instanceof THREE.BufferGeometry ) {\n\t\n\t\t\tif ( geometry.index !== null ) {\n\t\n\t\t\t\t// Indexed BufferGeometry\n\t\n\t\t\t\tvar indices = geometry.index.array;\n\t\t\t\tvar vertices = geometry.attributes.position;\n\t\t\t\tvar drawcalls = geometry.drawcalls;\n\t\t\t\tvar numEdges = 0;\n\t\n\t\t\t\tif ( drawcalls.length === 0 ) {\n\t\n\t\t\t\t\tgeometry.addGroup( 0, indices.length );\n\t\n\t\t\t\t}\n\t\n\t\t\t\t// allocate maximal size\n\t\t\t\tvar edges = new Uint32Array( 2 * indices.length );\n\t\n\t\t\t\tfor ( var o = 0, ol = drawcalls.length; o < ol; ++ o ) {\n\t\n\t\t\t\t\tvar drawcall = drawcalls[ o ];\n\t\n\t\t\t\t\tvar start = drawcall.start;\n\t\t\t\t\tvar count = drawcall.count;\n\t\n\t\t\t\t\tfor ( var i = start, il = start + count; i < il; i += 3 ) {\n\t\n\t\t\t\t\t\tfor ( var j = 0; j < 3; j ++ ) {\n\t\n\t\t\t\t\t\t\tedge[ 0 ] = indices[ i + j ];\n\t\t\t\t\t\t\tedge[ 1 ] = indices[ i + ( j + 1 ) % 3 ];\n\t\t\t\t\t\t\tedge.sort( sortFunction );\n\t\n\t\t\t\t\t\t\tvar key = edge.toString();\n\t\n\t\t\t\t\t\t\tif ( hash[ key ] === undefined ) {\n\t\n\t\t\t\t\t\t\t\tedges[ 2 * numEdges ] = edge[ 0 ];\n\t\t\t\t\t\t\t\tedges[ 2 * numEdges + 1 ] = edge[ 1 ];\n\t\t\t\t\t\t\t\thash[ key ] = true;\n\t\t\t\t\t\t\t\tnumEdges ++;\n\t\n\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tvar coords = new Float32Array( numEdges * 2 * 3 );\n\t\n\t\t\t\tfor ( var i = 0, l = numEdges; i < l; i ++ ) {\n\t\n\t\t\t\t\tfor ( var j = 0; j < 2; j ++ ) {\n\t\n\t\t\t\t\t\tvar index = 6 * i + 3 * j;\n\t\t\t\t\t\tvar index2 = edges[ 2 * i + j ];\n\t\n\t\t\t\t\t\tcoords[ index + 0 ] = vertices.getX( index2 );\n\t\t\t\t\t\tcoords[ index + 1 ] = vertices.getY( index2 );\n\t\t\t\t\t\tcoords[ index + 2 ] = vertices.getZ( index2 );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( coords, 3 ) );\n\t\n\t\t\t} else {\n\t\n\t\t\t\t// non-indexed BufferGeometry\n\t\n\t\t\t\tvar vertices = geometry.attributes.position.array;\n\t\t\t\tvar numEdges = vertices.length / 3;\n\t\t\t\tvar numTris = numEdges / 3;\n\t\n\t\t\t\tvar coords = new Float32Array( numEdges * 2 * 3 );\n\t\n\t\t\t\tfor ( var i = 0, l = numTris; i < l; i ++ ) {\n\t\n\t\t\t\t\tfor ( var j = 0; j < 3; j ++ ) {\n\t\n\t\t\t\t\t\tvar index = 18 * i + 6 * j;\n\t\n\t\t\t\t\t\tvar index1 = 9 * i + 3 * j;\n\t\t\t\t\t\tcoords[ index + 0 ] = vertices[ index1 ];\n\t\t\t\t\t\tcoords[ index + 1 ] = vertices[ index1 + 1 ];\n\t\t\t\t\t\tcoords[ index + 2 ] = vertices[ index1 + 2 ];\n\t\n\t\t\t\t\t\tvar index2 = 9 * i + 3 * ( ( j + 1 ) % 3 );\n\t\t\t\t\t\tcoords[ index + 3 ] = vertices[ index2 ];\n\t\t\t\t\t\tcoords[ index + 4 ] = vertices[ index2 + 1 ];\n\t\t\t\t\t\tcoords[ index + 5 ] = vertices[ index2 + 2 ];\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis.addAttribute( 'position', new THREE.BufferAttribute( coords, 3 ) );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.WireframeGeometry.prototype = Object.create( THREE.BufferGeometry.prototype );\n\tTHREE.WireframeGeometry.prototype.constructor = THREE.WireframeGeometry;\n\t\n\t// File:src/extras/helpers/AxisHelper.js\n\t\n\t/**\n\t * @author sroucheray / http://sroucheray.org/\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.AxisHelper = function ( size ) {\n\t\n\t\tsize = size || 1;\n\t\n\t\tvar vertices = new Float32Array( [\n\t\t\t0, 0, 0,  size, 0, 0,\n\t\t\t0, 0, 0,  0, size, 0,\n\t\t\t0, 0, 0,  0, 0, size\n\t\t] );\n\t\n\t\tvar colors = new Float32Array( [\n\t\t\t1, 0, 0,  1, 0.6, 0,\n\t\t\t0, 1, 0,  0.6, 1, 0,\n\t\t\t0, 0, 1,  0, 0.6, 1\n\t\t] );\n\t\n\t\tvar geometry = new THREE.BufferGeometry();\n\t\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( vertices, 3 ) );\n\t\tgeometry.addAttribute( 'color', new THREE.BufferAttribute( colors, 3 ) );\n\t\n\t\tvar material = new THREE.LineBasicMaterial( { vertexColors: THREE.VertexColors } );\n\t\n\t\tTHREE.LineSegments.call( this, geometry, material );\n\t\n\t};\n\t\n\tTHREE.AxisHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.AxisHelper.prototype.constructor = THREE.AxisHelper;\n\t\n\t// File:src/extras/helpers/ArrowHelper.js\n\t\n\t/**\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author zz85 / http://github.com/zz85\n\t * @author bhouston / http://clara.io\n\t *\n\t * Creates an arrow for visualizing directions\n\t *\n\t * Parameters:\n\t *  dir - Vector3\n\t *  origin - Vector3\n\t *  length - Number\n\t *  color - color in hex value\n\t *  headLength - Number\n\t *  headWidth - Number\n\t */\n\t\n\tTHREE.ArrowHelper = ( function () {\n\t\n\t\tvar lineGeometry = new THREE.Geometry();\n\t\tlineGeometry.vertices.push( new THREE.Vector3( 0, 0, 0 ), new THREE.Vector3( 0, 1, 0 ) );\n\t\n\t\tvar coneGeometry = new THREE.CylinderGeometry( 0, 0.5, 1, 5, 1 );\n\t\tconeGeometry.translate( 0, - 0.5, 0 );\n\t\n\t\treturn function ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\t\n\t\t\t// dir is assumed to be normalized\n\t\n\t\t\tTHREE.Object3D.call( this );\n\t\n\t\t\tif ( color === undefined ) color = 0xffff00;\n\t\t\tif ( length === undefined ) length = 1;\n\t\t\tif ( headLength === undefined ) headLength = 0.2 * length;\n\t\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\t\n\t\t\tthis.position.copy( origin );\n\t\t\t\n\t\t\tif ( headLength < length ) {\n\t\t\t\tthis.line = new THREE.Line( lineGeometry, new THREE.LineBasicMaterial( { color: color } ) );\n\t\t\t\tthis.line.matrixAutoUpdate = false;\n\t\t\t\tthis.add( this.line );\n\t\t\t}\n\t\n\t\t\tthis.cone = new THREE.Mesh( coneGeometry, new THREE.MeshBasicMaterial( { color: color } ) );\n\t\t\tthis.cone.matrixAutoUpdate = false;\n\t\t\tthis.add( this.cone );\n\t\n\t\t\tthis.setDirection( dir );\n\t\t\tthis.setLength( length, headLength, headWidth );\n\t\n\t\t}\n\t\n\t}() );\n\t\n\tTHREE.ArrowHelper.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.ArrowHelper.prototype.constructor = THREE.ArrowHelper;\n\t\n\tTHREE.ArrowHelper.prototype.setDirection = ( function () {\n\t\n\t\tvar axis = new THREE.Vector3();\n\t\tvar radians;\n\t\n\t\treturn function setDirection( dir ) {\n\t\n\t\t\t// dir is assumed to be normalized\n\t\n\t\t\tif ( dir.y > 0.99999 ) {\n\t\n\t\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\t\n\t\t\t} else if ( dir.y < - 0.99999 ) {\n\t\n\t\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\t\n\t\t\t} else {\n\t\n\t\t\t\taxis.set( dir.z, 0, - dir.x ).normalize();\n\t\n\t\t\t\tradians = Math.acos( dir.y );\n\t\n\t\t\t\tthis.quaternion.setFromAxisAngle( axis, radians );\n\t\n\t\t\t}\n\t\n\t\t};\n\t\n\t}() );\n\t\n\tTHREE.ArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\t\n\t\tif ( headLength === undefined ) headLength = 0.2 * length;\n\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\t\n\t\tif ( headLength < length ){\n\t\t\tthis.line.scale.set( 1, length - headLength, 1 );\n\t\t\tthis.line.updateMatrix();\n\t\t}\n\t\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\t\n\t};\n\t\n\tTHREE.ArrowHelper.prototype.setColor = function ( color ) {\n\t\n\t\tif ( this.line !== undefined ) this.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\t\n\t};\n\t\n\t// File:src/extras/helpers/BoxHelper.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.BoxHelper = function ( object ) {\n\t\n\t\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tvar positions = new Float32Array( 8 * 3 );\n\t\n\t\tvar geometry = new THREE.BufferGeometry();\n\t\tgeometry.setIndex( new THREE.BufferAttribute( indices, 1 ) );\n\t\tgeometry.addAttribute( 'position', new THREE.BufferAttribute( positions, 3 ) );\n\t\n\t\tTHREE.LineSegments.call( this, geometry, new THREE.LineBasicMaterial( { color: 0xffff00 } ) );\n\t\n\t\tif ( object !== undefined ) {\n\t\n\t\t\tthis.update( object );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.BoxHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.BoxHelper.prototype.constructor = THREE.BoxHelper;\n\t\n\tTHREE.BoxHelper.prototype.update = ( function () {\n\t\n\t\tvar box = new THREE.Box3();\n\t\n\t\treturn function ( object ) {\n\t\n\t\t\tbox.setFromObject( object );\n\t\n\t\t\tif ( box.empty() ) return;\n\t\n\t\t\tvar min = box.min;\n\t\t\tvar max = box.max;\n\t\n\t\t\t/*\n\t\t\t  5____4\n\t\t\t1/___0/|\n\t\t\t| 6__|_7\n\t\t\t2/___3/\n\t\n\t\t\t0: max.x, max.y, max.z\n\t\t\t1: min.x, max.y, max.z\n\t\t\t2: min.x, min.y, max.z\n\t\t\t3: max.x, min.y, max.z\n\t\t\t4: max.x, max.y, min.z\n\t\t\t5: min.x, max.y, min.z\n\t\t\t6: min.x, min.y, min.z\n\t\t\t7: max.x, min.y, min.z\n\t\t\t*/\n\t\n\t\t\tvar position = this.geometry.attributes.position;\n\t\t\tvar array = position.array;\n\t\n\t\t\tarray[  0 ] = max.x; array[  1 ] = max.y; array[  2 ] = max.z;\n\t\t\tarray[  3 ] = min.x; array[  4 ] = max.y; array[  5 ] = max.z;\n\t\t\tarray[  6 ] = min.x; array[  7 ] = min.y; array[  8 ] = max.z;\n\t\t\tarray[  9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\t\n\t\t\tposition.needsUpdate = true;\n\t\n\t\t\tthis.geometry.computeBoundingSphere();\n\t\n\t\t}\n\t\n\t} )();\n\t\n\t// File:src/extras/helpers/BoundingBoxHelper.js\n\t\n\t/**\n\t * @author WestLangley / http://github.com/WestLangley\n\t */\n\t\n\t// a helper to show the world-axis-aligned bounding box for an object\n\t\n\tTHREE.BoundingBoxHelper = function ( object, hex ) {\n\t\n\t\tvar color = ( hex !== undefined ) ? hex : 0x888888;\n\t\n\t\tthis.object = object;\n\t\n\t\tthis.box = new THREE.Box3();\n\t\n\t\tTHREE.Mesh.call( this, new THREE.BoxGeometry( 1, 1, 1 ), new THREE.MeshBasicMaterial( { color: color, wireframe: true } ) );\n\t\n\t};\n\t\n\tTHREE.BoundingBoxHelper.prototype = Object.create( THREE.Mesh.prototype );\n\tTHREE.BoundingBoxHelper.prototype.constructor = THREE.BoundingBoxHelper;\n\t\n\tTHREE.BoundingBoxHelper.prototype.update = function () {\n\t\n\t\tthis.box.setFromObject( this.object );\n\t\n\t\tthis.box.size( this.scale );\n\t\n\t\tthis.box.center( this.position );\n\t\n\t};\n\t\n\t// File:src/extras/helpers/CameraHelper.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t *\n\t *\t- shows frustum, line of sight and up of the camera\n\t *\t- suitable for fast updates\n\t * \t- based on frustum visualization in lightgl.js shadowmap example\n\t *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n\t */\n\t\n\tTHREE.CameraHelper = function ( camera ) {\n\t\n\t\tvar geometry = new THREE.Geometry();\n\t\tvar material = new THREE.LineBasicMaterial( { color: 0xffffff, vertexColors: THREE.FaceColors } );\n\t\n\t\tvar pointMap = {};\n\t\n\t\t// colors\n\t\n\t\tvar hexFrustum = 0xffaa00;\n\t\tvar hexCone = 0xff0000;\n\t\tvar hexUp = 0x00aaff;\n\t\tvar hexTarget = 0xffffff;\n\t\tvar hexCross = 0x333333;\n\t\n\t\t// near\n\t\n\t\taddLine( \"n1\", \"n2\", hexFrustum );\n\t\taddLine( \"n2\", \"n4\", hexFrustum );\n\t\taddLine( \"n4\", \"n3\", hexFrustum );\n\t\taddLine( \"n3\", \"n1\", hexFrustum );\n\t\n\t\t// far\n\t\n\t\taddLine( \"f1\", \"f2\", hexFrustum );\n\t\taddLine( \"f2\", \"f4\", hexFrustum );\n\t\taddLine( \"f4\", \"f3\", hexFrustum );\n\t\taddLine( \"f3\", \"f1\", hexFrustum );\n\t\n\t\t// sides\n\t\n\t\taddLine( \"n1\", \"f1\", hexFrustum );\n\t\taddLine( \"n2\", \"f2\", hexFrustum );\n\t\taddLine( \"n3\", \"f3\", hexFrustum );\n\t\taddLine( \"n4\", \"f4\", hexFrustum );\n\t\n\t\t// cone\n\t\n\t\taddLine( \"p\", \"n1\", hexCone );\n\t\taddLine( \"p\", \"n2\", hexCone );\n\t\taddLine( \"p\", \"n3\", hexCone );\n\t\taddLine( \"p\", \"n4\", hexCone );\n\t\n\t\t// up\n\t\n\t\taddLine( \"u1\", \"u2\", hexUp );\n\t\taddLine( \"u2\", \"u3\", hexUp );\n\t\taddLine( \"u3\", \"u1\", hexUp );\n\t\n\t\t// target\n\t\n\t\taddLine( \"c\", \"t\", hexTarget );\n\t\taddLine( \"p\", \"c\", hexCross );\n\t\n\t\t// cross\n\t\n\t\taddLine( \"cn1\", \"cn2\", hexCross );\n\t\taddLine( \"cn3\", \"cn4\", hexCross );\n\t\n\t\taddLine( \"cf1\", \"cf2\", hexCross );\n\t\taddLine( \"cf3\", \"cf4\", hexCross );\n\t\n\t\tfunction addLine( a, b, hex ) {\n\t\n\t\t\taddPoint( a, hex );\n\t\t\taddPoint( b, hex );\n\t\n\t\t}\n\t\n\t\tfunction addPoint( id, hex ) {\n\t\n\t\t\tgeometry.vertices.push( new THREE.Vector3() );\n\t\t\tgeometry.colors.push( new THREE.Color( hex ) );\n\t\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\t\n\t\t\t\tpointMap[ id ] = [];\n\t\n\t\t\t}\n\t\n\t\t\tpointMap[ id ].push( geometry.vertices.length - 1 );\n\t\n\t\t}\n\t\n\t\tTHREE.LineSegments.call( this, geometry, material );\n\t\n\t\tthis.camera = camera;\n\t\tthis.camera.updateProjectionMatrix();\n\t\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t\tthis.pointMap = pointMap;\n\t\n\t\tthis.update();\n\t\n\t};\n\t\n\tTHREE.CameraHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.CameraHelper.prototype.constructor = THREE.CameraHelper;\n\t\n\tTHREE.CameraHelper.prototype.update = function () {\n\t\n\t\tvar geometry, pointMap;\n\t\n\t\tvar vector = new THREE.Vector3();\n\t\tvar camera = new THREE.Camera();\n\t\n\t\tfunction setPoint( point, x, y, z ) {\n\t\n\t\t\tvector.set( x, y, z ).unproject( camera );\n\t\n\t\t\tvar points = pointMap[ point ];\n\t\n\t\t\tif ( points !== undefined ) {\n\t\n\t\t\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\t\n\t\t\t\t\tgeometry.vertices[ points[ i ] ].copy( vector );\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\treturn function () {\n\t\n\t\t\tgeometry = this.geometry;\n\t\t\tpointMap = this.pointMap;\n\t\n\t\t\tvar w = 1, h = 1;\n\t\n\t\t\t// we need just camera projection matrix\n\t\t\t// world matrix must be identity\n\t\n\t\t\tcamera.projectionMatrix.copy( this.camera.projectionMatrix );\n\t\n\t\t\t// center / target\n\t\n\t\t\tsetPoint( \"c\", 0, 0, - 1 );\n\t\t\tsetPoint( \"t\", 0, 0,  1 );\n\t\n\t\t\t// near\n\t\n\t\t\tsetPoint( \"n1\", - w, - h, - 1 );\n\t\t\tsetPoint( \"n2\",   w, - h, - 1 );\n\t\t\tsetPoint( \"n3\", - w,   h, - 1 );\n\t\t\tsetPoint( \"n4\",   w,   h, - 1 );\n\t\n\t\t\t// far\n\t\n\t\t\tsetPoint( \"f1\", - w, - h, 1 );\n\t\t\tsetPoint( \"f2\",   w, - h, 1 );\n\t\t\tsetPoint( \"f3\", - w,   h, 1 );\n\t\t\tsetPoint( \"f4\",   w,   h, 1 );\n\t\n\t\t\t// up\n\t\n\t\t\tsetPoint( \"u1\",   w * 0.7, h * 1.1, - 1 );\n\t\t\tsetPoint( \"u2\", - w * 0.7, h * 1.1, - 1 );\n\t\t\tsetPoint( \"u3\",         0, h * 2,   - 1 );\n\t\n\t\t\t// cross\n\t\n\t\t\tsetPoint( \"cf1\", - w,   0, 1 );\n\t\t\tsetPoint( \"cf2\",   w,   0, 1 );\n\t\t\tsetPoint( \"cf3\",   0, - h, 1 );\n\t\t\tsetPoint( \"cf4\",   0,   h, 1 );\n\t\n\t\t\tsetPoint( \"cn1\", - w,   0, - 1 );\n\t\t\tsetPoint( \"cn2\",   w,   0, - 1 );\n\t\t\tsetPoint( \"cn3\",   0, - h, - 1 );\n\t\t\tsetPoint( \"cn4\",   0,   h, - 1 );\n\t\n\t\t\tgeometry.verticesNeedUpdate = true;\n\t\n\t\t};\n\t\n\t}();\n\t\n\t// File:src/extras/helpers/DirectionalLightHelper.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t */\n\t\n\tTHREE.DirectionalLightHelper = function ( light, size ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\t\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t\tsize = size || 1;\n\t\n\t\tvar geometry = new THREE.Geometry();\n\t\tgeometry.vertices.push(\n\t\t\tnew THREE.Vector3( - size,   size, 0 ),\n\t\t\tnew THREE.Vector3(   size,   size, 0 ),\n\t\t\tnew THREE.Vector3(   size, - size, 0 ),\n\t\t\tnew THREE.Vector3( - size, - size, 0 ),\n\t\t\tnew THREE.Vector3( - size,   size, 0 )\n\t\t);\n\t\n\t\tvar material = new THREE.LineBasicMaterial( { fog: false } );\n\t\tmaterial.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\t\n\t\tthis.lightPlane = new THREE.Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\t\n\t\tgeometry = new THREE.Geometry();\n\t\tgeometry.vertices.push(\n\t\t\tnew THREE.Vector3(),\n\t\t\tnew THREE.Vector3()\n\t\t);\n\t\n\t\tmaterial = new THREE.LineBasicMaterial( { fog: false } );\n\t\tmaterial.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\t\n\t\tthis.targetLine = new THREE.Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\t\n\t\tthis.update();\n\t\n\t};\n\t\n\tTHREE.DirectionalLightHelper.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.DirectionalLightHelper.prototype.constructor = THREE.DirectionalLightHelper;\n\t\n\tTHREE.DirectionalLightHelper.prototype.dispose = function () {\n\t\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\t\n\t};\n\t\n\tTHREE.DirectionalLightHelper.prototype.update = function () {\n\t\n\t\tvar v1 = new THREE.Vector3();\n\t\tvar v2 = new THREE.Vector3();\n\t\tvar v3 = new THREE.Vector3();\n\t\n\t\treturn function () {\n\t\n\t\t\tv1.setFromMatrixPosition( this.light.matrixWorld );\n\t\t\tv2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t\tv3.subVectors( v2, v1 );\n\t\n\t\t\tthis.lightPlane.lookAt( v3 );\n\t\t\tthis.lightPlane.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\t\n\t\t\tthis.targetLine.geometry.vertices[ 1 ].copy( v3 );\n\t\t\tthis.targetLine.geometry.verticesNeedUpdate = true;\n\t\t\tthis.targetLine.material.color.copy( this.lightPlane.material.color );\n\t\n\t\t};\n\t\n\t}();\n\t\n\t// File:src/extras/helpers/EdgesHelper.js\n\t\n\t/**\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @param object THREE.Mesh whose geometry will be used\n\t * @param hex line color\n\t * @param thresholdAngle the minimum angle (in degrees),\n\t * between the face normals of adjacent faces,\n\t * that is required to render an edge. A value of 10 means\n\t * an edge is only rendered if the angle is at least 10 degrees.\n\t */\n\t\n\tTHREE.EdgesHelper = function ( object, hex, thresholdAngle ) {\n\t\n\t\tvar color = ( hex !== undefined ) ? hex : 0xffffff;\n\t\n\t\tTHREE.LineSegments.call( this, new THREE.EdgesGeometry( object.geometry, thresholdAngle ), new THREE.LineBasicMaterial( { color: color } ) );\n\t\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t};\n\t\n\tTHREE.EdgesHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.EdgesHelper.prototype.constructor = THREE.EdgesHelper;\n\t\n\t// File:src/extras/helpers/FaceNormalsHelper.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t*/\n\t\n\tTHREE.FaceNormalsHelper = function ( object, size, hex, linewidth ) {\n\t\n\t\t// FaceNormalsHelper only supports THREE.Geometry\n\t\n\t\tthis.object = object;\n\t\n\t\tthis.size = ( size !== undefined ) ? size : 1;\n\t\n\t\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\t\n\t\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\t\n\t\t//\n\t\n\t\tvar nNormals = 0;\n\t\n\t\tvar objGeometry = this.object.geometry;\n\t\n\t\tif ( objGeometry instanceof THREE.Geometry ) {\n\t\n\t\t\tnNormals = objGeometry.faces.length;\n\t\n\t\t} else {\n\t\n\t\t\tconsole.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\n\t\n\t\t}\n\t\n\t\t//\n\t\n\t\tvar geometry = new THREE.BufferGeometry();\n\t\n\t\tvar positions = new THREE.Float32Attribute( nNormals * 2 * 3, 3 );\n\t\n\t\tgeometry.addAttribute( 'position', positions );\n\t\n\t\tTHREE.LineSegments.call( this, geometry, new THREE.LineBasicMaterial( { color: color, linewidth: width } ) );\n\t\n\t\t//\n\t\n\t\tthis.matrixAutoUpdate = false;\n\t\tthis.update();\n\t\n\t};\n\t\n\tTHREE.FaceNormalsHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.FaceNormalsHelper.prototype.constructor = THREE.FaceNormalsHelper;\n\t\n\tTHREE.FaceNormalsHelper.prototype.update = ( function () {\n\t\n\t\tvar v1 = new THREE.Vector3();\n\t\tvar v2 = new THREE.Vector3();\n\t\tvar normalMatrix = new THREE.Matrix3();\n\t\n\t\treturn function update() {\n\t\n\t\t\tthis.object.updateMatrixWorld( true );\n\t\n\t\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\t\n\t\t\tvar matrixWorld = this.object.matrixWorld;\n\t\n\t\t\tvar position = this.geometry.attributes.position;\n\t\n\t\t\t//\n\t\n\t\t\tvar objGeometry = this.object.geometry;\n\t\n\t\t\tvar vertices = objGeometry.vertices;\n\t\n\t\t\tvar faces = objGeometry.faces;\n\t\n\t\t\tvar idx = 0;\n\t\n\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\t\n\t\t\t\tvar face = faces[ i ];\n\t\n\t\t\t\tvar normal = face.normal;\n\t\n\t\t\t\tv1.copy( vertices[ face.a ] )\n\t\t\t\t\t.add( vertices[ face.b ] )\n\t\t\t\t\t.add( vertices[ face.c ] )\n\t\t\t\t\t.divideScalar( 3 )\n\t\t\t\t\t.applyMatrix4( matrixWorld );\n\t\n\t\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\t\n\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\t\n\t\t\t\tidx = idx + 1;\n\t\n\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\t\n\t\t\t\tidx = idx + 1;\n\t\n\t\t\t}\n\t\n\t\t\tposition.needsUpdate = true;\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t}() );\n\t\n\t// File:src/extras/helpers/GridHelper.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.GridHelper = function ( size, step ) {\n\t\n\t\tvar geometry = new THREE.Geometry();\n\t\tvar material = new THREE.LineBasicMaterial( { vertexColors: THREE.VertexColors } );\n\t\n\t\tthis.color1 = new THREE.Color( 0x444444 );\n\t\tthis.color2 = new THREE.Color( 0x888888 );\n\t\n\t\tfor ( var i = - size; i <= size; i += step ) {\n\t\n\t\t\tgeometry.vertices.push(\n\t\t\t\tnew THREE.Vector3( - size, 0, i ), new THREE.Vector3( size, 0, i ),\n\t\t\t\tnew THREE.Vector3( i, 0, - size ), new THREE.Vector3( i, 0, size )\n\t\t\t);\n\t\n\t\t\tvar color = i === 0 ? this.color1 : this.color2;\n\t\n\t\t\tgeometry.colors.push( color, color, color, color );\n\t\n\t\t}\n\t\n\t\tTHREE.LineSegments.call( this, geometry, material );\n\t\n\t};\n\t\n\tTHREE.GridHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.GridHelper.prototype.constructor = THREE.GridHelper;\n\t\n\tTHREE.GridHelper.prototype.setColors = function( colorCenterLine, colorGrid ) {\n\t\n\t\tthis.color1.set( colorCenterLine );\n\t\tthis.color2.set( colorGrid );\n\t\n\t\tthis.geometry.colorsNeedUpdate = true;\n\t\n\t};\n\t\n\t// File:src/extras/helpers/HemisphereLightHelper.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.HemisphereLightHelper = function ( light, sphereSize ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\t\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t\tthis.colors = [ new THREE.Color(), new THREE.Color() ];\n\t\n\t\tvar geometry = new THREE.SphereGeometry( sphereSize, 4, 2 );\n\t\tgeometry.rotateX( - Math.PI / 2 );\n\t\n\t\tfor ( var i = 0, il = 8; i < il; i ++ ) {\n\t\n\t\t\tgeometry.faces[ i ].color = this.colors[ i < 4 ? 0 : 1 ];\n\t\n\t\t}\n\t\n\t\tvar material = new THREE.MeshBasicMaterial( { vertexColors: THREE.FaceColors, wireframe: true } );\n\t\n\t\tthis.lightSphere = new THREE.Mesh( geometry, material );\n\t\tthis.add( this.lightSphere );\n\t\n\t\tthis.update();\n\t\n\t};\n\t\n\tTHREE.HemisphereLightHelper.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.HemisphereLightHelper.prototype.constructor = THREE.HemisphereLightHelper;\n\t\n\tTHREE.HemisphereLightHelper.prototype.dispose = function () {\n\t\n\t\tthis.lightSphere.geometry.dispose();\n\t\tthis.lightSphere.material.dispose();\n\t\n\t};\n\t\n\tTHREE.HemisphereLightHelper.prototype.update = function () {\n\t\n\t\tvar vector = new THREE.Vector3();\n\t\n\t\treturn function () {\n\t\n\t\t\tthis.colors[ 0 ].copy( this.light.color ).multiplyScalar( this.light.intensity );\n\t\t\tthis.colors[ 1 ].copy( this.light.groundColor ).multiplyScalar( this.light.intensity );\n\t\n\t\t\tthis.lightSphere.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\t\t\tthis.lightSphere.geometry.colorsNeedUpdate = true;\n\t\n\t\t}\n\t\n\t}();\n\t\n\t// File:src/extras/helpers/PointLightHelper.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.PointLightHelper = function ( light, sphereSize ) {\n\t\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\t\n\t\tvar geometry = new THREE.SphereGeometry( sphereSize, 4, 2 );\n\t\tvar material = new THREE.MeshBasicMaterial( { wireframe: true, fog: false } );\n\t\tmaterial.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\t\n\t\tTHREE.Mesh.call( this, geometry, material );\n\t\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t\t/*\n\t\tvar distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\n\t\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\t\n\t\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\t\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\t\n\t\tvar d = light.distance;\n\t\n\t\tif ( d === 0.0 ) {\n\t\n\t\t\tthis.lightDistance.visible = false;\n\t\n\t\t} else {\n\t\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\t\n\t\t}\n\t\n\t\tthis.add( this.lightDistance );\n\t\t*/\n\t\n\t};\n\t\n\tTHREE.PointLightHelper.prototype = Object.create( THREE.Mesh.prototype );\n\tTHREE.PointLightHelper.prototype.constructor = THREE.PointLightHelper;\n\t\n\tTHREE.PointLightHelper.prototype.dispose = function () {\n\t\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\t\n\t};\n\t\n\tTHREE.PointLightHelper.prototype.update = function () {\n\t\n\t\tthis.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\t\n\t\t/*\n\t\tvar d = this.light.distance;\n\t\n\t\tif ( d === 0.0 ) {\n\t\n\t\t\tthis.lightDistance.visible = false;\n\t\n\t\t} else {\n\t\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\t\n\t\t}\n\t\t*/\n\t\n\t};\n\t\n\t// File:src/extras/helpers/SkeletonHelper.js\n\t\n\t/**\n\t * @author Sean Griffin / http://twitter.com/sgrif\n\t * @author Michael Guerrero / http://realitymeltdown.com\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author ikerr / http://verold.com\n\t */\n\t\n\tTHREE.SkeletonHelper = function ( object ) {\n\t\n\t\tthis.bones = this.getBoneList( object );\n\t\n\t\tvar geometry = new THREE.Geometry();\n\t\n\t\tfor ( var i = 0; i < this.bones.length; i ++ ) {\n\t\n\t\t\tvar bone = this.bones[ i ];\n\t\n\t\t\tif ( bone.parent instanceof THREE.Bone ) {\n\t\n\t\t\t\tgeometry.vertices.push( new THREE.Vector3() );\n\t\t\t\tgeometry.vertices.push( new THREE.Vector3() );\n\t\t\t\tgeometry.colors.push( new THREE.Color( 0, 0, 1 ) );\n\t\t\t\tgeometry.colors.push( new THREE.Color( 0, 1, 0 ) );\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tgeometry.dynamic = true;\n\t\n\t\tvar material = new THREE.LineBasicMaterial( { vertexColors: THREE.VertexColors, depthTest: false, depthWrite: false, transparent: true } );\n\t\n\t\tTHREE.LineSegments.call( this, geometry, material );\n\t\n\t\tthis.root = object;\n\t\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t\tthis.update();\n\t\n\t};\n\t\n\t\n\tTHREE.SkeletonHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.SkeletonHelper.prototype.constructor = THREE.SkeletonHelper;\n\t\n\tTHREE.SkeletonHelper.prototype.getBoneList = function( object ) {\n\t\n\t\tvar boneList = [];\n\t\n\t\tif ( object instanceof THREE.Bone ) {\n\t\n\t\t\tboneList.push( object );\n\t\n\t\t}\n\t\n\t\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\t\n\t\t\tboneList.push.apply( boneList, this.getBoneList( object.children[ i ] ) );\n\t\n\t\t}\n\t\n\t\treturn boneList;\n\t\n\t};\n\t\n\tTHREE.SkeletonHelper.prototype.update = function () {\n\t\n\t\tvar geometry = this.geometry;\n\t\n\t\tvar matrixWorldInv = new THREE.Matrix4().getInverse( this.root.matrixWorld );\n\t\n\t\tvar boneMatrix = new THREE.Matrix4();\n\t\n\t\tvar j = 0;\n\t\n\t\tfor ( var i = 0; i < this.bones.length; i ++ ) {\n\t\n\t\t\tvar bone = this.bones[ i ];\n\t\n\t\t\tif ( bone.parent instanceof THREE.Bone ) {\n\t\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\n\t\t\t\tgeometry.vertices[ j ].setFromMatrixPosition( boneMatrix );\n\t\n\t\t\t\tboneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\tgeometry.vertices[ j + 1 ].setFromMatrixPosition( boneMatrix );\n\t\n\t\t\t\tj += 2;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tgeometry.verticesNeedUpdate = true;\n\t\n\t\tgeometry.computeBoundingSphere();\n\t\n\t};\n\t\n\t// File:src/extras/helpers/SpotLightHelper.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t*/\n\t\n\tTHREE.SpotLightHelper = function ( light ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\t\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t\tvar geometry = new THREE.CylinderGeometry( 0, 1, 1, 8, 1, true );\n\t\n\t\tgeometry.translate( 0, - 0.5, 0 );\n\t\tgeometry.rotateX( - Math.PI / 2 );\n\t\n\t\tvar material = new THREE.MeshBasicMaterial( { wireframe: true, fog: false } );\n\t\n\t\tthis.cone = new THREE.Mesh( geometry, material );\n\t\tthis.add( this.cone );\n\t\n\t\tthis.update();\n\t\n\t};\n\t\n\tTHREE.SpotLightHelper.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.SpotLightHelper.prototype.constructor = THREE.SpotLightHelper;\n\t\n\tTHREE.SpotLightHelper.prototype.dispose = function () {\n\t\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\t\n\t};\n\t\n\tTHREE.SpotLightHelper.prototype.update = function () {\n\t\n\t\tvar vector = new THREE.Vector3();\n\t\tvar vector2 = new THREE.Vector3();\n\t\n\t\treturn function () {\n\t\n\t\t\tvar coneLength = this.light.distance ? this.light.distance : 10000;\n\t\t\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\t\n\t\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\t\n\t\t\tvector.setFromMatrixPosition( this.light.matrixWorld );\n\t\t\tvector2.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\n\t\t\tthis.cone.lookAt( vector2.sub( vector ) );\n\t\n\t\t\tthis.cone.material.color.copy( this.light.color ).multiplyScalar( this.light.intensity );\n\t\n\t\t};\n\t\n\t}();\n\t\n\t// File:src/extras/helpers/VertexNormalsHelper.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t*/\n\t\n\tTHREE.VertexNormalsHelper = function ( object, size, hex, linewidth ) {\n\t\n\t\tthis.object = object;\n\t\n\t\tthis.size = ( size !== undefined ) ? size : 1;\n\t\n\t\tvar color = ( hex !== undefined ) ? hex : 0xff0000;\n\t\n\t\tvar width = ( linewidth !== undefined ) ? linewidth : 1;\n\t\n\t\t//\n\t\n\t\tvar nNormals = 0;\n\t\n\t\tvar objGeometry = this.object.geometry;\n\t\n\t\tif ( objGeometry instanceof THREE.Geometry ) {\n\t\n\t\t\tnNormals = objGeometry.faces.length * 3;\n\t\n\t\t} else if ( objGeometry instanceof THREE.BufferGeometry ) {\n\t\n\t\t\tnNormals = objGeometry.attributes.normal.count\n\t\n\t\t}\n\t\n\t\t//\n\t\n\t\tvar geometry = new THREE.BufferGeometry();\n\t\n\t\tvar positions = new THREE.Float32Attribute( nNormals * 2 * 3, 3 );\n\t\n\t\tgeometry.addAttribute( 'position', positions );\n\t\n\t\tTHREE.LineSegments.call( this, geometry, new THREE.LineBasicMaterial( { color: color, linewidth: width } ) );\n\t\n\t\t//\n\t\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t\tthis.update();\n\t\n\t};\n\t\n\tTHREE.VertexNormalsHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.VertexNormalsHelper.prototype.constructor = THREE.VertexNormalsHelper;\n\t\n\tTHREE.VertexNormalsHelper.prototype.update = ( function () {\n\t\n\t\tvar v1 = new THREE.Vector3();\n\t\tvar v2 = new THREE.Vector3();\n\t\tvar normalMatrix = new THREE.Matrix3();\n\t\n\t\treturn function update() {\n\t\n\t\t\tvar keys = [ 'a', 'b', 'c' ];\n\t\n\t\t\tthis.object.updateMatrixWorld( true );\n\t\n\t\t\tnormalMatrix.getNormalMatrix( this.object.matrixWorld );\n\t\n\t\t\tvar matrixWorld = this.object.matrixWorld;\n\t\n\t\t\tvar position = this.geometry.attributes.position;\n\t\n\t\t\t//\n\t\n\t\t\tvar objGeometry = this.object.geometry;\n\t\n\t\t\tif ( objGeometry instanceof THREE.Geometry ) {\n\t\n\t\t\t\tvar vertices = objGeometry.vertices;\n\t\n\t\t\t\tvar faces = objGeometry.faces;\n\t\n\t\t\t\tvar idx = 0;\n\t\n\t\t\t\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\t\n\t\t\t\t\tvar face = faces[ i ];\n\t\n\t\t\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\t\n\t\t\t\t\t\tvar vertex = vertices[ face[ keys[ j ] ] ];\n\t\n\t\t\t\t\t\tvar normal = face.vertexNormals[ j ];\n\t\n\t\t\t\t\t\tv1.copy( vertex ).applyMatrix4( matrixWorld );\n\t\n\t\t\t\t\t\tv2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\t\n\t\t\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\t\n\t\t\t\t\t\tidx = idx + 1;\n\t\n\t\t\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\t\n\t\t\t\t\t\tidx = idx + 1;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( objGeometry instanceof THREE.BufferGeometry ) {\n\t\n\t\t\t\tvar objPos = objGeometry.attributes.position;\n\t\n\t\t\t\tvar objNorm = objGeometry.attributes.normal;\n\t\n\t\t\t\tvar idx = 0;\n\t\n\t\t\t\t// for simplicity, ignore index and drawcalls, and render every normal\n\t\n\t\t\t\tfor ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\n\t\n\t\t\t\t\tv1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\n\t\n\t\t\t\t\tv2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\n\t\n\t\t\t\t\tv2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\n\t\n\t\t\t\t\tposition.setXYZ( idx, v1.x, v1.y, v1.z );\n\t\n\t\t\t\t\tidx = idx + 1;\n\t\n\t\t\t\t\tposition.setXYZ( idx, v2.x, v2.y, v2.z );\n\t\n\t\t\t\t\tidx = idx + 1;\n\t\n\t\t\t\t}\n\t\n\t\t\t}\n\t\n\t\t\tposition.needsUpdate = true;\n\t\n\t\t\treturn this;\n\t\n\t\t}\n\t\n\t}() );\n\t\n\t// File:src/extras/helpers/WireframeHelper.js\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t */\n\t\n\tTHREE.WireframeHelper = function ( object, hex ) {\n\t\n\t\tvar color = ( hex !== undefined ) ? hex : 0xffffff;\n\t\n\t\tTHREE.LineSegments.call( this, new THREE.WireframeGeometry( object.geometry ), new THREE.LineBasicMaterial( { color: color } ) );\n\t\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\t\n\t};\n\t\n\tTHREE.WireframeHelper.prototype = Object.create( THREE.LineSegments.prototype );\n\tTHREE.WireframeHelper.prototype.constructor = THREE.WireframeHelper;\n\t\n\t// File:src/extras/objects/ImmediateRenderObject.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.ImmediateRenderObject = function ( material ) {\n\t\n\t\tTHREE.Object3D.call( this );\n\t\n\t\tthis.material = material;\n\t\tthis.render = function ( renderCallback ) {};\n\t\n\t};\n\t\n\tTHREE.ImmediateRenderObject.prototype = Object.create( THREE.Object3D.prototype );\n\tTHREE.ImmediateRenderObject.prototype.constructor = THREE.ImmediateRenderObject;\n\t\n\t// File:src/extras/objects/MorphBlendMesh.js\n\t\n\t/**\n\t * @author alteredq / http://alteredqualia.com/\n\t */\n\t\n\tTHREE.MorphBlendMesh = function( geometry, material ) {\n\t\n\t\tTHREE.Mesh.call( this, geometry, material );\n\t\n\t\tthis.animationsMap = {};\n\t\tthis.animationsList = [];\n\t\n\t\t// prepare default animation\n\t\t// (all frames played together in 1 second)\n\t\n\t\tvar numFrames = this.geometry.morphTargets.length;\n\t\n\t\tvar name = \"__default\";\n\t\n\t\tvar startFrame = 0;\n\t\tvar endFrame = numFrames - 1;\n\t\n\t\tvar fps = numFrames / 1;\n\t\n\t\tthis.createAnimation( name, startFrame, endFrame, fps );\n\t\tthis.setAnimationWeight( name, 1 );\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype = Object.create( THREE.Mesh.prototype );\n\tTHREE.MorphBlendMesh.prototype.constructor = THREE.MorphBlendMesh;\n\t\n\tTHREE.MorphBlendMesh.prototype.createAnimation = function ( name, start, end, fps ) {\n\t\n\t\tvar animation = {\n\t\n\t\t\tstart: start,\n\t\t\tend: end,\n\t\n\t\t\tlength: end - start + 1,\n\t\n\t\t\tfps: fps,\n\t\t\tduration: ( end - start ) / fps,\n\t\n\t\t\tlastFrame: 0,\n\t\t\tcurrentFrame: 0,\n\t\n\t\t\tactive: false,\n\t\n\t\t\ttime: 0,\n\t\t\tdirection: 1,\n\t\t\tweight: 1,\n\t\n\t\t\tdirectionBackwards: false,\n\t\t\tmirroredLoop: false\n\t\n\t\t};\n\t\n\t\tthis.animationsMap[ name ] = animation;\n\t\tthis.animationsList.push( animation );\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.autoCreateAnimations = function ( fps ) {\n\t\n\t\tvar pattern = /([a-z]+)_?(\\d+)/;\n\t\n\t\tvar firstAnimation, frameRanges = {};\n\t\n\t\tvar geometry = this.geometry;\n\t\n\t\tfor ( var i = 0, il = geometry.morphTargets.length; i < il; i ++ ) {\n\t\n\t\t\tvar morph = geometry.morphTargets[ i ];\n\t\t\tvar chunks = morph.name.match( pattern );\n\t\n\t\t\tif ( chunks && chunks.length > 1 ) {\n\t\n\t\t\t\tvar name = chunks[ 1 ];\n\t\n\t\t\t\tif ( ! frameRanges[ name ] ) frameRanges[ name ] = { start: Infinity, end: - Infinity };\n\t\n\t\t\t\tvar range = frameRanges[ name ];\n\t\n\t\t\t\tif ( i < range.start ) range.start = i;\n\t\t\t\tif ( i > range.end ) range.end = i;\n\t\n\t\t\t\tif ( ! firstAnimation ) firstAnimation = name;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t\tfor ( var name in frameRanges ) {\n\t\n\t\t\tvar range = frameRanges[ name ];\n\t\t\tthis.createAnimation( name, range.start, range.end, fps );\n\t\n\t\t}\n\t\n\t\tthis.firstAnimation = firstAnimation;\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.setAnimationDirectionForward = function ( name ) {\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tanimation.direction = 1;\n\t\t\tanimation.directionBackwards = false;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.setAnimationDirectionBackward = function ( name ) {\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tanimation.direction = - 1;\n\t\t\tanimation.directionBackwards = true;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.setAnimationFPS = function ( name, fps ) {\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tanimation.fps = fps;\n\t\t\tanimation.duration = ( animation.end - animation.start ) / animation.fps;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.setAnimationDuration = function ( name, duration ) {\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tanimation.duration = duration;\n\t\t\tanimation.fps = ( animation.end - animation.start ) / animation.duration;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.setAnimationWeight = function ( name, weight ) {\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tanimation.weight = weight;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.setAnimationTime = function ( name, time ) {\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tanimation.time = time;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.getAnimationTime = function ( name ) {\n\t\n\t\tvar time = 0;\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\ttime = animation.time;\n\t\n\t\t}\n\t\n\t\treturn time;\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.getAnimationDuration = function ( name ) {\n\t\n\t\tvar duration = - 1;\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tduration = animation.duration;\n\t\n\t\t}\n\t\n\t\treturn duration;\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.playAnimation = function ( name ) {\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tanimation.time = 0;\n\t\t\tanimation.active = true;\n\t\n\t\t} else {\n\t\n\t\t\tconsole.warn( \"THREE.MorphBlendMesh: animation[\" + name + \"] undefined in .playAnimation()\" );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.stopAnimation = function ( name ) {\n\t\n\t\tvar animation = this.animationsMap[ name ];\n\t\n\t\tif ( animation ) {\n\t\n\t\t\tanimation.active = false;\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.MorphBlendMesh.prototype.update = function ( delta ) {\n\t\n\t\tfor ( var i = 0, il = this.animationsList.length; i < il; i ++ ) {\n\t\n\t\t\tvar animation = this.animationsList[ i ];\n\t\n\t\t\tif ( ! animation.active ) continue;\n\t\n\t\t\tvar frameTime = animation.duration / animation.length;\n\t\n\t\t\tanimation.time += animation.direction * delta;\n\t\n\t\t\tif ( animation.mirroredLoop ) {\n\t\n\t\t\t\tif ( animation.time > animation.duration || animation.time < 0 ) {\n\t\n\t\t\t\t\tanimation.direction *= - 1;\n\t\n\t\t\t\t\tif ( animation.time > animation.duration ) {\n\t\n\t\t\t\t\t\tanimation.time = animation.duration;\n\t\t\t\t\t\tanimation.directionBackwards = true;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif ( animation.time < 0 ) {\n\t\n\t\t\t\t\t\tanimation.time = 0;\n\t\t\t\t\t\tanimation.directionBackwards = false;\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tanimation.time = animation.time % animation.duration;\n\t\n\t\t\t\tif ( animation.time < 0 ) animation.time += animation.duration;\n\t\n\t\t\t}\n\t\n\t\t\tvar keyframe = animation.start + THREE.Math.clamp( Math.floor( animation.time / frameTime ), 0, animation.length - 1 );\n\t\t\tvar weight = animation.weight;\n\t\n\t\t\tif ( keyframe !== animation.currentFrame ) {\n\t\n\t\t\t\tthis.morphTargetInfluences[ animation.lastFrame ] = 0;\n\t\t\t\tthis.morphTargetInfluences[ animation.currentFrame ] = 1 * weight;\n\t\n\t\t\t\tthis.morphTargetInfluences[ keyframe ] = 0;\n\t\n\t\t\t\tanimation.lastFrame = animation.currentFrame;\n\t\t\t\tanimation.currentFrame = keyframe;\n\t\n\t\t\t}\n\t\n\t\t\tvar mix = ( animation.time % frameTime ) / frameTime;\n\t\n\t\t\tif ( animation.directionBackwards ) mix = 1 - mix;\n\t\n\t\t\tif ( animation.currentFrame !== animation.lastFrame ) {\n\t\n\t\t\t\tthis.morphTargetInfluences[ animation.currentFrame ] = mix * weight;\n\t\t\t\tthis.morphTargetInfluences[ animation.lastFrame ] = ( 1 - mix ) * weight;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tthis.morphTargetInfluences[ animation.currentFrame ] = weight;\n\t\n\t\t\t}\n\t\n\t\t}\n\t\n\t};\n\t\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t/**\n\t * @author dmarcos / https://github.com/dmarcos\n\t * @author mrdoob / http://mrdoob.com\n\t */\n\t\n\texports['default'] = function (object, onError) {\n\t\n\t  var scope = this;\n\t\n\t  var vrInputs = [];\n\t\n\t  function filterInvalidDevices(devices) {\n\t\n\t    // Exclude Cardboard position sensor if Oculus exists.\n\t\n\t    var oculusDevices = devices.filter(function (device) {\n\t\n\t      return device.deviceName.toLowerCase().indexOf('oculus') !== -1;\n\t    });\n\t\n\t    if (oculusDevices.length >= 1) {\n\t\n\t      return devices.filter(function (device) {\n\t\n\t        return device.deviceName.toLowerCase().indexOf('cardboard') === -1;\n\t      });\n\t    } else {\n\t\n\t      return devices;\n\t    }\n\t  }\n\t\n\t  function gotVRDevices(devices) {\n\t\n\t    devices = filterInvalidDevices(devices);\n\t\n\t    for (var i = 0; i < devices.length; i++) {\n\t\n\t      if (devices[i] instanceof PositionSensorVRDevice) {\n\t\n\t        vrInputs.push(devices[i]);\n\t      }\n\t    }\n\t\n\t    if (onError) onError('HMD not available');\n\t  }\n\t\n\t  if (navigator.getVRDevices) {\n\t\n\t    navigator.getVRDevices().then(gotVRDevices);\n\t  }\n\t\n\t  // the Rift SDK returns the position in meters\n\t  // this scale factor allows the user to define how meters\n\t  // are converted to scene units.\n\t\n\t  this.scale = 1;\n\t\n\t  this.update = function () {\n\t\n\t    for (var i = 0; i < vrInputs.length; i++) {\n\t\n\t      var vrInput = vrInputs[i];\n\t\n\t      var state = vrInput.getState();\n\t\n\t      if (state.orientation !== null) {\n\t\n\t        object.quaternion.copy(state.orientation);\n\t      }\n\t\n\t      if (state.position !== null) {\n\t\n\t        object.position.copy(state.position).multiplyScalar(scope.scale);\n\t      }\n\t    }\n\t  };\n\t\n\t  this.resetSensor = function () {\n\t\n\t    for (var i = 0; i < vrInputs.length; i++) {\n\t\n\t      var vrInput = vrInputs[i];\n\t\n\t      if (vrInput.resetSensor !== undefined) {\n\t\n\t        vrInput.resetSensor();\n\t      } else if (vrInput.zeroSensor !== undefined) {\n\t\n\t        vrInput.zeroSensor();\n\t      }\n\t    }\n\t  };\n\t\n\t  this.zeroSensor = function () {\n\t\n\t    console.warn('THREE.VRControls: .zeroSensor() is now .resetSensor().');\n\t    this.resetSensor();\n\t  };\n\t\n\t  this.dispose = function () {\n\t\n\t    vrInputs = [];\n\t  };\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t/**\n\t * @author dmarcos / https://github.com/dmarcos\n\t * @author mrdoob / http://mrdoob.com\n\t *\n\t * WebVR Spec: http://mozvr.github.io/webvr-spec/webvr.html\n\t *\n\t * Firefox: http://mozvr.com/downloads/\n\t * Chromium: https://drive.google.com/folderview?id=0BzudLt22BqGRbW9WTHMtOWMzNjQ&usp=sharing#list\n\t *\n\t */\n\t\n\tvar _threeJs = __webpack_require__(1);\n\t\n\texports['default'] = function (renderer, onError) {\n\t\n\t  var vrHMD;\n\t  var eyeTranslationL, eyeFOVL;\n\t  var eyeTranslationR, eyeFOVR;\n\t\n\t  function gotVRDevices(devices) {\n\t\n\t    for (var i = 0; i < devices.length; i++) {\n\t\n\t      if (devices[i] instanceof HMDVRDevice) {\n\t\n\t        vrHMD = devices[i];\n\t\n\t        if (vrHMD.getEyeParameters !== undefined) {\n\t\n\t          var eyeParamsL = vrHMD.getEyeParameters('left');\n\t          var eyeParamsR = vrHMD.getEyeParameters('right');\n\t\n\t          eyeTranslationL = eyeParamsL.eyeTranslation;\n\t          eyeTranslationR = eyeParamsR.eyeTranslation;\n\t          eyeFOVL = eyeParamsL.recommendedFieldOfView;\n\t          eyeFOVR = eyeParamsR.recommendedFieldOfView;\n\t        } else {\n\t\n\t          // TODO: This is an older code path and not spec compliant.\n\t          // It should be removed at some point in the near future.\n\t          eyeTranslationL = vrHMD.getEyeTranslation('left');\n\t          eyeTranslationR = vrHMD.getEyeTranslation('right');\n\t          eyeFOVL = vrHMD.getRecommendedEyeFieldOfView('left');\n\t          eyeFOVR = vrHMD.getRecommendedEyeFieldOfView('right');\n\t        }\n\t\n\t        break; // We keep the first we encounter\n\t      }\n\t    }\n\t\n\t    if (vrHMD === undefined) {\n\t\n\t      if (onError) onError('HMD not available');\n\t    }\n\t  }\n\t\n\t  if (navigator.getVRDevices) {\n\t\n\t    navigator.getVRDevices().then(gotVRDevices);\n\t  }\n\t\n\t  //\n\t\n\t  this.scale = 1;\n\t\n\t  this.setSize = function (width, height) {\n\t\n\t    renderer.setSize(width, height);\n\t  };\n\t\n\t  // fullscreen\n\t\n\t  var isFullscreen = false;\n\t\n\t  var canvas = renderer.domElement;\n\t  var fullscreenchange = canvas.mozRequestFullScreen ? 'mozfullscreenchange' : 'webkitfullscreenchange';\n\t\n\t  document.addEventListener(fullscreenchange, function (event) {\n\t\n\t    isFullscreen = document.mozFullScreenElement || document.webkitFullscreenElement;\n\t  }, false);\n\t\n\t  this.setFullScreen = function (boolean) {\n\t\n\t    if (vrHMD === undefined) return;\n\t    if (isFullscreen === boolean) return;\n\t\n\t    if (canvas.mozRequestFullScreen) {\n\t\n\t      canvas.mozRequestFullScreen({ vrDisplay: vrHMD });\n\t    } else if (canvas.webkitRequestFullscreen) {\n\t\n\t      canvas.webkitRequestFullscreen({ vrDisplay: vrHMD });\n\t    }\n\t  };\n\t\n\t  // render\n\t\n\t  var cameraL = new _threeJs.PerspectiveCamera();\n\t  var cameraR = new _threeJs.PerspectiveCamera();\n\t\n\t  this.render = function (scene, camera) {\n\t\n\t    if (vrHMD) {\n\t\n\t      var sceneL, sceneR;\n\t\n\t      if (Array.isArray(scene)) {\n\t\n\t        sceneL = scene[0];\n\t        sceneR = scene[1];\n\t      } else {\n\t\n\t        sceneL = scene;\n\t        sceneR = scene;\n\t      }\n\t\n\t      var size = renderer.getSize();\n\t      size.width /= 2;\n\t\n\t      renderer.enableScissorTest(true);\n\t      renderer.clear();\n\t\n\t      if (camera.parent === null) camera.updateMatrixWorld();\n\t\n\t      cameraL.projectionMatrix = fovToProjection(eyeFOVL, true, camera.near, camera.far);\n\t      cameraR.projectionMatrix = fovToProjection(eyeFOVR, true, camera.near, camera.far);\n\t\n\t      camera.matrixWorld.decompose(cameraL.position, cameraL.quaternion, cameraL.scale);\n\t      camera.matrixWorld.decompose(cameraR.position, cameraR.quaternion, cameraR.scale);\n\t\n\t      cameraL.translateX(eyeTranslationL.x * this.scale);\n\t      cameraR.translateX(eyeTranslationR.x * this.scale);\n\t\n\t      // render left eye\n\t      renderer.setViewport(0, 0, size.width, size.height);\n\t      renderer.setScissor(0, 0, size.width, size.height);\n\t      renderer.render(sceneL, cameraL);\n\t\n\t      // render right eye\n\t      renderer.setViewport(size.width, 0, size.width, size.height);\n\t      renderer.setScissor(size.width, 0, size.width, size.height);\n\t      renderer.render(sceneR, cameraR);\n\t\n\t      renderer.enableScissorTest(false);\n\t\n\t      return;\n\t    }\n\t\n\t    // Regular render mode if not HMD\n\t\n\t    if (Array.isArray(scene)) scene = scene[0];\n\t\n\t    renderer.render(scene, camera);\n\t  };\n\t\n\t  //\n\t\n\t  function fovToNDCScaleOffset(fov) {\n\t\n\t    var pxscale = 2.0 / (fov.leftTan + fov.rightTan);\n\t    var pxoffset = (fov.leftTan - fov.rightTan) * pxscale * 0.5;\n\t    var pyscale = 2.0 / (fov.upTan + fov.downTan);\n\t    var pyoffset = (fov.upTan - fov.downTan) * pyscale * 0.5;\n\t    return { scale: [pxscale, pyscale], offset: [pxoffset, pyoffset] };\n\t  }\n\t\n\t  function fovPortToProjection(fov, rightHanded, zNear, zFar) {\n\t\n\t    rightHanded = rightHanded === undefined ? true : rightHanded;\n\t    zNear = zNear === undefined ? 0.01 : zNear;\n\t    zFar = zFar === undefined ? 10000.0 : zFar;\n\t\n\t    var handednessScale = rightHanded ? -1.0 : 1.0;\n\t\n\t    // start with an identity matrix\n\t    var mobj = new _threeJs.Matrix4();\n\t    var m = mobj.elements;\n\t\n\t    // and with scale/offset info for normalized device coords\n\t    var scaleAndOffset = fovToNDCScaleOffset(fov);\n\t\n\t    // X result, map clip edges to [-w,+w]\n\t    m[0 * 4 + 0] = scaleAndOffset.scale[0];\n\t    m[0 * 4 + 1] = 0.0;\n\t    m[0 * 4 + 2] = scaleAndOffset.offset[0] * handednessScale;\n\t    m[0 * 4 + 3] = 0.0;\n\t\n\t    // Y result, map clip edges to [-w,+w]\n\t    // Y offset is negated because this proj matrix transforms from world coords with Y=up,\n\t    // but the NDC scaling has Y=down (thanks D3D?)\n\t    m[1 * 4 + 0] = 0.0;\n\t    m[1 * 4 + 1] = scaleAndOffset.scale[1];\n\t    m[1 * 4 + 2] = -scaleAndOffset.offset[1] * handednessScale;\n\t    m[1 * 4 + 3] = 0.0;\n\t\n\t    // Z result (up to the app)\n\t    m[2 * 4 + 0] = 0.0;\n\t    m[2 * 4 + 1] = 0.0;\n\t    m[2 * 4 + 2] = zFar / (zNear - zFar) * -handednessScale;\n\t    m[2 * 4 + 3] = zFar * zNear / (zNear - zFar);\n\t\n\t    // W result (= Z in)\n\t    m[3 * 4 + 0] = 0.0;\n\t    m[3 * 4 + 1] = 0.0;\n\t    m[3 * 4 + 2] = handednessScale;\n\t    m[3 * 4 + 3] = 0.0;\n\t\n\t    mobj.transpose();\n\t\n\t    return mobj;\n\t  }\n\t\n\t  function fovToProjection(fov, rightHanded, zNear, zFar) {\n\t\n\t    var DEG2RAD = Math.PI / 180.0;\n\t\n\t    var fovPort = {\n\t      upTan: Math.tan(fov.upDegrees * DEG2RAD),\n\t      downTan: Math.tan(fov.downDegrees * DEG2RAD),\n\t      leftTan: Math.tan(fov.leftDegrees * DEG2RAD),\n\t      rightTan: Math.tan(fov.rightDegrees * DEG2RAD)\n\t    };\n\t\n\t    return fovPortToProjection(fovPort, rightHanded, zNear, zFar);\n\t  }\n\t};\n\t\n\t;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\t\n\tvar _webvrPolyfill = __webpack_require__(5);\n\t\n\tvar _webvrPolyfill2 = _interopRequireDefault(_webvrPolyfill);\n\t\n\t/**\n\t * Helper for getting in and out of VR mode.\n\t * Here we assume VR mode == full screen mode.\n\t *\n\t * 1. Detects whether or not VR mode is possible by feature detecting for\n\t * WebVR (or polyfill).\n\t *\n\t * 2. If WebVR is available, shows a button that lets you enter VR mode.\n\t *\n\t * 3. Provides Cardboard-style distortion if the webvr-polyfill is being used.\n\t *\n\t * 4. Provides best practices while in VR mode.\n\t * - Full screen\n\t * - Wake lock\n\t * - Orientation lock (mobile only)\n\t */\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar ButtonManager = __webpack_require__(12);\n\tvar CardboardDistorter = __webpack_require__(17);\n\tvar DeviceInfo = __webpack_require__(19);\n\tvar Emitter = __webpack_require__(14);\n\tvar Modes = __webpack_require__(15);\n\tvar RotateInstructions = __webpack_require__(21);\n\tvar Util = __webpack_require__(16);\n\tvar ViewerSelector = __webpack_require__(22);\n\tvar Wakelock = __webpack_require__(23);\n\tfunction WebVRManager(renderer, effect, params) {\n\t  this.params = params || {};\n\t\n\t  this.mode = Modes.UNKNOWN;\n\t\n\t  // Set option to hide the button.\n\t  this.hideButton = this.params.hideButton || false;\n\t  // Whether or not the FOV should be distorted or un-distorted. By default, it\n\t  // should be distorted, but in the case of vertex shader based distortion,\n\t  // ensure that we use undistorted parameters.\n\t  this.isUndistorted = !!this.params.isUndistorted;\n\t\n\t  // Save the THREE.js renderer and effect for later.\n\t  this.renderer = renderer;\n\t  this.effect = effect;\n\t  this.button = new ButtonManager();\n\t  this.rotateInstructions = new RotateInstructions();\n\t  this.viewerSelector = new ViewerSelector(DeviceInfo.Viewers);\n\t\n\t  // Create device info and set the correct default viewer.\n\t  this.deviceInfo = new DeviceInfo();\n\t  this.deviceInfo.viewer = DeviceInfo.Viewers[this.viewerSelector.selectedKey];\n\t  console.log('Using the %s viewer.', this.getViewer().label);\n\t\n\t  this.distorter = new CardboardDistorter(renderer, this.deviceInfo);\n\t\n\t  this.isVRCompatible = false;\n\t  this.isFullscreenDisabled = !!Util.getQueryParameter('no_fullscreen');\n\t  this.startMode = Modes.NORMAL;\n\t  var startModeParam = parseInt(Util.getQueryParameter('start_mode'));\n\t  if (!isNaN(startModeParam)) {\n\t    this.startMode = startModeParam;\n\t  }\n\t\n\t  // Set the correct viewer profile, but only if this is Cardboard.\n\t  if (Util.isMobile()) {\n\t    this.onViewerChanged_(this.getViewer());\n\t  }\n\t  // Listen for changes to the viewer.\n\t  this.viewerSelector.on('change', this.onViewerChanged_.bind(this));\n\t\n\t  if (this.hideButton) {\n\t    this.button.setVisibility(false);\n\t  }\n\t\n\t  // Check if the browser is compatible with WebVR.\n\t  this.getDeviceByType_(_webvrPolyfill2['default']).then((function (hmd) {\n\t    // Activate either VR or Immersive mode.\n\t    if (WebVRConfig.FORCE_DISTORTION) {\n\t      this.distorter.setActive(true);\n\t      this.isVRCompatible = true;\n\t    } else if (hmd) {\n\t      this.isVRCompatible = true;\n\t      // Only enable distortion if we are dealing using the polyfill, we have a\n\t      // perfect device match, and it's not prevented via configuration.\n\t      if (hmd.deviceName.indexOf('webvr-polyfill') == 0 && this.deviceInfo.getDevice() && !WebVRConfig.PREVENT_DISTORTION) {\n\t        this.distorter.setActive(true);\n\t      }\n\t      this.hmd = hmd;\n\t    }\n\t    // Set the right mode.\n\t    switch (this.startMode) {\n\t      case Modes.MAGIC_WINDOW:\n\t        this.normalToMagicWindow_();\n\t        this.setMode_(Modes.MAGIC_WINDOW);\n\t        break;\n\t      case Modes.VR:\n\t        this.anyModeToVR_();\n\t        this.setMode_(Modes.VR);\n\t        break;\n\t      default:\n\t        this.setMode_(Modes.NORMAL);\n\t    }\n\t    this.button.on('fs', this.onFSClick_.bind(this));\n\t    this.button.on('vr', this.onVRClick_.bind(this));\n\t    this.button.on('back', this.onBackClick_.bind(this));\n\t    this.button.on('settings', this.onSettingsClick_.bind(this));\n\t    this.emit('initialized');\n\t  }).bind(this));\n\t\n\t  // Save the input device for later sending timing data.\n\t  this.getDeviceByType_(PositionSensorVRDevice).then((function (input) {\n\t    this.input = input;\n\t  }).bind(this));\n\t\n\t  // Whenever we enter fullscreen, we are entering VR or immersive mode.\n\t  document.addEventListener('webkitfullscreenchange', this.onFullscreenChange_.bind(this));\n\t  document.addEventListener('mozfullscreenchange', this.onFullscreenChange_.bind(this));\n\t  window.addEventListener('orientationchange', this.onOrientationChange_.bind(this));\n\t\n\t  // Create the necessary elements for wake lock to work.\n\t  this.wakelock = new Wakelock();\n\t\n\t  // Save whether or not we want the touch panner to be enabled or disabled by\n\t  // default.\n\t  this.isTouchPannerEnabled = !WebVRConfig.TOUCH_PANNER_DISABLED;\n\t}\n\t\n\tWebVRManager.prototype = new Emitter();\n\t\n\t// Expose these values externally.\n\tWebVRManager.Modes = Modes;\n\t\n\t/**\n\t * Promise returns true if there is at least one HMD device available.\n\t */\n\tWebVRManager.prototype.getDeviceByType_ = function (type) {\n\t  return new Promise(function (resolve, reject) {\n\t    navigator.getVRDevices().then(function (devices) {\n\t      // Promise succeeds, but check if there are any devices actually.\n\t      for (var i = 0; i < devices.length; i++) {\n\t        if (devices[i] instanceof type) {\n\t          resolve(devices[i]);\n\t          break;\n\t        }\n\t      }\n\t      resolve(null);\n\t    }, function () {\n\t      // No devices are found.\n\t      resolve(null);\n\t    });\n\t  });\n\t};\n\t\n\tWebVRManager.prototype.isVRMode = function () {\n\t  return this.mode == Modes.VR;\n\t};\n\t\n\tWebVRManager.prototype.getViewer = function () {\n\t  return this.deviceInfo.viewer;\n\t};\n\t\n\tWebVRManager.prototype.getDevice = function () {\n\t  return this.deviceInfo.device;\n\t};\n\t\n\tWebVRManager.prototype.getDeviceInfo = function () {\n\t  return this.deviceInfo;\n\t};\n\t\n\tWebVRManager.prototype.render = function (scene, camera, timestamp) {\n\t  this.resizeIfNeeded_(camera);\n\t\n\t  if (this.isVRMode()) {\n\t    this.distorter.preRender();\n\t    this.effect.render(scene, camera);\n\t    this.distorter.postRender();\n\t  } else {\n\t    // Scene may be an array of two scenes, one for each eye.\n\t    if (scene instanceof Array) {\n\t      this.renderer.render(scene[0], camera);\n\t    } else {\n\t      this.renderer.render(scene, camera);\n\t    }\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.setMode_ = function (mode) {\n\t  var oldMode = this.mode;\n\t  if (mode == this.mode) {\n\t    console.error('Not changing modes, already in %s', mode);\n\t    return;\n\t  }\n\t  console.log('Mode change: %s => %s', this.mode, mode);\n\t  this.mode = mode;\n\t  this.button.setMode(mode, this.isVRCompatible);\n\t\n\t  if (this.mode == Modes.VR && Util.isLandscapeMode() && Util.isMobile()) {\n\t    // In landscape mode, temporarily show the \"put into Cardboard\"\n\t    // interstitial. Otherwise, do the default thing.\n\t    this.rotateInstructions.showTemporarily(3000);\n\t  } else {\n\t    this.updateRotateInstructions_();\n\t  }\n\t\n\t  // Also hide the viewer selector.\n\t  this.viewerSelector.hide();\n\t\n\t  // Emit an event indicating the mode changed.\n\t  this.emit('modechange', mode, oldMode);\n\t\n\t  // Note: This is a nasty hack since we need to communicate to the polyfill\n\t  // that touch panning is disabled, and the only way to do this currently is\n\t  // via WebVRConfig.\n\t  // TODO: Maybe move touch panning to the boilerplate to eliminate the hack.\n\t  //\n\t  // If we are in VR mode, always disable touch panning.\n\t  if (this.isTouchPannerEnabled) {\n\t    if (this.mode == Modes.VR) {\n\t      WebVRConfig.TOUCH_PANNER_DISABLED = true;\n\t    } else {\n\t      WebVRConfig.TOUCH_PANNER_DISABLED = false;\n\t    }\n\t  }\n\t\n\t  if (this.mode == Modes.VR) {\n\t    // In VR mode, set the HMDVRDevice parameters.\n\t    this.setHMDVRDeviceParams_(this.getViewer());\n\t  }\n\t};\n\t\n\t/**\n\t * Main button was clicked.\n\t */\n\tWebVRManager.prototype.onFSClick_ = function () {\n\t  switch (this.mode) {\n\t    case Modes.NORMAL:\n\t      // TODO: Remove this hack when iOS has fullscreen mode.\n\t      // If this is an iframe on iOS, break out and open in no_fullscreen mode.\n\t      if (Util.isIOS() && Util.isIFrame()) {\n\t        var url = window.location.href;\n\t        url = Util.appendQueryParameter(url, 'no_fullscreen', 'true');\n\t        url = Util.appendQueryParameter(url, 'start_mode', Modes.MAGIC_WINDOW);\n\t        top.location.href = url;\n\t        return;\n\t      }\n\t      this.normalToMagicWindow_();\n\t      this.setMode_(Modes.MAGIC_WINDOW);\n\t      break;\n\t    case Modes.MAGIC_WINDOW:\n\t      if (this.isFullscreenDisabled) {\n\t        window.history.back();\n\t      } else {\n\t        this.anyModeToNormal_();\n\t        this.setMode_(Modes.NORMAL);\n\t      }\n\t      break;\n\t  }\n\t};\n\t\n\t/**\n\t * The VR button was clicked.\n\t */\n\tWebVRManager.prototype.onVRClick_ = function () {\n\t  // TODO: Remove this hack when iOS has fullscreen mode.\n\t  // If this is an iframe on iOS, break out and open in no_fullscreen mode.\n\t  if (this.mode == Modes.NORMAL && Util.isIOS() && Util.isIFrame()) {\n\t    var url = window.location.href;\n\t    url = Util.appendQueryParameter(url, 'no_fullscreen', 'true');\n\t    url = Util.appendQueryParameter(url, 'start_mode', Modes.VR);\n\t    top.location.href = url;\n\t    return;\n\t  }\n\t  this.anyModeToVR_();\n\t  this.setMode_(Modes.VR);\n\t};\n\t\n\t/**\n\t * Back button was clicked.\n\t */\n\tWebVRManager.prototype.onBackClick_ = function () {\n\t  if (this.isFullscreenDisabled) {\n\t    window.history.back();\n\t  } else {\n\t    this.anyModeToNormal_();\n\t    this.setMode_(Modes.NORMAL);\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.onSettingsClick_ = function () {\n\t  // Show the viewer selection dialog.\n\t  this.viewerSelector.show();\n\t};\n\t\n\t/**\n\t *\n\t * Methods to go between modes.\n\t *\n\t */\n\tWebVRManager.prototype.normalToMagicWindow_ = function () {\n\t  // TODO: Re-enable pointer lock after debugging.\n\t  //this.requestPointerLock_();\n\t  this.requestFullscreen_();\n\t  this.wakelock.request();\n\t};\n\t\n\tWebVRManager.prototype.anyModeToVR_ = function () {\n\t  // Don't do orientation locking for consistency.\n\t  //this.requestOrientationLock_();\n\t  this.requestFullscreen_();\n\t  //this.effect.setFullScreen(true);\n\t  this.wakelock.request();\n\t  this.distorter.patch();\n\t};\n\t\n\tWebVRManager.prototype.vrToMagicWindow_ = function () {\n\t  //this.releaseOrientationLock_();\n\t  this.distorter.unpatch();\n\t\n\t  // Android bug: when returning from VR, resize the effect.\n\t  this.resize_();\n\t};\n\t\n\tWebVRManager.prototype.anyModeToNormal_ = function () {\n\t  //this.effect.setFullScreen(false);\n\t  this.exitFullscreen_();\n\t  //this.releaseOrientationLock_();\n\t  this.releasePointerLock_();\n\t  this.wakelock.release();\n\t  this.distorter.unpatch();\n\t\n\t  // Android bug: when returning from VR, resize the effect.\n\t  this.resize_();\n\t};\n\t\n\tWebVRManager.prototype.resizeIfNeeded_ = function (camera) {\n\t  // Only resize the canvas if it needs to be resized.\n\t  var size = this.renderer.getSize();\n\t  if (size.width != window.innerWidth || size.height != window.innerHeight) {\n\t    camera.aspect = window.innerWidth / window.innerHeight;\n\t    camera.updateProjectionMatrix();\n\t    this.resize_();\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.resize_ = function () {\n\t  this.effect.setSize(window.innerWidth, window.innerHeight);\n\t};\n\t\n\tWebVRManager.prototype.onOrientationChange_ = function (e) {\n\t  this.updateRotateInstructions_();\n\t  // Also hide the viewer selector.\n\t  this.viewerSelector.hide();\n\t};\n\t\n\tWebVRManager.prototype.updateRotateInstructions_ = function () {\n\t  this.rotateInstructions.disableShowTemporarily();\n\t  // In portrait VR mode, tell the user to rotate to landscape.\n\t  if (this.mode == Modes.VR && !Util.isLandscapeMode() && Util.isMobile()) {\n\t    this.rotateInstructions.show();\n\t  } else {\n\t    this.rotateInstructions.hide();\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.onFullscreenChange_ = function (e) {\n\t  // If we leave full-screen, go back to normal mode.\n\t  if (document.webkitFullscreenElement === null || document.mozFullScreenElement === null) {\n\t    this.anyModeToNormal_();\n\t    this.setMode_(Modes.NORMAL);\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.requestPointerLock_ = function () {\n\t  var canvas = this.renderer.domElement;\n\t  canvas.requestPointerLock = canvas.requestPointerLock || canvas.mozRequestPointerLock || canvas.webkitRequestPointerLock;\n\t\n\t  if (canvas.requestPointerLock) {\n\t    canvas.requestPointerLock();\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.releasePointerLock_ = function () {\n\t  document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock || document.webkitExitPointerLock;\n\t\n\t  if (document.exitPointerLock) {\n\t    document.exitPointerLock();\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.requestOrientationLock_ = function () {\n\t  if (screen.orientation && Util.isMobile()) {\n\t    screen.orientation.lock('landscape');\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.releaseOrientationLock_ = function () {\n\t  if (screen.orientation) {\n\t    screen.orientation.unlock();\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.requestFullscreen_ = function () {\n\t  var canvas = document.body;\n\t  //var canvas = this.renderer.domElement;\n\t  if (canvas.requestFullscreen) {\n\t    canvas.requestFullscreen();\n\t  } else if (canvas.mozRequestFullScreen) {\n\t    canvas.mozRequestFullScreen({ vrDisplay: this.hmd });\n\t  } else if (canvas.webkitRequestFullscreen) {\n\t    canvas.webkitRequestFullscreen({ vrDisplay: this.hmd });\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.exitFullscreen_ = function () {\n\t  if (document.exitFullscreen) {\n\t    document.exitFullscreen();\n\t  } else if (document.mozCancelFullScreen) {\n\t    document.mozCancelFullScreen();\n\t  } else if (document.webkitExitFullscreen) {\n\t    document.webkitExitFullscreen();\n\t  }\n\t};\n\t\n\tWebVRManager.prototype.onViewerChanged_ = function (viewer) {\n\t  this.deviceInfo.setViewer(viewer);\n\t\n\t  // Update the distortion appropriately.\n\t  this.distorter.recalculateUniforms();\n\t\n\t  // And update the HMDVRDevice parameters.\n\t  this.setHMDVRDeviceParams_(viewer);\n\t\n\t  // Notify anyone interested in this event.\n\t  this.emit('viewerchange', viewer);\n\t};\n\t\n\t/**\n\t * Sets parameters on CardboardHMDVRDevice. These changes are ultimately handled\n\t * by VREffect.\n\t */\n\tWebVRManager.prototype.setHMDVRDeviceParams_ = function (viewer) {\n\t  this.getDeviceByType_(_webvrPolyfill2['default']).then((function (hmd) {\n\t    if (!hmd) {\n\t      return;\n\t    }\n\t\n\t    // If we can set fields of view, do that now.\n\t    if (hmd.setFieldOfView) {\n\t      // Calculate the optimal field of view for each eye.\n\t      hmd.setFieldOfView(this.deviceInfo.getFieldOfViewLeftEye(this.isUndistorted), this.deviceInfo.getFieldOfViewRightEye(this.isUndistorted));\n\t    }\n\t\n\t    // Note: setInterpupillaryDistance is not part of the WebVR standard.\n\t    if (hmd.setInterpupillaryDistance) {\n\t      hmd.setInterpupillaryDistance(viewer.interLensDistance);\n\t    }\n\t\n\t    if (hmd.setRenderRect) {\n\t      // TODO(smus): If we can set the render rect, do it.\n\t      //var renderRect = this.deviceInfo.getUndistortedViewportLeftEye();\n\t      //hmd.setRenderRect(renderRect, renderRect);\n\t    }\n\t  }).bind(this));\n\t};\n\t\n\tmodule.exports = WebVRManager;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Boris Smus. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\tvar WebVRPolyfill = __webpack_require__(6);\n\t\n\tnew WebVRPolyfill();\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Boris Smus. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\tvar CardboardHMDVRDevice = __webpack_require__(7);\n\tvar GyroPositionSensorVRDevice = __webpack_require__(9);\n\tvar MouseKeyboardPositionSensorVRDevice = __webpack_require__(11);\n\tvar HMDVRDevice = __webpack_require__(8).HMDVRDevice;\n\tvar PositionSensorVRDevice = __webpack_require__(8).PositionSensorVRDevice;\n\t\n\tfunction WebVRPolyfill() {\n\t  this.devices = [];\n\t\n\t  // Feature detect for existing WebVR API.\n\t  if (navigator.getVRDevices) {\n\t    return;\n\t  }\n\t\n\t  // Initialize our virtual VR devices.\n\t  if (this.isCardboardCompatible()) {\n\t    this.devices.push(new CardboardHMDVRDevice());\n\t  }\n\t\n\t  // Polyfill using the right position sensor.\n\t  if (this.isMobile()) {\n\t    this.devices.push(new GyroPositionSensorVRDevice());\n\t  } else {\n\t    this.devices.push(new MouseKeyboardPositionSensorVRDevice());\n\t  }\n\t\n\t  // Provide navigator.getVRDevices.\n\t  navigator.getVRDevices = this.getVRDevices.bind(this);\n\t\n\t  // Provide the CardboardHMDVRDevice and PositionSensorVRDevice objects.\n\t  window.HMDVRDevice = HMDVRDevice;\n\t  window.PositionSensorVRDevice = PositionSensorVRDevice;\n\t}\n\t\n\tWebVRPolyfill.prototype.getVRDevices = function() {\n\t  var devices = this.devices;\n\t  return new Promise(function(resolve, reject) {\n\t    try {\n\t      resolve(devices);\n\t    } catch (e) {\n\t      reject(e);\n\t    }\n\t  });\n\t};\n\t\n\t/**\n\t * Determine if a device is mobile.\n\t */\n\tWebVRPolyfill.prototype.isMobile = function() {\n\t  return /Android/i.test(navigator.userAgent) ||\n\t      /iPhone|iPad|iPod/i.test(navigator.userAgent);;\n\t};\n\t\n\tWebVRPolyfill.prototype.isCardboardCompatible = function() {\n\t  // For now, support all iOS and Android devices.\n\t  return this.isMobile();\n\t};\n\t\n\tmodule.exports = WebVRPolyfill;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Boris Smus. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\tvar HMDVRDevice = __webpack_require__(8).HMDVRDevice;\n\t\n\t// Constants from vrtoolkit: https://github.com/googlesamples/cardboard-java.\n\tvar INTERPUPILLARY_DISTANCE = 0.06;\n\tvar DEFAULT_MAX_FOV_LEFT_RIGHT = 40;\n\tvar DEFAULT_MAX_FOV_BOTTOM = 40;\n\tvar DEFAULT_MAX_FOV_TOP = 40;\n\t\n\t/**\n\t * The HMD itself, providing rendering parameters.\n\t */\n\tfunction CardboardHMDVRDevice() {\n\t  // Set display constants.\n\t  this.eyeTranslationLeft = {\n\t    x: INTERPUPILLARY_DISTANCE * -0.5,\n\t    y: 0,\n\t    z: 0\n\t  };\n\t  this.eyeTranslationRight = {\n\t    x: INTERPUPILLARY_DISTANCE * 0.5,\n\t    y: 0,\n\t    z: 0\n\t  };\n\t\n\t  // From com/google/vrtoolkit/cardboard/FieldOfView.java.\n\t  this.recommendedFOV = {\n\t    upDegrees: DEFAULT_MAX_FOV_TOP,\n\t    downDegrees: DEFAULT_MAX_FOV_BOTTOM,\n\t    leftDegrees: DEFAULT_MAX_FOV_LEFT_RIGHT,\n\t    rightDegrees: DEFAULT_MAX_FOV_LEFT_RIGHT\n\t  };\n\t}\n\tCardboardHMDVRDevice.prototype = new HMDVRDevice();\n\t\n\tCardboardHMDVRDevice.prototype.getRecommendedEyeFieldOfView = function(whichEye) {\n\t  return this.recommendedFOV;\n\t};\n\t\n\tCardboardHMDVRDevice.prototype.getEyeTranslation = function(whichEye) {\n\t  if (whichEye == 'left') {\n\t    return this.eyeTranslationLeft;\n\t  }\n\t  if (whichEye == 'right') {\n\t    return this.eyeTranslationRight;\n\t  }\n\t};\n\t\n\tmodule.exports = CardboardHMDVRDevice;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Copyright 2015 Boris Smus. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\t/**\n\t * The base class for all VR devices.\n\t */\n\tfunction VRDevice() {\n\t  this.hardwareUnitId = 'polyfill';\n\t}\n\t\n\t/**\n\t * The base class for all VR HMD devices.\n\t */\n\tfunction HMDVRDevice() {\n\t}\n\tHMDVRDevice.prototype = new VRDevice();\n\t\n\t/**\n\t * The base class for all VR position sensor devices.\n\t */\n\tfunction PositionSensorVRDevice() {\n\t}\n\tPositionSensorVRDevice.prototype = new VRDevice();\n\t\n\tmodule.exports.VRDevice = VRDevice;\n\tmodule.exports.HMDVRDevice = HMDVRDevice;\n\tmodule.exports.PositionSensorVRDevice = PositionSensorVRDevice;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Boris Smus. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\tvar PositionSensorVRDevice = __webpack_require__(8).PositionSensorVRDevice;\n\tvar THREE = __webpack_require__(10);\n\t\n\t/**\n\t * The positional sensor, implemented using web DeviceOrientation APIs.\n\t */\n\tfunction GyroPositionSensorVRDevice() {\n\t  // Subscribe to deviceorientation events.\n\t  window.addEventListener('deviceorientation', this.onDeviceOrientationChange.bind(this));\n\t  window.addEventListener('orientationchange', this.onScreenOrientationChange.bind(this));\n\t  this.deviceOrientation = null;\n\t  this.screenOrientation = window.orientation;\n\t\n\t  // Helper objects for calculating orientation.\n\t  this.finalQuaternion = new THREE.Quaternion();\n\t  this.deviceEuler = new THREE.Euler();\n\t  this.screenTransform = new THREE.Quaternion();\n\t  // -PI/2 around the x-axis.\n\t  this.worldTransform = new THREE.Quaternion(-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5));\n\t}\n\tGyroPositionSensorVRDevice.prototype = new PositionSensorVRDevice();\n\t\n\t/**\n\t * Returns {orientation: {x,y,z,w}, position: null}.\n\t * Position is not supported since we can't do 6DOF.\n\t */\n\tGyroPositionSensorVRDevice.prototype.getState = function() {\n\t  return {\n\t    orientation: this.getOrientation(),\n\t    position: null\n\t  }\n\t};\n\t\n\tGyroPositionSensorVRDevice.prototype.onDeviceOrientationChange =\n\t    function(deviceOrientation) {\n\t  this.deviceOrientation = deviceOrientation;\n\t};\n\t\n\tGyroPositionSensorVRDevice.prototype.onScreenOrientationChange =\n\t    function(screenOrientation) {\n\t  this.screenOrientation = window.orientation;\n\t};\n\t\n\tGyroPositionSensorVRDevice.prototype.getOrientation = function() {\n\t  if (this.deviceOrientation == null) {\n\t    return null;\n\t  }\n\t\n\t  // Rotation around the z-axis.\n\t  var alpha = THREE.Math.degToRad(this.deviceOrientation.alpha);\n\t  // Front-to-back (in portrait) rotation (x-axis).\n\t  var beta = THREE.Math.degToRad(this.deviceOrientation.beta);\n\t  // Left to right (in portrait) rotation (y-axis).\n\t  var gamma = THREE.Math.degToRad(this.deviceOrientation.gamma);\n\t  var orient = THREE.Math.degToRad(this.screenOrientation);\n\t\n\t  // Use three.js to convert to quaternion. Lifted from\n\t  // https://github.com/richtr/threeVR/blob/master/js/DeviceOrientationController.js\n\t  this.deviceEuler.set(beta, alpha, -gamma, 'YXZ');\n\t  this.finalQuaternion.setFromEuler(this.deviceEuler);\n\t  this.minusHalfAngle = -orient / 2;\n\t  this.screenTransform.set(0, Math.sin(this.minusHalfAngle), 0, Math.cos(this.minusHalfAngle));\n\t  this.finalQuaternion.multiply(this.screenTransform);\n\t  this.finalQuaternion.multiply(this.worldTransform);\n\t\n\t  return this.finalQuaternion;\n\t};\n\t\n\t\n\tmodule.exports = GyroPositionSensorVRDevice;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t/*\n\t * A subset of THREE.js, providing mostly quaternion and euler-related\n\t * operations, manually lifted from\n\t * https://github.com/mrdoob/three.js/tree/master/src/math, as of 9c30286b38df039fca389989ff06ea1c15d6bad1\n\t */\n\t\n\t// Only use if the real THREE is not provided.\n\tvar THREE = window.THREE || {};\n\t\n\t// If some piece of THREE is missing, fill it in here.\n\tif (!THREE.Quaternion || !THREE.Vector3 || !THREE.Vector2 || !THREE.Euler) {\n\tconsole.log('No THREE.js found.');\n\t\n\t\n\t/*** START Quaternion ***/\n\t\n\t/**\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author alteredq / http://alteredqualia.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author bhouston / http://exocortex.com\n\t */\n\t\n\tTHREE.Quaternion = function ( x, y, z, w ) {\n\t\n\t\tthis._x = x || 0;\n\t\tthis._y = y || 0;\n\t\tthis._z = z || 0;\n\t\tthis._w = ( w !== undefined ) ? w : 1;\n\t\n\t};\n\t\n\tTHREE.Quaternion.prototype = {\n\t\n\t\tconstructor: THREE.Quaternion,\n\t\n\t\t_x: 0,_y: 0, _z: 0, _w: 0,\n\t\n\t\tget x () {\n\t\n\t\t\treturn this._x;\n\t\n\t\t},\n\t\n\t\tset x ( value ) {\n\t\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget y () {\n\t\n\t\t\treturn this._y;\n\t\n\t\t},\n\t\n\t\tset y ( value ) {\n\t\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget z () {\n\t\n\t\t\treturn this._z;\n\t\n\t\t},\n\t\n\t\tset z ( value ) {\n\t\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget w () {\n\t\n\t\t\treturn this._w;\n\t\n\t\t},\n\t\n\t\tset w ( value ) {\n\t\n\t\t\tthis._w = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tset: function ( x, y, z, w ) {\n\t\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._w = w;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopy: function ( quaternion ) {\n\t\n\t\t\tthis._x = quaternion.x;\n\t\t\tthis._y = quaternion.y;\n\t\t\tthis._z = quaternion.z;\n\t\t\tthis._w = quaternion.w;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromEuler: function ( euler, update ) {\n\t\n\t\t\tif ( euler instanceof THREE.Euler === false ) {\n\t\n\t\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\t\t\t}\n\t\n\t\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t\t//\tcontent/SpinCalc.m\n\t\n\t\t\tvar c1 = Math.cos( euler._x / 2 );\n\t\t\tvar c2 = Math.cos( euler._y / 2 );\n\t\t\tvar c3 = Math.cos( euler._z / 2 );\n\t\t\tvar s1 = Math.sin( euler._x / 2 );\n\t\t\tvar s2 = Math.sin( euler._y / 2 );\n\t\t\tvar s3 = Math.sin( euler._z / 2 );\n\t\n\t\t\tif ( euler.order === 'XYZ' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\n\t\t\t} else if ( euler.order === 'YXZ' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\n\t\t\t} else if ( euler.order === 'ZXY' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\n\t\t\t} else if ( euler.order === 'ZYX' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\n\t\t\t} else if ( euler.order === 'YZX' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\n\t\t\t} else if ( euler.order === 'XZY' ) {\n\t\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\n\t\t\t}\n\t\n\t\t\tif ( update !== false ) this.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromAxisAngle: function ( axis, angle ) {\n\t\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\t\n\t\t\t// assumes axis is normalized\n\t\n\t\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\t\n\t\t\tthis._x = axis.x * s;\n\t\t\tthis._y = axis.y * s;\n\t\t\tthis._z = axis.z * s;\n\t\t\tthis._w = Math.cos( halfAngle );\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromRotationMatrix: function ( m ) {\n\t\n\t\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\t\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\n\t\t\tvar te = m.elements,\n\t\n\t\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\t\n\t\t\t\ttrace = m11 + m22 + m33,\n\t\t\t\ts;\n\t\n\t\t\tif ( trace > 0 ) {\n\t\n\t\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\t\n\t\t\t\tthis._w = 0.25 / s;\n\t\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\t\tthis._z = ( m21 - m12 ) * s;\n\t\n\t\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\t\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\t\n\t\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\t\tthis._x = 0.25 * s;\n\t\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\t\tthis._z = ( m13 + m31 ) / s;\n\t\n\t\t\t} else if ( m22 > m33 ) {\n\t\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\t\n\t\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\t\tthis._y = 0.25 * s;\n\t\t\t\tthis._z = ( m23 + m32 ) / s;\n\t\n\t\t\t} else {\n\t\n\t\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\t\n\t\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\t\tthis._z = 0.25 * s;\n\t\n\t\t\t}\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromUnitVectors: function () {\n\t\n\t\t\t// http://lolengine.net/blog/2014/02/24/quaternion-from-two-vectors-final\n\t\n\t\t\t// assumes direction vectors vFrom and vTo are normalized\n\t\n\t\t\tvar v1, r;\n\t\n\t\t\tvar EPS = 0.000001;\n\t\n\t\t\treturn function ( vFrom, vTo ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\tr = vFrom.dot( vTo ) + 1;\n\t\n\t\t\t\tif ( r < EPS ) {\n\t\n\t\t\t\t\tr = 0;\n\t\n\t\t\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\t\n\t\t\t\t\t\tv1.set( - vFrom.y, vFrom.x, 0 );\n\t\n\t\t\t\t\t} else {\n\t\n\t\t\t\t\t\tv1.set( 0, - vFrom.z, vFrom.y );\n\t\n\t\t\t\t\t}\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tv1.crossVectors( vFrom, vTo );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tthis._x = v1.x;\n\t\t\t\tthis._y = v1.y;\n\t\t\t\tthis._z = v1.z;\n\t\t\t\tthis._w = r;\n\t\n\t\t\t\tthis.normalize();\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t}(),\n\t\n\t\tinverse: function () {\n\t\n\t\t\tthis.conjugate().normalize();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tconjugate: function () {\n\t\n\t\t\tthis._x *= - 1;\n\t\t\tthis._y *= - 1;\n\t\t\tthis._z *= - 1;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdot: function ( v ) {\n\t\n\t\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\t\n\t\t},\n\t\n\t\tlengthSq: function () {\n\t\n\t\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\t\n\t\t},\n\t\n\t\tlength: function () {\n\t\n\t\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\tvar l = this.length();\n\t\n\t\t\tif ( l === 0 ) {\n\t\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = 1;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tl = 1 / l;\n\t\n\t\t\t\tthis._x = this._x * l;\n\t\t\t\tthis._y = this._y * l;\n\t\t\t\tthis._z = this._z * l;\n\t\t\t\tthis._w = this._w * l;\n\t\n\t\t\t}\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiply: function ( q, p ) {\n\t\n\t\t\tif ( p !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\t\treturn this.multiplyQuaternions( q, p );\n\t\n\t\t\t}\n\t\n\t\t\treturn this.multiplyQuaternions( this, q );\n\t\n\t\t},\n\t\n\t\tmultiplyQuaternions: function ( a, b ) {\n\t\n\t\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\t\n\t\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\t\n\t\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyVector3: function ( vector ) {\n\t\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\t\t\treturn vector.applyQuaternion( this );\n\t\n\t\t},\n\t\n\t\tslerp: function ( qb, t ) {\n\t\n\t\t\tif ( t === 0 ) return this;\n\t\t\tif ( t === 1 ) return this.copy( qb );\n\t\n\t\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\t\n\t\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\t\n\t\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\t\n\t\t\tif ( cosHalfTheta < 0 ) {\n\t\n\t\t\t\tthis._w = - qb._w;\n\t\t\t\tthis._x = - qb._x;\n\t\t\t\tthis._y = - qb._y;\n\t\t\t\tthis._z = - qb._z;\n\t\n\t\t\t\tcosHalfTheta = - cosHalfTheta;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tthis.copy( qb );\n\t\n\t\t\t}\n\t\n\t\t\tif ( cosHalfTheta >= 1.0 ) {\n\t\n\t\t\t\tthis._w = w;\n\t\t\t\tthis._x = x;\n\t\t\t\tthis._y = y;\n\t\t\t\tthis._z = z;\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t\tvar halfTheta = Math.acos( cosHalfTheta );\n\t\t\tvar sinHalfTheta = Math.sqrt( 1.0 - cosHalfTheta * cosHalfTheta );\n\t\n\t\t\tif ( Math.abs( sinHalfTheta ) < 0.001 ) {\n\t\n\t\t\t\tthis._w = 0.5 * ( w + this._w );\n\t\t\t\tthis._x = 0.5 * ( x + this._x );\n\t\t\t\tthis._y = 0.5 * ( y + this._y );\n\t\t\t\tthis._z = 0.5 * ( z + this._z );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t}\n\t\n\t\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\t\n\t\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( quaternion ) {\n\t\n\t\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis._x = array[ offset ];\n\t\t\tthis._y = array[ offset + 1 ];\n\t\t\tthis._z = array[ offset + 2 ];\n\t\t\tthis._w = array[ offset + 3 ];\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this._x;\n\t\t\tarray[ offset + 1 ] = this._y;\n\t\t\tarray[ offset + 2 ] = this._z;\n\t\t\tarray[ offset + 3 ] = this._w;\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tonChange: function ( callback ) {\n\t\n\t\t\tthis.onChangeCallback = callback;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tonChangeCallback: function () {},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new THREE.Quaternion( this._x, this._y, this._z, this._w );\n\t\n\t\t}\n\t\n\t};\n\t\n\tTHREE.Quaternion.slerp = function ( qa, qb, qm, t ) {\n\t\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\t\n\t}\n\t\n\t/*** END Quaternion ***/\n\t/*** START Vector2 ***/\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author philogb / http://blog.thejit.org/\n\t * @author egraether / http://egraether.com/\n\t * @author zz85 / http://www.lab4games.net/zz85/blog\n\t */\n\t\n\tTHREE.Vector2 = function ( x, y ) {\n\t\n\t\tthis.x = x || 0;\n\t\tthis.y = y || 0;\n\t\n\t};\n\t\n\tTHREE.Vector2.prototype = {\n\t\n\t\tconstructor: THREE.Vector2,\n\t\n\t\tset: function ( x, y ) {\n\t\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetX: function ( x ) {\n\t\n\t\t\tthis.x = x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetY: function ( y ) {\n\t\n\t\t\tthis.y = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetComponent: function ( index, value ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: this.x = value; break;\n\t\t\t\tcase 1: this.y = value; break;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tgetComponent: function ( index ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: return this.x;\n\t\t\t\tcase 1: return this.y;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tcopy: function ( v ) {\n\t\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tadd: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\t\treturn this.addVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScalar: function ( s ) {\n\t\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsub: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\t\treturn this.subVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsubVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiply: function ( v ) {\n\t\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyScalar: function ( s ) {\n\t\n\t\t\tthis.x *= s;\n\t\t\tthis.y *= s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivide: function ( v ) {\n\t\n\t\t\tthis.x /= v.x;\n\t\t\tthis.y /= v.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivideScalar: function ( scalar ) {\n\t\n\t\t\tif ( scalar !== 0 ) {\n\t\n\t\t\t\tvar invScalar = 1 / scalar;\n\t\n\t\t\t\tthis.x *= invScalar;\n\t\t\t\tthis.y *= invScalar;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tthis.x = 0;\n\t\t\t\tthis.y = 0;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmin: function ( v ) {\n\t\n\t\t\tif ( this.x > v.x ) {\n\t\n\t\t\t\tthis.x = v.x;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.y > v.y ) {\n\t\n\t\t\t\tthis.y = v.y;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmax: function ( v ) {\n\t\n\t\t\tif ( this.x < v.x ) {\n\t\n\t\t\t\tthis.x = v.x;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.y < v.y ) {\n\t\n\t\t\t\tthis.y = v.y;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclamp: function ( min, max ) {\n\t\n\t\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\n\t\n\t\t\tif ( this.x < min.x ) {\n\t\n\t\t\t\tthis.x = min.x;\n\t\n\t\t\t} else if ( this.x > max.x ) {\n\t\n\t\t\t\tthis.x = max.x;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.y < min.y ) {\n\t\n\t\t\t\tthis.y = min.y;\n\t\n\t\t\t} else if ( this.y > max.y ) {\n\t\n\t\t\t\tthis.y = max.y;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\t},\n\t\n\t\tclampScalar: ( function () {\n\t\n\t\t\tvar min, max;\n\t\n\t\t\treturn function ( minVal, maxVal ) {\n\t\n\t\t\t\tif ( min === undefined ) {\n\t\n\t\t\t\t\tmin = new THREE.Vector2();\n\t\t\t\t\tmax = new THREE.Vector2();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tmin.set( minVal, minVal );\n\t\t\t\tmax.set( maxVal, maxVal );\n\t\n\t\t\t\treturn this.clamp( min, max );\n\t\n\t\t\t};\n\t\n\t\t} )(),\n\t\n\t\tfloor: function () {\n\t\n\t\t\tthis.x = Math.floor( this.x );\n\t\t\tthis.y = Math.floor( this.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tceil: function () {\n\t\n\t\t\tthis.x = Math.ceil( this.x );\n\t\t\tthis.y = Math.ceil( this.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tround: function () {\n\t\n\t\t\tthis.x = Math.round( this.x );\n\t\t\tthis.y = Math.round( this.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\troundToZero: function () {\n\t\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tnegate: function () {\n\t\n\t\t\tthis.x = - this.x;\n\t\t\tthis.y = - this.y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdot: function ( v ) {\n\t\n\t\t\treturn this.x * v.x + this.y * v.y;\n\t\n\t\t},\n\t\n\t\tlengthSq: function () {\n\t\n\t\t\treturn this.x * this.x + this.y * this.y;\n\t\n\t\t},\n\t\n\t\tlength: function () {\n\t\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\treturn this.divideScalar( this.length() );\n\t\n\t\t},\n\t\n\t\tdistanceTo: function ( v ) {\n\t\n\t\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\t\n\t\t},\n\t\n\t\tdistanceToSquared: function ( v ) {\n\t\n\t\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\n\t\t},\n\t\n\t\tsetLength: function ( l ) {\n\t\n\t\t\tvar oldLength = this.length();\n\t\n\t\t\tif ( oldLength !== 0 && l !== oldLength ) {\n\t\n\t\t\t\tthis.multiplyScalar( l / oldLength );\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tlerp: function ( v, alpha ) {\n\t\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( v ) {\n\t\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis.x = array[ offset ];\n\t\t\tthis.y = array[ offset + 1 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this.x;\n\t\t\tarray[ offset + 1 ] = this.y;\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tfromAttribute: function ( attribute, index, offset ) {\n\t\n\t\t    if ( offset === undefined ) offset = 0;\n\t\n\t\t    index = index * attribute.itemSize + offset;\n\t\n\t\t    this.x = attribute.array[ index ];\n\t\t    this.y = attribute.array[ index + 1 ];\n\t\n\t\t    return this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new THREE.Vector2( this.x, this.y );\n\t\n\t\t}\n\t\n\t};\n\t/*** END Vector2 ***/\n\t/*** START Vector3 ***/\n\t\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author *kile / http://kile.stravaganza.org/\n\t * @author philogb / http://blog.thejit.org/\n\t * @author mikael emtinger / http://gomo.se/\n\t * @author egraether / http://egraether.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t */\n\t\n\tTHREE.Vector3 = function ( x, y, z ) {\n\t\n\t\tthis.x = x || 0;\n\t\tthis.y = y || 0;\n\t\tthis.z = z || 0;\n\t\n\t};\n\t\n\tTHREE.Vector3.prototype = {\n\t\n\t\tconstructor: THREE.Vector3,\n\t\n\t\tset: function ( x, y, z ) {\n\t\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\t\t\tthis.z = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetX: function ( x ) {\n\t\n\t\t\tthis.x = x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetY: function ( y ) {\n\t\n\t\t\tthis.y = y;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetZ: function ( z ) {\n\t\n\t\t\tthis.z = z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetComponent: function ( index, value ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: this.x = value; break;\n\t\t\t\tcase 1: this.y = value; break;\n\t\t\t\tcase 2: this.z = value; break;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tgetComponent: function ( index ) {\n\t\n\t\t\tswitch ( index ) {\n\t\n\t\t\t\tcase 0: return this.x;\n\t\t\t\tcase 1: return this.y;\n\t\t\t\tcase 2: return this.z;\n\t\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tcopy: function ( v ) {\n\t\n\t\t\tthis.x = v.x;\n\t\t\tthis.y = v.y;\n\t\t\tthis.z = v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tadd: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\t\treturn this.addVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x += v.x;\n\t\t\tthis.y += v.y;\n\t\t\tthis.z += v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddScalar: function ( s ) {\n\t\n\t\t\tthis.x += s;\n\t\t\tthis.y += s;\n\t\t\tthis.z += s;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\taddVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x + b.x;\n\t\t\tthis.y = a.y + b.y;\n\t\t\tthis.z = a.z + b.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsub: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\t\treturn this.subVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x -= v.x;\n\t\t\tthis.y -= v.y;\n\t\t\tthis.z -= v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsubVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x - b.x;\n\t\t\tthis.y = a.y - b.y;\n\t\t\tthis.z = a.z - b.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiply: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\t\treturn this.multiplyVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tthis.x *= v.x;\n\t\t\tthis.y *= v.y;\n\t\t\tthis.z *= v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyScalar: function ( scalar ) {\n\t\n\t\t\tthis.x *= scalar;\n\t\t\tthis.y *= scalar;\n\t\t\tthis.z *= scalar;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmultiplyVectors: function ( a, b ) {\n\t\n\t\t\tthis.x = a.x * b.x;\n\t\t\tthis.y = a.y * b.y;\n\t\t\tthis.z = a.z * b.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyEuler: function () {\n\t\n\t\t\tvar quaternion;\n\t\n\t\t\treturn function ( euler ) {\n\t\n\t\t\t\tif ( euler instanceof THREE.Euler === false ) {\n\t\n\t\t\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\t\n\t\t\t\t}\n\t\n\t\t\t\tif ( quaternion === undefined ) quaternion = new THREE.Quaternion();\n\t\n\t\t\t\tthis.applyQuaternion( quaternion.setFromEuler( euler ) );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tapplyAxisAngle: function () {\n\t\n\t\t\tvar quaternion;\n\t\n\t\t\treturn function ( axis, angle ) {\n\t\n\t\t\t\tif ( quaternion === undefined ) quaternion = new THREE.Quaternion();\n\t\n\t\t\t\tthis.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tapplyMatrix3: function ( m ) {\n\t\n\t\t\tvar x = this.x;\n\t\t\tvar y = this.y;\n\t\t\tvar z = this.z;\n\t\n\t\t\tvar e = m.elements;\n\t\n\t\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyMatrix4: function ( m ) {\n\t\n\t\t\t// input: THREE.Matrix4 affine matrix\n\t\n\t\t\tvar x = this.x, y = this.y, z = this.z;\n\t\n\t\t\tvar e = m.elements;\n\t\n\t\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ];\n\t\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ];\n\t\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyProjection: function ( m ) {\n\t\n\t\t\t// input: THREE.Matrix4 projection matrix\n\t\n\t\t\tvar x = this.x, y = this.y, z = this.z;\n\t\n\t\t\tvar e = m.elements;\n\t\t\tvar d = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] ); // perspective divide\n\t\n\t\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z + e[ 12 ] ) * d;\n\t\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z + e[ 13 ] ) * d;\n\t\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * d;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tapplyQuaternion: function ( q ) {\n\t\n\t\t\tvar x = this.x;\n\t\t\tvar y = this.y;\n\t\t\tvar z = this.z;\n\t\n\t\t\tvar qx = q.x;\n\t\t\tvar qy = q.y;\n\t\t\tvar qz = q.z;\n\t\t\tvar qw = q.w;\n\t\n\t\t\t// calculate quat * vector\n\t\n\t\t\tvar ix =  qw * x + qy * z - qz * y;\n\t\t\tvar iy =  qw * y + qz * x - qx * z;\n\t\t\tvar iz =  qw * z + qx * y - qy * x;\n\t\t\tvar iw = - qx * x - qy * y - qz * z;\n\t\n\t\t\t// calculate result * inverse quat\n\t\n\t\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tproject: function () {\n\t\n\t\t\tvar matrix;\n\t\n\t\t\treturn function ( camera ) {\n\t\n\t\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\n\t\n\t\t\t\tmatrix.multiplyMatrices( camera.projectionMatrix, matrix.getInverse( camera.matrixWorld ) );\n\t\t\t\treturn this.applyProjection( matrix );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tunproject: function () {\n\t\n\t\t\tvar matrix;\n\t\n\t\t\treturn function ( camera ) {\n\t\n\t\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\n\t\n\t\t\t\tmatrix.multiplyMatrices( camera.matrixWorld, matrix.getInverse( camera.projectionMatrix ) );\n\t\t\t\treturn this.applyProjection( matrix );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\ttransformDirection: function ( m ) {\n\t\n\t\t\t// input: THREE.Matrix4 affine matrix\n\t\t\t// vector interpreted as a direction\n\t\n\t\t\tvar x = this.x, y = this.y, z = this.z;\n\t\n\t\t\tvar e = m.elements;\n\t\n\t\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ]  * z;\n\t\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ]  * z;\n\t\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\t\n\t\t\tthis.normalize();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivide: function ( v ) {\n\t\n\t\t\tthis.x /= v.x;\n\t\t\tthis.y /= v.y;\n\t\t\tthis.z /= v.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdivideScalar: function ( scalar ) {\n\t\n\t\t\tif ( scalar !== 0 ) {\n\t\n\t\t\t\tvar invScalar = 1 / scalar;\n\t\n\t\t\t\tthis.x *= invScalar;\n\t\t\t\tthis.y *= invScalar;\n\t\t\t\tthis.z *= invScalar;\n\t\n\t\t\t} else {\n\t\n\t\t\t\tthis.x = 0;\n\t\t\t\tthis.y = 0;\n\t\t\t\tthis.z = 0;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmin: function ( v ) {\n\t\n\t\t\tif ( this.x > v.x ) {\n\t\n\t\t\t\tthis.x = v.x;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.y > v.y ) {\n\t\n\t\t\t\tthis.y = v.y;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.z > v.z ) {\n\t\n\t\t\t\tthis.z = v.z;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tmax: function ( v ) {\n\t\n\t\t\tif ( this.x < v.x ) {\n\t\n\t\t\t\tthis.x = v.x;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.y < v.y ) {\n\t\n\t\t\t\tthis.y = v.y;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.z < v.z ) {\n\t\n\t\t\t\tthis.z = v.z;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclamp: function ( min, max ) {\n\t\n\t\t\t// This function assumes min < max, if this assumption isn't true it will not operate correctly\n\t\n\t\t\tif ( this.x < min.x ) {\n\t\n\t\t\t\tthis.x = min.x;\n\t\n\t\t\t} else if ( this.x > max.x ) {\n\t\n\t\t\t\tthis.x = max.x;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.y < min.y ) {\n\t\n\t\t\t\tthis.y = min.y;\n\t\n\t\t\t} else if ( this.y > max.y ) {\n\t\n\t\t\t\tthis.y = max.y;\n\t\n\t\t\t}\n\t\n\t\t\tif ( this.z < min.z ) {\n\t\n\t\t\t\tthis.z = min.z;\n\t\n\t\t\t} else if ( this.z > max.z ) {\n\t\n\t\t\t\tthis.z = max.z;\n\t\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tclampScalar: ( function () {\n\t\n\t\t\tvar min, max;\n\t\n\t\t\treturn function ( minVal, maxVal ) {\n\t\n\t\t\t\tif ( min === undefined ) {\n\t\n\t\t\t\t\tmin = new THREE.Vector3();\n\t\t\t\t\tmax = new THREE.Vector3();\n\t\n\t\t\t\t}\n\t\n\t\t\t\tmin.set( minVal, minVal, minVal );\n\t\t\t\tmax.set( maxVal, maxVal, maxVal );\n\t\n\t\t\t\treturn this.clamp( min, max );\n\t\n\t\t\t};\n\t\n\t\t} )(),\n\t\n\t\tfloor: function () {\n\t\n\t\t\tthis.x = Math.floor( this.x );\n\t\t\tthis.y = Math.floor( this.y );\n\t\t\tthis.z = Math.floor( this.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tceil: function () {\n\t\n\t\t\tthis.x = Math.ceil( this.x );\n\t\t\tthis.y = Math.ceil( this.y );\n\t\t\tthis.z = Math.ceil( this.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tround: function () {\n\t\n\t\t\tthis.x = Math.round( this.x );\n\t\t\tthis.y = Math.round( this.y );\n\t\t\tthis.z = Math.round( this.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\troundToZero: function () {\n\t\n\t\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tnegate: function () {\n\t\n\t\t\tthis.x = - this.x;\n\t\t\tthis.y = - this.y;\n\t\t\tthis.z = - this.z;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tdot: function ( v ) {\n\t\n\t\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\t\n\t\t},\n\t\n\t\tlengthSq: function () {\n\t\n\t\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\t\n\t\t},\n\t\n\t\tlength: function () {\n\t\n\t\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\t\n\t\t},\n\t\n\t\tlengthManhattan: function () {\n\t\n\t\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\t\n\t\t},\n\t\n\t\tnormalize: function () {\n\t\n\t\t\treturn this.divideScalar( this.length() );\n\t\n\t\t},\n\t\n\t\tsetLength: function ( l ) {\n\t\n\t\t\tvar oldLength = this.length();\n\t\n\t\t\tif ( oldLength !== 0 && l !== oldLength  ) {\n\t\n\t\t\t\tthis.multiplyScalar( l / oldLength );\n\t\t\t}\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tlerp: function ( v, alpha ) {\n\t\n\t\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcross: function ( v, w ) {\n\t\n\t\t\tif ( w !== undefined ) {\n\t\n\t\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\t\treturn this.crossVectors( v, w );\n\t\n\t\t\t}\n\t\n\t\t\tvar x = this.x, y = this.y, z = this.z;\n\t\n\t\t\tthis.x = y * v.z - z * v.y;\n\t\t\tthis.y = z * v.x - x * v.z;\n\t\t\tthis.z = x * v.y - y * v.x;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcrossVectors: function ( a, b ) {\n\t\n\t\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\t\tvar bx = b.x, by = b.y, bz = b.z;\n\t\n\t\t\tthis.x = ay * bz - az * by;\n\t\t\tthis.y = az * bx - ax * bz;\n\t\t\tthis.z = ax * by - ay * bx;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tprojectOnVector: function () {\n\t\n\t\t\tvar v1, dot;\n\t\n\t\t\treturn function ( vector ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\tv1.copy( vector ).normalize();\n\t\n\t\t\t\tdot = this.dot( v1 );\n\t\n\t\t\t\treturn this.copy( v1 ).multiplyScalar( dot );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tprojectOnPlane: function () {\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function ( planeNormal ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\tv1.copy( this ).projectOnVector( planeNormal );\n\t\n\t\t\t\treturn this.sub( v1 );\n\t\n\t\t\t}\n\t\n\t\t}(),\n\t\n\t\treflect: function () {\n\t\n\t\t\t// reflect incident vector off plane orthogonal to normal\n\t\t\t// normal is assumed to have unit length\n\t\n\t\t\tvar v1;\n\t\n\t\t\treturn function ( normal ) {\n\t\n\t\t\t\tif ( v1 === undefined ) v1 = new THREE.Vector3();\n\t\n\t\t\t\treturn this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\t\n\t\t\t}\n\t\n\t\t}(),\n\t\n\t\tangleTo: function ( v ) {\n\t\n\t\t\tvar theta = this.dot( v ) / ( this.length() * v.length() );\n\t\n\t\t\t// clamp, to handle numerical problems\n\t\n\t\t\treturn Math.acos( THREE.Math.clamp( theta, - 1, 1 ) );\n\t\n\t\t},\n\t\n\t\tdistanceTo: function ( v ) {\n\t\n\t\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\t\n\t\t},\n\t\n\t\tdistanceToSquared: function ( v ) {\n\t\n\t\t\tvar dx = this.x - v.x;\n\t\t\tvar dy = this.y - v.y;\n\t\t\tvar dz = this.z - v.z;\n\t\n\t\t\treturn dx * dx + dy * dy + dz * dz;\n\t\n\t\t},\n\t\n\t\tsetEulerFromRotationMatrix: function ( m, order ) {\n\t\n\t\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\t\n\t\t},\n\t\n\t\tsetEulerFromQuaternion: function ( q, order ) {\n\t\n\t\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\t\n\t\t},\n\t\n\t\tgetPositionFromMatrix: function ( m ) {\n\t\n\t\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\n\t\t\treturn this.setFromMatrixPosition( m );\n\t\n\t\t},\n\t\n\t\tgetScaleFromMatrix: function ( m ) {\n\t\n\t\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\n\t\t\treturn this.setFromMatrixScale( m );\n\t\t},\n\t\n\t\tgetColumnFromMatrix: function ( index, matrix ) {\n\t\n\t\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\n\t\t\treturn this.setFromMatrixColumn( index, matrix );\n\t\n\t\t},\n\t\n\t\tsetFromMatrixPosition: function ( m ) {\n\t\n\t\t\tthis.x = m.elements[ 12 ];\n\t\t\tthis.y = m.elements[ 13 ];\n\t\t\tthis.z = m.elements[ 14 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromMatrixScale: function ( m ) {\n\t\n\t\t\tvar sx = this.set( m.elements[ 0 ], m.elements[ 1 ], m.elements[  2 ] ).length();\n\t\t\tvar sy = this.set( m.elements[ 4 ], m.elements[ 5 ], m.elements[  6 ] ).length();\n\t\t\tvar sz = this.set( m.elements[ 8 ], m.elements[ 9 ], m.elements[ 10 ] ).length();\n\t\n\t\t\tthis.x = sx;\n\t\t\tthis.y = sy;\n\t\t\tthis.z = sz;\n\t\n\t\t\treturn this;\n\t\t},\n\t\n\t\tsetFromMatrixColumn: function ( index, matrix ) {\n\t\n\t\t\tvar offset = index * 4;\n\t\n\t\t\tvar me = matrix.elements;\n\t\n\t\t\tthis.x = me[ offset ];\n\t\t\tthis.y = me[ offset + 1 ];\n\t\t\tthis.z = me[ offset + 2 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tequals: function ( v ) {\n\t\n\t\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array, offset ) {\n\t\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tthis.x = array[ offset ];\n\t\t\tthis.y = array[ offset + 1 ];\n\t\t\tthis.z = array[ offset + 2 ];\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function ( array, offset ) {\n\t\n\t\t\tif ( array === undefined ) array = [];\n\t\t\tif ( offset === undefined ) offset = 0;\n\t\n\t\t\tarray[ offset ] = this.x;\n\t\t\tarray[ offset + 1 ] = this.y;\n\t\t\tarray[ offset + 2 ] = this.z;\n\t\n\t\t\treturn array;\n\t\n\t\t},\n\t\n\t\tfromAttribute: function ( attribute, index, offset ) {\n\t\n\t\t    if ( offset === undefined ) offset = 0;\n\t\n\t\t    index = index * attribute.itemSize + offset;\n\t\n\t\t    this.x = attribute.array[ index ];\n\t\t    this.y = attribute.array[ index + 1 ];\n\t\t    this.z = attribute.array[ index + 2 ];\n\t\n\t\t    return this;\n\t\n\t\t},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new THREE.Vector3( this.x, this.y, this.z );\n\t\n\t\t}\n\t\n\t};\n\t/*** END Vector3 ***/\n\t/*** START Euler ***/\n\t/**\n\t * @author mrdoob / http://mrdoob.com/\n\t * @author WestLangley / http://github.com/WestLangley\n\t * @author bhouston / http://exocortex.com\n\t */\n\t\n\tTHREE.Euler = function ( x, y, z, order ) {\n\t\n\t\tthis._x = x || 0;\n\t\tthis._y = y || 0;\n\t\tthis._z = z || 0;\n\t\tthis._order = order || THREE.Euler.DefaultOrder;\n\t\n\t};\n\t\n\tTHREE.Euler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\t\n\tTHREE.Euler.DefaultOrder = 'XYZ';\n\t\n\tTHREE.Euler.prototype = {\n\t\n\t\tconstructor: THREE.Euler,\n\t\n\t\t_x: 0, _y: 0, _z: 0, _order: THREE.Euler.DefaultOrder,\n\t\n\t\tget x () {\n\t\n\t\t\treturn this._x;\n\t\n\t\t},\n\t\n\t\tset x ( value ) {\n\t\n\t\t\tthis._x = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget y () {\n\t\n\t\t\treturn this._y;\n\t\n\t\t},\n\t\n\t\tset y ( value ) {\n\t\n\t\t\tthis._y = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget z () {\n\t\n\t\t\treturn this._z;\n\t\n\t\t},\n\t\n\t\tset z ( value ) {\n\t\n\t\t\tthis._z = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tget order () {\n\t\n\t\t\treturn this._order;\n\t\n\t\t},\n\t\n\t\tset order ( value ) {\n\t\n\t\t\tthis._order = value;\n\t\t\tthis.onChangeCallback();\n\t\n\t\t},\n\t\n\t\tset: function ( x, y, z, order ) {\n\t\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\t\t\tthis._order = order || this._order;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tcopy: function ( euler ) {\n\t\n\t\t\tthis._x = euler._x;\n\t\t\tthis._y = euler._y;\n\t\t\tthis._z = euler._z;\n\t\t\tthis._order = euler._order;\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromRotationMatrix: function ( m, order, update ) {\n\t\n\t\t\tvar clamp = THREE.Math.clamp;\n\t\n\t\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\t\n\t\t\tvar te = m.elements;\n\t\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\t\n\t\t\torder = order || this._order;\n\t\n\t\t\tif ( order === 'XYZ' ) {\n\t\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m13 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'YXZ' ) {\n\t\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m23 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'ZXY' ) {\n\t\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m32 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'ZYX' ) {\n\t\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m31 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'YZX' ) {\n\t\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m21 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\n\t\t\t\t}\n\t\n\t\t\t} else if ( order === 'XZY' ) {\n\t\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\t\n\t\t\t\tif ( Math.abs( m12 ) < 0.99999 ) {\n\t\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\t\n\t\t\t\t} else {\n\t\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\t\n\t\t\t\t}\n\t\n\t\t\t} else {\n\t\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order )\n\t\n\t\t\t}\n\t\n\t\t\tthis._order = order;\n\t\n\t\t\tif ( update !== false ) this.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tsetFromQuaternion: function () {\n\t\n\t\t\tvar matrix;\n\t\n\t\t\treturn function ( q, order, update ) {\n\t\n\t\t\t\tif ( matrix === undefined ) matrix = new THREE.Matrix4();\n\t\t\t\tmatrix.makeRotationFromQuaternion( q );\n\t\t\t\tthis.setFromRotationMatrix( matrix, order, update );\n\t\n\t\t\t\treturn this;\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tsetFromVector3: function ( v, order ) {\n\t\n\t\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\t\n\t\t},\n\t\n\t\treorder: function () {\n\t\n\t\t\t// WARNING: this discards revolution information -bhouston\n\t\n\t\t\tvar q = new THREE.Quaternion();\n\t\n\t\t\treturn function ( newOrder ) {\n\t\n\t\t\t\tq.setFromEuler( this );\n\t\t\t\tthis.setFromQuaternion( q, newOrder );\n\t\n\t\t\t};\n\t\n\t\t}(),\n\t\n\t\tequals: function ( euler ) {\n\t\n\t\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\t\n\t\t},\n\t\n\t\tfromArray: function ( array ) {\n\t\n\t\t\tthis._x = array[ 0 ];\n\t\t\tthis._y = array[ 1 ];\n\t\t\tthis._z = array[ 2 ];\n\t\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\t\n\t\t\tthis.onChangeCallback();\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\ttoArray: function () {\n\t\n\t\t\treturn [ this._x, this._y, this._z, this._order ];\n\t\n\t\t},\n\t\n\t\ttoVector3: function ( optionalResult ) {\n\t\n\t\t\tif ( optionalResult ) {\n\t\n\t\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\t\n\t\t\t} else {\n\t\n\t\t\t\treturn new THREE.Vector3( this._x, this._y, this._z );\n\t\n\t\t\t}\n\t\n\t\t},\n\t\n\t\tonChange: function ( callback ) {\n\t\n\t\t\tthis.onChangeCallback = callback;\n\t\n\t\t\treturn this;\n\t\n\t\t},\n\t\n\t\tonChangeCallback: function () {},\n\t\n\t\tclone: function () {\n\t\n\t\t\treturn new THREE.Euler( this._x, this._y, this._z, this._order );\n\t\n\t\t}\n\t\n\t};\n\t/*** END Euler ***/\n\t\n\t}\n\t\n\tmodule.exports = THREE;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Boris Smus. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\tvar PositionSensorVRDevice = __webpack_require__(8).PositionSensorVRDevice;\n\tvar THREE = __webpack_require__(10);\n\t\n\t// How much to rotate per key stroke.\n\tvar KEY_SPEED = 0.15;\n\tvar KEY_ANIMATION_DURATION = 80;\n\t\n\t// How much to rotate for mouse events.\n\tvar MOUSE_SPEED_X = 0.5;\n\tvar MOUSE_SPEED_Y = 0.3;\n\t\n\t/**\n\t * Another virtual position sensor, this time implemented using keyboard and\n\t * mouse APIs. This is designed as for desktops/laptops where no Device*\n\t * events work.\n\t */\n\tfunction MouseKeyboardPositionSensorVRDevice() {\n\t  // Attach to mouse and keyboard events.\n\t  window.addEventListener('keydown', this.onKeyDown_.bind(this));\n\t  window.addEventListener('mousemove', this.onMouseMove_.bind(this));\n\t  window.addEventListener('mousedown', this.onMouseDown_.bind(this));\n\t  window.addEventListener('mouseup', this.onMouseUp_.bind(this));\n\t\n\t  this.phi = 0;\n\t  this.theta = 0;\n\t\n\t  // Variables for keyboard-based rotation animation.\n\t  this.targetAngle = null;\n\t\n\t  // State variables for calculations.\n\t  this.euler = new THREE.Euler();\n\t  this.orientation = new THREE.Quaternion();\n\t\n\t  // Variables for mouse-based rotation.\n\t  this.rotateStart = new THREE.Vector2();\n\t  this.rotateEnd = new THREE.Vector2();\n\t  this.rotateDelta = new THREE.Vector2();\n\t}\n\tMouseKeyboardPositionSensorVRDevice.prototype = new PositionSensorVRDevice();\n\t\n\t/**\n\t * Returns {orientation: {x,y,z,w}, position: null}.\n\t * Position is not supported for parity with other PositionSensors.\n\t */\n\tMouseKeyboardPositionSensorVRDevice.prototype.getState = function() {\n\t  this.euler.set(this.phi, this.theta, 0, 'YXZ');\n\t  this.orientation.setFromEuler(this.euler);\n\t\n\t  return {\n\t    orientation: this.orientation,\n\t    position: null\n\t  }\n\t};\n\t\n\tMouseKeyboardPositionSensorVRDevice.prototype.onKeyDown_ = function(e) {\n\t  // Track WASD and arrow keys.\n\t  if (e.keyCode == 38 || e.keyCode == 87) { // W or Up key.\n\t    this.animatePhi_(this.phi + KEY_SPEED);\n\t  } else if (e.keyCode == 39 || e.keyCode == 68) { // D or Right key.\n\t    this.animateTheta_(this.theta - KEY_SPEED);\n\t  } else if (e.keyCode == 40 || e.keyCode == 83) { // S or Down key.\n\t    this.animatePhi_(this.phi - KEY_SPEED);\n\t  } else if (e.keyCode == 37 || e.keyCode == 65) { // A or Left key.\n\t    this.animateTheta_(this.theta + KEY_SPEED);\n\t  }\n\t};\n\t\n\tMouseKeyboardPositionSensorVRDevice.prototype.animateTheta_ = function(targetAngle) {\n\t  this.animateKeyTransitions_('theta', targetAngle);\n\t};\n\t\n\tMouseKeyboardPositionSensorVRDevice.prototype.animatePhi_ = function(targetAngle) {\n\t  this.animateKeyTransitions_('phi', targetAngle);\n\t};\n\t\n\t/**\n\t * Start an animation to transition an angle from one value to another.\n\t */\n\tMouseKeyboardPositionSensorVRDevice.prototype.animateKeyTransitions_ = function(angleName, targetAngle) {\n\t  // If an animation is currently running, cancel it.\n\t  if (this.angleAnimation) {\n\t    clearInterval(this.angleAnimation);\n\t  }\n\t  var startAngle = this[angleName];\n\t  var startTime = new Date();\n\t  // Set up an interval timer to perform the animation.\n\t  this.angleAnimation = setInterval(function() {\n\t    // Once we're finished the animation, we're done.\n\t    var elapsed = new Date() - startTime;\n\t    if (elapsed >= KEY_ANIMATION_DURATION) {\n\t      this[angleName] = targetAngle;\n\t      clearInterval(this.angleAnimation);\n\t      return;\n\t    }\n\t    // Linearly interpolate the angle some amount.\n\t    var percent = elapsed / KEY_ANIMATION_DURATION;\n\t    this[angleName] = startAngle + (targetAngle - startAngle) * percent;\n\t  }.bind(this), 1000/60);\n\t};\n\t\n\tMouseKeyboardPositionSensorVRDevice.prototype.onMouseDown_ = function(e) {\n\t  this.rotateStart.set(e.clientX, e.clientY);\n\t  this.isDragging = true;\n\t};\n\t\n\t// Very similar to https://gist.github.com/mrflix/8351020\n\tMouseKeyboardPositionSensorVRDevice.prototype.onMouseMove_ = function(e) {\n\t  if (!this.isDragging) {\n\t    return;\n\t  }\n\t  this.rotateEnd.set(e.clientX, e.clientY);\n\t  // Calculate how much we moved in mouse space.\n\t  this.rotateDelta.subVectors(this.rotateEnd, this.rotateStart);\n\t  this.rotateStart.copy(this.rotateEnd);\n\t\n\t  // Keep track of the cumulative euler angles.\n\t  var element = document.body;\n\t  this.phi += 2 * Math.PI * this.rotateDelta.y / element.clientHeight * MOUSE_SPEED_Y;\n\t  this.theta += 2 * Math.PI * this.rotateDelta.x / element.clientWidth * MOUSE_SPEED_X;\n\t};\n\t\n\tMouseKeyboardPositionSensorVRDevice.prototype.onMouseUp_ = function(e) {\n\t  this.isDragging = false;\n\t};\n\t\n\tmodule.exports = MouseKeyboardPositionSensorVRDevice;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar Aligner = __webpack_require__(13);\n\tvar Emitter = __webpack_require__(14);\n\tvar Modes = __webpack_require__(15);\n\tvar Util = __webpack_require__(16);\n\t\n\t/**\n\t * Everything having to do with the WebVR button.\n\t * Emits a 'click' event when it's clicked.\n\t */\n\tfunction ButtonManager() {\n\t  this.loadIcons_();\n\t\n\t  // Make the fullscreen button.\n\t  var fsButton = this.createButton();\n\t  fsButton.src = this.ICONS.fullscreen;\n\t  fsButton.title = 'Fullscreen mode';\n\t  var s = fsButton.style;\n\t  s.bottom = 0;\n\t  s.right = 0;\n\t  fsButton.addEventListener('click', this.createClickHandler_('fs'));\n\t  document.body.appendChild(fsButton);\n\t  this.fsButton = fsButton;\n\t\n\t  // Make the VR button.\n\t  var vrButton = this.createButton();\n\t  vrButton.src = this.ICONS.cardboard;\n\t  vrButton.title = 'Virtual reality mode';\n\t  var s = vrButton.style;\n\t  s.bottom = 0;\n\t  s.right = '48px';\n\t  vrButton.addEventListener('click', this.createClickHandler_('vr'));\n\t  document.body.appendChild(vrButton);\n\t  this.vrButton = vrButton;\n\t\n\t  // Make the back button.\n\t  var backButton = this.createButton();\n\t  backButton.title = 'Back to previous mode';\n\t  var s = backButton.style;\n\t  s.left = 0;\n\t  s.top = 0;\n\t  backButton.src = this.ICONS.back;\n\t  backButton.addEventListener('click', this.createClickHandler_('back'));\n\t  document.body.appendChild(backButton);\n\t  this.backButton = backButton;\n\t\n\t  // Make the settings button, but only for mobile.\n\t  var settingsButton = this.createButton();\n\t  settingsButton.title = 'Configure viewer';\n\t  var s = settingsButton.style;\n\t  s.left = '50%';\n\t  s.marginLeft = '-24px';\n\t  s.bottom = 0;\n\t  s.zIndex = 0;\n\t  settingsButton.src = this.ICONS.settings;\n\t  settingsButton.addEventListener('click', this.createClickHandler_('settings'));\n\t  document.body.appendChild(settingsButton);\n\t  this.settingsButton = settingsButton;\n\t\n\t  this.isVisible = true;\n\t\n\t  this.aligner = new Aligner();\n\t}\n\tButtonManager.prototype = new Emitter();\n\t\n\tButtonManager.prototype.createButton = function () {\n\t  var button = document.createElement('img');\n\t  button.className = 'webvr-button';\n\t  var s = button.style;\n\t  s.position = 'fixed';\n\t  s.width = '24px';\n\t  s.height = '24px';\n\t  s.backgroundSize = 'cover';\n\t  s.backgroundColor = 'transparent';\n\t  s.border = 0;\n\t  s.userSelect = 'none';\n\t  s.webkitUserSelect = 'none';\n\t  s.MozUserSelect = 'none';\n\t  s.cursor = 'pointer';\n\t  s.padding = '12px';\n\t  s.zIndex = 1;\n\t  s.display = 'none';\n\t\n\t  // Prevent button from being selected and dragged.\n\t  button.draggable = false;\n\t  button.addEventListener('dragstart', function (e) {\n\t    e.preventDefault();\n\t  });\n\t\n\t  // Style it on hover.\n\t  button.addEventListener('mouseenter', function (e) {\n\t    s.filter = s.webkitFilter = 'drop-shadow(0 0 5px rgba(255,255,255,1))';\n\t  });\n\t  button.addEventListener('mouseleave', function (e) {\n\t    s.filter = s.webkitFilter = '';\n\t  });\n\t  return button;\n\t};\n\t\n\tButtonManager.prototype.setMode = function (mode, isVRCompatible) {\n\t  if (!this.isVisible) {\n\t    return;\n\t  }\n\t  switch (mode) {\n\t    case Modes.NORMAL:\n\t      this.fsButton.style.display = 'block';\n\t      this.fsButton.src = this.ICONS.fullscreen;\n\t      this.vrButton.style.display = isVRCompatible ? 'block' : 'none';\n\t      this.backButton.style.display = 'none';\n\t      this.settingsButton.style.display = 'none';\n\t      this.aligner.hide();\n\t      break;\n\t    case Modes.MAGIC_WINDOW:\n\t      this.fsButton.style.display = 'block';\n\t      this.fsButton.src = this.ICONS.exitFullscreen;\n\t      this.vrButton.style.display = isVRCompatible ? 'block' : 'none';\n\t      this.backButton.style.display = 'block';\n\t      this.settingsButton.style.display = 'none';\n\t      this.aligner.hide();\n\t      break;\n\t    case Modes.VR:\n\t      this.fsButton.style.display = 'none';\n\t      this.vrButton.style.display = 'none';\n\t      // Hack for Firefox, since it doesn't display HTML content correctly in\n\t      // VR at the moment.\n\t      this.backButton.style.display = Util.isFirefox() ? 'none' : 'block';\n\t      // Only show the settings button on mobile.\n\t      var isSettingsVisible = Util.isMobile() || WebVRConfig.FORCE_ENABLE_VR;\n\t      this.settingsButton.style.display = isSettingsVisible ? 'block' : 'none';\n\t      this.aligner.show();\n\t      break;\n\t  }\n\t\n\t  // Hack for Safari Mac/iOS to force relayout (svg-specific issue)\n\t  // http://goo.gl/hjgR6r\n\t  var oldValue = this.fsButton.style.display;\n\t  this.fsButton.style.display = 'inline-block';\n\t  this.fsButton.offsetHeight;\n\t  this.fsButton.style.display = oldValue;\n\t};\n\t\n\tButtonManager.prototype.setVisibility = function (isVisible) {\n\t  this.isVisible = isVisible;\n\t  this.fsButton.style.display = isVisible ? 'block' : 'none';\n\t  this.vrButton.style.display = isVisible ? 'block' : 'none';\n\t  this.backButton.style.display = isVisible ? 'block' : 'none';\n\t};\n\t\n\tButtonManager.prototype.createClickHandler_ = function (eventName) {\n\t  return (function (e) {\n\t    e.stopPropagation();\n\t    e.preventDefault();\n\t    this.emit(eventName);\n\t  }).bind(this);\n\t};\n\t\n\tButtonManager.prototype.loadIcons_ = function () {\n\t  // Preload some hard-coded SVG.\n\t  this.ICONS = {};\n\t  this.ICONS.cardboard = Util.base64('image/svg+xml', 'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMjAuNzQgNkgzLjIxQzIuNTUgNiAyIDYuNTcgMiA3LjI4djEwLjQ0YzAgLjcuNTUgMS4yOCAxLjIzIDEuMjhoNC43OWMuNTIgMCAuOTYtLjMzIDEuMTQtLjc5bDEuNC0zLjQ4Yy4yMy0uNTkuNzktMS4wMSAxLjQ0LTEuMDFzMS4yMS40MiAxLjQ1IDEuMDFsMS4zOSAzLjQ4Yy4xOS40Ni42My43OSAxLjExLjc5aDQuNzljLjcxIDAgMS4yNi0uNTcgMS4yNi0xLjI4VjcuMjhjMC0uNy0uNTUtMS4yOC0xLjI2LTEuMjh6TTcuNSAxNC42MmMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTMgMS4xOCAwIDIuMTIuOTYgMi4xMiAyLjEzcy0uOTUgMi4xMi0yLjEyIDIuMTJ6bTkgMGMtMS4xNyAwLTIuMTMtLjk1LTIuMTMtMi4xMiAwLTEuMTcuOTYtMi4xMyAyLjEzLTIuMTNzMi4xMi45NiAyLjEyIDIuMTMtLjk1IDIuMTItMi4xMiAyLjEyeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgyNHYyNEgwVjB6Ii8+Cjwvc3ZnPgo=');\n\t  this.ICONS.fullscreen = Util.base64('image/svg+xml', 'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNyAxNEg1djVoNXYtMkg3di0zem0tMi00aDJWN2gzVjVINXY1em0xMiA3aC0zdjJoNXYtNWgtMnYzek0xNCA1djJoM3YzaDJWNWgtNXoiLz4KPC9zdmc+Cg==');\n\t  this.ICONS.exitFullscreen = Util.base64('image/svg+xml', 'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNNSAxNmgzdjNoMnYtNUg1djJ6bTMtOEg1djJoNVY1SDh2M3ptNiAxMWgydi0zaDN2LTJoLTV2NXptMi0xMVY1aC0ydjVoNVY4aC0zeiIvPgo8L3N2Zz4K');\n\t  this.ICONS.back = Util.base64('image/svg+xml', 'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMjAgMTFINy44M2w1LjU5LTUuNTlMMTIgNGwtOCA4IDggOCAxLjQxLTEuNDFMNy44MyAxM0gyMHYtMnoiLz4KPC9zdmc+Cg==');\n\t  this.ICONS.settings = Util.base64('image/svg+xml', 'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI0ZGRkZGRiI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBkPSJNMTkuNDMgMTIuOThjLjA0LS4zMi4wNy0uNjQuMDctLjk4cy0uMDMtLjY2LS4wNy0uOThsMi4xMS0xLjY1Yy4xOS0uMTUuMjQtLjQyLjEyLS42NGwtMi0zLjQ2Yy0uMTItLjIyLS4zOS0uMy0uNjEtLjIybC0yLjQ5IDFjLS41Mi0uNC0xLjA4LS43My0xLjY5LS45OGwtLjM4LTIuNjVDMTQuNDYgMi4xOCAxNC4yNSAyIDE0IDJoLTRjLS4yNSAwLS40Ni4xOC0uNDkuNDJsLS4zOCAyLjY1Yy0uNjEuMjUtMS4xNy41OS0xLjY5Ljk4bC0yLjQ5LTFjLS4yMy0uMDktLjQ5IDAtLjYxLjIybC0yIDMuNDZjLS4xMy4yMi0uMDcuNDkuMTIuNjRsMi4xMSAxLjY1Yy0uMDQuMzItLjA3LjY1LS4wNy45OHMuMDMuNjYuMDcuOThsLTIuMTEgMS42NWMtLjE5LjE1LS4yNC40Mi0uMTIuNjRsMiAzLjQ2Yy4xMi4yMi4zOS4zLjYxLjIybDIuNDktMWMuNTIuNCAxLjA4LjczIDEuNjkuOThsLjM4IDIuNjVjLjAzLjI0LjI0LjQyLjQ5LjQyaDRjLjI1IDAgLjQ2LS4xOC40OS0uNDJsLjM4LTIuNjVjLjYxLS4yNSAxLjE3LS41OSAxLjY5LS45OGwyLjQ5IDFjLjIzLjA5LjQ5IDAgLjYxLS4yMmwyLTMuNDZjLjEyLS4yMi4wNy0uNDktLjEyLS42NGwtMi4xMS0xLjY1ek0xMiAxNS41Yy0xLjkzIDAtMy41LTEuNTctMy41LTMuNXMxLjU3LTMuNSAzLjUtMy41IDMuNSAxLjU3IDMuNSAzLjUtMS41NyAzLjUtMy41IDMuNXoiLz4KPC9zdmc+Cg==');\n\t};\n\t\n\tmodule.exports = ButtonManager;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Responsible for showing the vertical alignment UI that separates left and\n\t * right eye images.\n\t */\n\tfunction Aligner() {\n\t  var el = document.createElement('div');\n\t  var s = el.style;\n\t  s.position = 'fixed';\n\t  s.background = 'white';\n\t  s.width = '2px';\n\t  s.top = '0px';\n\t  s.bottom = '48px';\n\t  s.left = '50%';\n\t  s.display = 'none';\n\t  s.marginLeft = '-2px';\n\t  s.border = '1px solid black';\n\t  s.borderTop = '0px';\n\t  this.el = el;\n\t\n\t  document.body.appendChild(el);\n\t}\n\t\n\tAligner.prototype.show = function () {\n\t  this.el.style.display = 'block';\n\t};\n\t\n\tAligner.prototype.hide = function () {\n\t  this.el.style.display = 'none';\n\t};\n\t\n\tmodule.exports = Aligner;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tfunction Emitter() {\n\t  this.callbacks = {};\n\t}\n\t\n\tEmitter.prototype.emit = function (eventName) {\n\t  var callbacks = this.callbacks[eventName];\n\t  if (!callbacks) {\n\t    //console.log('No valid callback specified.');\n\t    return;\n\t  }\n\t  var args = [].slice.call(arguments);\n\t  // Eliminate the first param (the callback).\n\t  args.shift();\n\t  for (var i = 0; i < callbacks.length; i++) {\n\t    callbacks[i].apply(this, args);\n\t  }\n\t};\n\t\n\tEmitter.prototype.on = function (eventName, callback) {\n\t  if (eventName in this.callbacks) {\n\t    this.callbacks[eventName].push(callback);\n\t  } else {\n\t    this.callbacks[eventName] = [callback];\n\t  }\n\t};\n\t\n\tmodule.exports = Emitter;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar Modes = {\n\t  UNKNOWN: 0,\n\t  // Not fullscreen, just tracking.\n\t  NORMAL: 1,\n\t  // Magic window immersive mode.\n\t  MAGIC_WINDOW: 2,\n\t  // Full screen split screen VR mode.\n\t  VR: 3\n\t};\n\t\n\tmodule.exports = Modes;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar Util = {};\n\t\n\tUtil.base64 = function (mimeType, base64) {\n\t  return 'data:' + mimeType + ';base64,' + base64;\n\t};\n\t\n\tUtil.isMobile = function () {\n\t  var check = false;\n\t  (function (a) {\n\t    if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n\t  })(navigator.userAgent || navigator.vendor || window.opera);\n\t  return check;\n\t};\n\t\n\tUtil.isFirefox = function () {\n\t  return (/firefox/i.test(navigator.userAgent)\n\t  );\n\t};\n\t\n\tUtil.isIOS = function () {\n\t  return (/(iPad|iPhone|iPod)/g.test(navigator.userAgent)\n\t  );\n\t};\n\t\n\tUtil.isIFrame = function () {\n\t  try {\n\t    return window.self !== window.top;\n\t  } catch (e) {\n\t    return true;\n\t  }\n\t};\n\t\n\tUtil.appendQueryParameter = function (url, key, value) {\n\t  // Determine delimiter based on if the URL already GET parameters in it.\n\t  var delimiter = url.indexOf('?') < 0 ? '?' : '&';\n\t  url += delimiter + key + '=' + value;\n\t  return url;\n\t};\n\t\n\t// From http://goo.gl/4WX3tg\n\tUtil.getQueryParameter = function (name) {\n\t  name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\n\t  var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\n\t      results = regex.exec(location.search);\n\t  return results === null ? \"\" : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\n\t};\n\t\n\tUtil.isLandscapeMode = function () {\n\t  return window.orientation == 90 || window.orientation == -90;\n\t};\n\t\n\tmodule.exports = Util;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar BarrelDistortion = __webpack_require__(18);\n\tvar THREE = __webpack_require__(1);\n\t\n\tfunction ShaderPass(shader) {\n\t  this.uniforms = THREE.UniformsUtils.clone(shader.uniforms);\n\t\n\t  this.material = new THREE.ShaderMaterial({\n\t    defines: shader.defines || {},\n\t    uniforms: this.uniforms,\n\t    vertexShader: shader.vertexShader,\n\t    fragmentShader: shader.fragmentShader\n\t  });\n\t\n\t  this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n\t  this.scene = new THREE.Scene();\n\t  this.quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), null);\n\t  this.scene.add(this.quad);\n\t};\n\t\n\tShaderPass.prototype.render = function (renderFunc, buffer) {\n\t  this.uniforms.texture.value = buffer;\n\t  this.quad.material = this.material;\n\t  renderFunc(this.scene, this.camera);\n\t};\n\t\n\tfunction createRenderTarget(renderer) {\n\t  var width = renderer.context.canvas.width;\n\t  var height = renderer.context.canvas.height;\n\t  var parameters = {\n\t    minFilter: THREE.LinearFilter,\n\t    magFilter: THREE.LinearFilter,\n\t    format: THREE.RGBFormat,\n\t    stencilBuffer: false\n\t  };\n\t\n\t  return new THREE.WebGLRenderTarget(width, height, parameters);\n\t}\n\t\n\tfunction CardboardDistorter(renderer, deviceInfo) {\n\t  this.shaderPass = new ShaderPass(BarrelDistortion);\n\t  this.renderer = renderer;\n\t\n\t  this.textureTarget = null;\n\t  this.genuineRender = renderer.render;\n\t  this.genuineSetSize = renderer.setSize;\n\t  this.isActive = false;\n\t\n\t  this.deviceInfo = deviceInfo;\n\t  //this.recalculateUniforms();\n\t}\n\t\n\tCardboardDistorter.prototype.patch = function () {\n\t  if (!this.isActive) {\n\t    return;\n\t  }\n\t  this.textureTarget = createRenderTarget(this.renderer);\n\t\n\t  this.renderer.render = (function (scene, camera, renderTarget, forceClear) {\n\t    this.genuineRender.call(this.renderer, scene, camera, this.textureTarget, forceClear);\n\t  }).bind(this);\n\t\n\t  this.renderer.setSize = (function (width, height) {\n\t    this.genuineSetSize.call(this.renderer, width, height);\n\t    this.textureTarget = createRenderTarget(this.renderer);\n\t  }).bind(this);\n\t};\n\t\n\tCardboardDistorter.prototype.unpatch = function () {\n\t  if (!this.isActive) {\n\t    return;\n\t  }\n\t  this.renderer.render = this.genuineRender;\n\t  this.renderer.setSize = this.genuineSetSize;\n\t};\n\t\n\tCardboardDistorter.prototype.preRender = function () {\n\t  if (!this.isActive) {\n\t    return;\n\t  }\n\t  this.renderer.setRenderTarget(this.textureTarget);\n\t};\n\t\n\tCardboardDistorter.prototype.postRender = function () {\n\t  if (!this.isActive) {\n\t    return;\n\t  }\n\t  var size = this.renderer.getSize();\n\t  this.renderer.setViewport(0, 0, size.width, size.height);\n\t  this.shaderPass.render(this.genuineRender.bind(this.renderer), this.textureTarget);\n\t};\n\t\n\t/**\n\t * Toggles distortion. This is called externally by the boilerplate.\n\t * It should be enabled only if WebVR is provided by polyfill.\n\t */\n\tCardboardDistorter.prototype.setActive = function (state) {\n\t  this.isActive = state;\n\t};\n\t\n\t/**\n\t * Updates uniforms.\n\t */\n\tCardboardDistorter.prototype.recalculateUniforms = function () {\n\t  var uniforms = this.shaderPass.material.uniforms;\n\t\n\t  var distortedProj = this.deviceInfo.getProjectionMatrixLeftEye();\n\t  var undistortedProj = this.deviceInfo.getProjectionMatrixLeftEye(true);\n\t  var viewport = this.deviceInfo.getUndistortedViewportLeftEye();\n\t\n\t  var device = this.deviceInfo.device;\n\t  var params = {\n\t    xScale: viewport.width / (device.width / 2),\n\t    yScale: viewport.height / device.height,\n\t    xTrans: 2 * (viewport.x + viewport.width / 2) / (device.width / 2) - 1,\n\t    yTrans: 2 * (viewport.y + viewport.height / 2) / device.height - 1\n\t  };\n\t\n\t  uniforms.projectionLeft.value.copy(this.projectionMatrixToVector_(distortedProj));\n\t  uniforms.unprojectionLeft.value.copy(this.projectionMatrixToVector_(undistortedProj, params));\n\t\n\t  // Set distortion coefficients.\n\t  var coefficients = this.deviceInfo.viewer.distortionCoefficients;\n\t  uniforms.distortion.value.set(coefficients[0], coefficients[1]);\n\t\n\t  // For viewer profile debugging, show the lens center.\n\t  if (WebVRConfig.SHOW_EYE_CENTERS) {\n\t    uniforms.showCenter.value = 1;\n\t  }\n\t\n\t  // Allow custom background colors if this global is set.\n\t  if (WebVRConfig.DISTORTION_BGCOLOR) {\n\t    uniforms.backgroundColor.value = WebVRConfig.DISTORTION_BGCOLOR;\n\t  }\n\t\n\t  this.shaderPass.material.needsUpdate = true;\n\t};\n\t\n\t/**\n\t * Sets distortion coefficients as a Vector2.\n\t */\n\tCardboardDistorter.prototype.setDistortionCoefficients = function (coefficients) {\n\t  var value = new THREE.Vector2(coefficients[0], coefficients[1]);\n\t  this.shaderPass.material.uniforms.distortion.value = value;\n\t  this.shaderPass.material.needsUpdate = true;\n\t};\n\t\n\t/**\n\t * Utility to convert the projection matrix to a vector accepted by the shader.\n\t *\n\t * @param {Object} opt_params A rectangle to scale this vector by.\n\t */\n\tCardboardDistorter.prototype.projectionMatrixToVector_ = function (matrix, opt_params) {\n\t  var params = opt_params || {};\n\t  var xScale = params.xScale || 1;\n\t  var yScale = params.yScale || 1;\n\t  var xTrans = params.xTrans || 0;\n\t  var yTrans = params.yTrans || 0;\n\t\n\t  var elements = matrix.elements;\n\t  var vec = new THREE.Vector4();\n\t  vec.set(elements[4 * 0 + 0] * xScale, elements[4 * 1 + 1] * yScale, elements[4 * 2 + 0] - 1 - xTrans, elements[4 * 2 + 1] - 1 - yTrans).divideScalar(2);\n\t  return vec;\n\t};\n\t\n\tmodule.exports = CardboardDistorter;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar _threeJs = __webpack_require__(1);\n\t\n\tvar BarrelDistortionFragment = {\n\t  type: 'fragment_v2',\n\t\n\t  uniforms: {\n\t    'texture': { type: 't', value: null },\n\t    'distortion': { type: 'v2', value: new _threeJs.Vector2(0.441, 0.156) },\n\t    'projectionLeft': { type: 'v4', value: new _threeJs.Vector4(1.0, 1.0, -0.5, -0.5) },\n\t    'unprojectionLeft': { type: 'v4', value: new _threeJs.Vector4(1.0, 1.0, -0.5, -0.5) },\n\t    'backgroundColor': { type: 'v4', value: new _threeJs.Vector4(0.0, 0.0, 0.0, 1.0) },\n\t    'showCenter': { type: 'i', value: 0 },\n\t    'dividerColor': { type: 'v4', value: new _threeJs.Vector4(0.5, 0.5, 0.5, 1.0) }\n\t  },\n\t\n\t  vertexShader: ['varying vec2 vUV;', 'void main() {', 'vUV = uv;', 'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n\t\n\t  // TODO: use min/max/saturate instead of conditionals\n\t  fragmentShader: ['uniform sampler2D texture;', 'uniform vec2 distortion;', 'uniform vec4 backgroundColor;', 'uniform vec4 projectionLeft;', 'uniform vec4 unprojectionLeft;', 'uniform int showCenter;', 'uniform vec4 dividerColor;',\n\t\n\t  // right projections are shifted and vertically mirrored relative to left\n\t  'vec4 projectionRight = ', '(projectionLeft + vec4(0.0, 0.0, 1.0, 0.0)) * vec4(1.0, 1.0, -1.0, 1.0);', 'vec4 unprojectionRight = ', '(unprojectionLeft + vec4(0.0, 0.0, 1.0, 0.0)) * vec4(1.0, 1.0, -1.0, 1.0);', 'varying vec2 vUV;', 'float poly(float val) {', 'return (showCenter == 1 && val < 0.00005) ? ', '10000.0 : 1.0 + (distortion.x + distortion.y * val) * val;', '}', 'vec2 barrel(vec2 v, vec4 projection, vec4 unprojection) {', 'vec2 w = (v + unprojection.zw) / unprojection.xy;', 'return projection.xy * (poly(dot(w, w)) * w) - projection.zw;', '}', 'void main() {', 'vec2 a = (vUV.x < 0.5) ? ', 'barrel(vec2(vUV.x / 0.5, vUV.y), projectionLeft, unprojectionLeft) : ', 'barrel(vec2((vUV.x - 0.5) / 0.5, vUV.y), projectionRight, unprojectionRight);', 'if (dividerColor.w > 0.0 && abs(vUV.x - 0.5) < .001) {',\n\t  // Don't render the divider, since it's rendered in HTML.\n\t  //'gl_FragColor = dividerColor;',\n\t  '} else if (a.x < 0.0 || a.x > 1.0 || a.y < 0.0 || a.y > 1.0) {', 'gl_FragColor = backgroundColor;', '} else {', 'gl_FragColor = texture2D(texture, vec2(a.x * 0.5 + (vUV.x < 0.5 ? 0.0 : 0.5), a.y));', '}', '}'].join('\\n')\n\t};\n\t\n\tmodule.exports = BarrelDistortionFragment;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar Distortion = __webpack_require__(20);\n\tvar Util = __webpack_require__(16);\n\tvar THREE = __webpack_require__(1);\n\t\n\tfunction Device(params) {\n\t  this.label = params.label;\n\t  this.userAgentRegExp = params.userAgentRegExp;\n\t\n\t  this.width = params.width || this.calcWidth_();\n\t  this.height = params.height || this.calcHeight_();\n\t  this.widthMeters = params.widthMeters;\n\t  this.heightMeters = params.heightMeters;\n\t  this.bevelMeters = params.bevelMeters;\n\t}\n\t\n\tDevice.prototype.calcWidth_ = function () {\n\t  return Math.max(window.screen.width, window.screen.height) * window.devicePixelRatio;\n\t};\n\t\n\tDevice.prototype.calcHeight_ = function () {\n\t  return Math.min(window.screen.width, window.screen.height) * window.devicePixelRatio;\n\t};\n\t\n\t// Display width, display height and bevel measurements done on real phones.\n\t// Resolutions from http://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions\n\tvar iOSDevices = {\n\t  iPhone4: new Device({\n\t    width: 640,\n\t    height: 960,\n\t    widthMeters: 0.075,\n\t    heightMeters: 0.0495,\n\t    bevelMeters: 0.004\n\t  }),\n\t  iPhone5: new Device({\n\t    width: 640,\n\t    height: 1136,\n\t    widthMeters: 0.09011,\n\t    heightMeters: 0.05127,\n\t    bevelMeters: 0.00343\n\t  }),\n\t  iPhone6: new Device({\n\t    width: 750,\n\t    height: 1334,\n\t    widthMeters: 0.1038,\n\t    heightMeters: 0.0584,\n\t    bevelMeters: 0.004\n\t  }),\n\t  iPhone6Plus: new Device({\n\t    width: 1242,\n\t    height: 2208,\n\t    widthMeters: 0.12235,\n\t    heightMeters: 0.06954,\n\t    bevelMeters: 0.00471\n\t  })\n\t};\n\t\n\tvar AndroidDevices = {\n\t  Nexus5: new Device({\n\t    userAgentRegExp: /Nexus 5 /, // Trailing space to disambiguate from 5X.\n\t    widthMeters: 0.110,\n\t    heightMeters: 0.062,\n\t    bevelMeters: 0.004\n\t  }),\n\t  Nexus6: new Device({\n\t    userAgentRegExp: /Nexus 6 /, // Trailing space to disambiguate from 6P.\n\t    widthMeters: 0.1593,\n\t    heightMeters: 0.083,\n\t    bevelMeters: 0.004\n\t  }),\n\t  Nexus5X: new Device({\n\t    userAgentRegExp: /Nexus 5X/,\n\t    widthMeters: 0.1155,\n\t    heightMeters: 0.065,\n\t    bevelMeters: 0.004\n\t  }),\n\t  Nexus6P: new Device({\n\t    userAgentRegExp: /Nexus 6P/,\n\t    widthMeters: 0.126,\n\t    heightMeters: 0.0705,\n\t    bevelMeters: 0.004\n\t  }),\n\t  GalaxyS3: new Device({\n\t    userAgentRegExp: /GT-I9300/,\n\t    widthMeters: 0.106,\n\t    heightMeters: 0.060,\n\t    bevelMeters: 0.005\n\t  }),\n\t  GalaxyS4: new Device({\n\t    userAgentRegExp: /GT-I9505/,\n\t    widthMeters: 0.111,\n\t    heightMeters: 0.0625,\n\t    bevelMeters: 0.004\n\t  }),\n\t  GalaxyS5: new Device({\n\t    userAgentRegExp: /SM-G900F/,\n\t    widthMeters: 0.113,\n\t    heightMeters: 0.066,\n\t    bevelMeters: 0.005\n\t  }),\n\t  GalaxyS6: new Device({\n\t    userAgentRegExp: /SM-G920/,\n\t    widthMeters: 0.114,\n\t    heightMeters: 0.0635,\n\t    bevelMeters: 0.0035\n\t  })\n\t};\n\t\n\tvar AVERAGE_ANDROID = new Device({\n\t  label: 'Average android (ie. no specific device detected)',\n\t  widthMeters: AndroidDevices.Nexus5.widthMeters,\n\t  heightMeters: AndroidDevices.Nexus5.heightMeters,\n\t  bevelMeters: AndroidDevices.Nexus5.bevelMeters\n\t});\n\t\n\tvar Viewers = {\n\t  CardboardV1: new CardboardViewer({\n\t    id: 'CardboardV1',\n\t    label: 'Cardboard I/O 2014',\n\t    fov: 40,\n\t    interLensDistance: 0.060,\n\t    baselineLensDistance: 0.035,\n\t    screenLensDistance: 0.042,\n\t    distortionCoefficients: [0.441, 0.156],\n\t    inverseCoefficients: [-0.4410035, 0.42756155, -0.4804439, 0.5460139, -0.58821183, 0.5733938, -0.48303202, 0.33299083, -0.17573841, 0.0651772, -0.01488963, 0.001559834]\n\t  }),\n\t  CardboardV2: new CardboardViewer({\n\t    id: 'CardboardV2',\n\t    label: 'Cardboard I/O 2015',\n\t    fov: 60,\n\t    interLensDistance: 0.064,\n\t    baselineLensDistance: 0.035,\n\t    screenLensDistance: 0.039,\n\t    distortionCoefficients: [0.34, 0.55],\n\t    inverseCoefficients: [-0.33836704, -0.18162185, 0.862655, -1.2462051, 1.0560602, -0.58208317, 0.21609078, -0.05444823, 0.009177956, -9.904169E-4, 6.183535E-5, -1.6981803E-6]\n\t  })\n\t};\n\t\n\tvar DEFAULT_LEFT_CENTER = { x: 0.5, y: 0.5 };\n\tvar DEFAULT_RIGHT_CENTER = { x: 0.5, y: 0.5 };\n\t\n\t/**\n\t * Gives the correct device DPI based on screen dimensions and user agent.\n\t * For now, only iOS is supported.\n\t */\n\tfunction DeviceInfo() {\n\t  this.device = this.determineDevice_();\n\t  this.viewer = Viewers.CardboardV1;\n\t}\n\t\n\tDeviceInfo.prototype.getDevice = function () {\n\t  return this.device;\n\t};\n\t\n\tDeviceInfo.prototype.setViewer = function (viewer) {\n\t  this.viewer = viewer;\n\t};\n\t\n\tDeviceInfo.prototype.determineDevice_ = function () {\n\t  // Only support iPhones.\n\t  if (Util.isIOS()) {\n\t    return this.determineIPhone_();\n\t  } else {\n\t    return this.determineAndroid_();\n\t  }\n\t};\n\t\n\tDeviceInfo.prototype.determineIPhone_ = function () {\n\t  // On iOS, use screen dimensions to determine iPhone/iPad model.\n\t  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\t\n\t  // Check both width and height since the phone may be in landscape.\n\t  var width = screen.availWidth;\n\t  var height = screen.availHeight;\n\t  var pixelWidth = width * window.devicePixelRatio;\n\t  var pixelHeight = height * window.devicePixelRatio;\n\t\n\t  // Match the screen dimension to the correct device.\n\t  for (var id in iOSDevices) {\n\t    var device = iOSDevices[id];\n\t    // Expect an exact match on width.\n\t    if (device.width == pixelWidth || device.width == pixelHeight) {\n\t      console.log('Detected iPhone: %s', id);\n\t      // This is the right device.\n\t      return device;\n\t    }\n\t  }\n\t  // This should never happen.\n\t  console.error('Unable to detect iPhone type.');\n\t  return null;\n\t};\n\t\n\tDeviceInfo.prototype.determineAndroid_ = function () {\n\t  // Do a userAgent match against all of the known Android devices.\n\t  for (var id in AndroidDevices) {\n\t    var device = AndroidDevices[id];\n\t    // Does it match?\n\t    if (navigator.userAgent.match(device.userAgentRegExp)) {\n\t      console.log('Detected Android: %s', id);\n\t      return device;\n\t    }\n\t  }\n\t  // No device matched, so return a default (average) smartphone.\n\t  console.warn('No specific Android device detected. Using a generic size, ' + 'which may lead to VR rendering issues.');\n\t  return AVERAGE_ANDROID;\n\t};\n\t\n\t/**\n\t * Calculates field of view for the left eye.\n\t */\n\tDeviceInfo.prototype.getDistortedFieldOfViewLeftEye = function () {\n\t  var viewer = this.viewer;\n\t  var device = this.device;\n\t\n\t  var distortion = new Distortion(viewer.distortionCoefficients);\n\t\n\t  // Device.height and device.width for device in portrait mode, so transpose.\n\t  var eyeToScreenDistance = viewer.screenLensDistance;\n\t\n\t  var outerDist = (device.widthMeters - viewer.interLensDistance) / 2;\n\t  var innerDist = viewer.interLensDistance / 2;\n\t  var bottomDist = viewer.baselineLensDistance - device.bevelMeters;\n\t  var topDist = device.heightMeters - bottomDist;\n\t\n\t  var outerAngle = THREE.Math.radToDeg(Math.atan(distortion.distort(outerDist / eyeToScreenDistance)));\n\t  var innerAngle = THREE.Math.radToDeg(Math.atan(distortion.distort(innerDist / eyeToScreenDistance)));\n\t  var bottomAngle = THREE.Math.radToDeg(Math.atan(distortion.distort(bottomDist / eyeToScreenDistance)));\n\t  var topAngle = THREE.Math.radToDeg(Math.atan(distortion.distort(topDist / eyeToScreenDistance)));\n\t\n\t  return {\n\t    leftDegrees: Math.min(outerAngle, viewer.fov),\n\t    rightDegrees: Math.min(innerAngle, viewer.fov),\n\t    downDegrees: Math.min(bottomAngle, viewer.fov),\n\t    upDegrees: Math.min(topAngle, viewer.fov)\n\t  };\n\t};\n\t\n\tDeviceInfo.prototype.getFieldOfViewLeftEye = function (opt_isUndistorted) {\n\t  return opt_isUndistorted ? this.getUndistortedFieldOfViewLeftEye() : this.getDistortedFieldOfViewLeftEye();\n\t};\n\t\n\tDeviceInfo.prototype.getFieldOfViewRightEye = function (opt_isUndistorted) {\n\t  var fov = this.getFieldOfViewLeftEye(opt_isUndistorted);\n\t  return {\n\t    leftDegrees: fov.rightDegrees,\n\t    rightDegrees: fov.leftDegrees,\n\t    upDegrees: fov.upDegrees,\n\t    downDegrees: fov.downDegrees\n\t  };\n\t};\n\t\n\t/**\n\t * Calculates a projection matrix for the left eye.\n\t */\n\tDeviceInfo.prototype.getProjectionMatrixLeftEye = function (opt_isUndistorted) {\n\t  var fov = this.getFieldOfViewLeftEye(opt_isUndistorted);\n\t\n\t  var projectionMatrix = new THREE.Matrix4();\n\t  var near = 0.1;\n\t  var far = 1000;\n\t  var left = Math.tan(THREE.Math.degToRad(fov.leftDegrees)) * near;\n\t  var right = Math.tan(THREE.Math.degToRad(fov.rightDegrees)) * near;\n\t  var bottom = Math.tan(THREE.Math.degToRad(fov.downDegrees)) * near;\n\t  var top = Math.tan(THREE.Math.degToRad(fov.upDegrees)) * near;\n\t\n\t  // makeFrustum expects units in tan-angle space.\n\t  projectionMatrix.makeFrustum(-left, right, -bottom, top, near, far);\n\t\n\t  return projectionMatrix;\n\t};\n\t\n\tDeviceInfo.prototype.getUndistortedViewportLeftEye = function () {\n\t  var p = this.getUndistortedParams_();\n\t  var viewer = this.viewer;\n\t  var device = this.device;\n\t\n\t  var eyeToScreenDistance = viewer.screenLensDistance;\n\t  var screenWidth = device.widthMeters / eyeToScreenDistance;\n\t  var screenHeight = device.heightMeters / eyeToScreenDistance;\n\t  var xPxPerTanAngle = device.width / screenWidth;\n\t  var yPxPerTanAngle = device.height / screenHeight;\n\t\n\t  var x = Math.round((p.eyePosX - p.outerDist) * xPxPerTanAngle);\n\t  var y = Math.round((p.eyePosY - p.bottomDist) * yPxPerTanAngle);\n\t  return {\n\t    x: x,\n\t    y: y,\n\t    width: Math.round((p.eyePosX + p.innerDist) * xPxPerTanAngle) - x,\n\t    height: Math.round((p.eyePosY + p.topDist) * yPxPerTanAngle) - y\n\t  };\n\t};\n\t\n\t/**\n\t * Calculates undistorted field of view for the left eye.\n\t */\n\tDeviceInfo.prototype.getUndistortedFieldOfViewLeftEye = function () {\n\t  var p = this.getUndistortedParams_();\n\t\n\t  return {\n\t    leftDegrees: THREE.Math.radToDeg(Math.atan(p.outerDist)),\n\t    rightDegrees: THREE.Math.radToDeg(Math.atan(p.innerDist)),\n\t    downDegrees: THREE.Math.radToDeg(Math.atan(p.bottomDist)),\n\t    upDegrees: THREE.Math.radToDeg(Math.atan(p.topDist))\n\t  };\n\t};\n\t\n\tDeviceInfo.prototype.getUndistortedParams_ = function () {\n\t  var viewer = this.viewer;\n\t  var device = this.device;\n\t  var distortion = new Distortion(viewer.distortionCoefficients);\n\t\n\t  // Most of these variables in tan-angle units.\n\t  var eyeToScreenDistance = viewer.screenLensDistance;\n\t  var halfLensDistance = viewer.interLensDistance / 2 / eyeToScreenDistance;\n\t  var screenWidth = device.widthMeters / eyeToScreenDistance;\n\t  var screenHeight = device.heightMeters / eyeToScreenDistance;\n\t\n\t  var eyePosX = screenWidth / 2 - halfLensDistance;\n\t  var eyePosY = (viewer.baselineLensDistance - device.bevelMeters) / eyeToScreenDistance;\n\t\n\t  var maxFov = viewer.fov;\n\t  var viewerMax = distortion.distortInverse(Math.tan(THREE.Math.degToRad(maxFov)));\n\t  var outerDist = Math.min(eyePosX, viewerMax);\n\t  var innerDist = Math.min(halfLensDistance, viewerMax);\n\t  var bottomDist = Math.min(eyePosY, viewerMax);\n\t  var topDist = Math.min(screenHeight - eyePosY, viewerMax);\n\t\n\t  return {\n\t    outerDist: outerDist,\n\t    innerDist: innerDist,\n\t    topDist: topDist,\n\t    bottomDist: bottomDist,\n\t    eyePosX: eyePosX,\n\t    eyePosY: eyePosY\n\t  };\n\t};\n\t\n\tfunction CardboardViewer(params) {\n\t  // A machine readable ID.\n\t  this.id = params.id;\n\t  // A human readable label.\n\t  this.label = params.label;\n\t\n\t  // Field of view in degrees (per side).\n\t  this.fov = params.fov;\n\t\n\t  // Distance between lens centers in meters.\n\t  this.interLensDistance = params.interLensDistance;\n\t  // Distance between viewer baseline and lens center in meters.\n\t  this.baselineLensDistance = params.baselineLensDistance;\n\t  // Screen-to-lens distance in meters.\n\t  this.screenLensDistance = params.screenLensDistance;\n\t\n\t  // Distortion coefficients.\n\t  this.distortionCoefficients = params.distortionCoefficients;\n\t  // Inverse distortion coefficients.\n\t  // TODO: Calculate these from distortionCoefficients in the future.\n\t  this.inverseCoefficients = params.inverseCoefficients;\n\t}\n\t\n\t// Export viewer information.\n\tDeviceInfo.Viewers = Viewers;\n\tmodule.exports = DeviceInfo;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t/**\n\t * TODO(smus): Implement coefficient inversion.\n\t */\n\tfunction Distortion(coefficients) {\n\t  this.coefficients = coefficients;\n\t}\n\t\n\t/**\n\t * Calculates the inverse distortion for a radius.\n\t * </p><p>\n\t * Allows to compute the original undistorted radius from a distorted one.\n\t * See also getApproximateInverseDistortion() for a faster but potentially\n\t * less accurate method.\n\t *\n\t * @param {Number} radius Distorted radius from the lens center in tan-angle units.\n\t * @return {Number} The undistorted radius in tan-angle units.\n\t */\n\tDistortion.prototype.distortInverse = function (radius) {\n\t  // Secant method.\n\t  var r0 = radius / 0.9;\n\t  var r1 = radius * 0.9;\n\t  var dr0 = radius - this.distort(r0);\n\t  while (Math.abs(r1 - r0) > 0.0001 /** 0.1mm */) {\n\t    var dr1 = radius - this.distort(r1);\n\t    var r2 = r1 - dr1 * ((r1 - r0) / (dr1 - dr0));\n\t    r0 = r1;\n\t    r1 = r2;\n\t    dr0 = dr1;\n\t  }\n\t  return r1;\n\t};\n\t\n\t/**\n\t * Distorts a radius by its distortion factor from the center of the lenses.\n\t *\n\t * @param {Number} radius Radius from the lens center in tan-angle units.\n\t * @return {Number} The distorted radius in tan-angle units.\n\t */\n\tDistortion.prototype.distort = function (radius) {\n\t  return radius * this.distortionFactor_(radius);\n\t};\n\t\n\t/**\n\t * Returns the distortion factor of a point.\n\t *\n\t * @param {Number} radius Radius of the point from the lens center in tan-angle units.\n\t * @return {Number} The distortion factor. Multiply by this factor to distort points.\n\t */\n\tDistortion.prototype.distortionFactor_ = function (radius) {\n\t  var result = 1.0;\n\t  var rFactor = 1.0;\n\t  var rSquared = radius * radius;\n\t\n\t  for (var i = 0; i < this.coefficients.length; i++) {\n\t    var ki = this.coefficients[i];\n\t    rFactor *= rSquared;\n\t    result += ki * rFactor;\n\t  }\n\t\n\t  return result;\n\t};\n\t\n\tmodule.exports = Distortion;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar Util = __webpack_require__(16);\n\t\n\tfunction RotateInstructions() {\n\t  this.loadIcon_();\n\t\n\t  var overlay = document.createElement('div');\n\t  var s = overlay.style;\n\t  s.position = 'fixed';\n\t  s.top = 0;\n\t  s.right = 0;\n\t  s.bottom = 0;\n\t  s.left = 0;\n\t  s.backgroundColor = 'gray';\n\t  s.fontFamily = 'sans-serif';\n\t\n\t  var img = document.createElement('img');\n\t  img.src = this.icon;\n\t  var s = img.style;\n\t  s.marginLeft = '25%';\n\t  s.marginTop = '25%';\n\t  s.width = '50%';\n\t  overlay.appendChild(img);\n\t\n\t  var text = document.createElement('div');\n\t  var s = text.style;\n\t  s.textAlign = 'center';\n\t  s.fontSize = '16px';\n\t  s.lineHeight = '24px';\n\t  s.margin = '24px 25%';\n\t  s.width = '50%';\n\t  text.innerHTML = 'Place your phone into your Cardboard viewer.';\n\t  overlay.appendChild(text);\n\t\n\t  var snackbar = document.createElement('div');\n\t  var s = snackbar.style;\n\t  s.backgroundColor = '#CFD8DC';\n\t  s.position = 'fixed';\n\t  s.bottom = 0;\n\t  s.width = '100%';\n\t  s.height = '48px';\n\t  s.padding = '14px 24px';\n\t  s.boxSizing = 'border-box';\n\t  s.color = '#656A6B';\n\t  overlay.appendChild(snackbar);\n\t\n\t  var snackbarText = document.createElement('div');\n\t  snackbarText.style.float = 'left';\n\t  snackbarText.innerHTML = 'No Cardboard viewer?';\n\t\n\t  var snackbarButton = document.createElement('a');\n\t  snackbarButton.href = 'https://www.google.com/get/cardboard/get-cardboard/';\n\t  snackbarButton.innerHTML = 'get one';\n\t  var s = snackbarButton.style;\n\t  s.float = 'right';\n\t  s.fontWeight = 600;\n\t  s.textTransform = 'uppercase';\n\t  s.borderLeft = '1px solid gray';\n\t  s.paddingLeft = '24px';\n\t  s.textDecoration = 'none';\n\t  s.color = '#656A6B';\n\t\n\t  snackbar.appendChild(snackbarText);\n\t  snackbar.appendChild(snackbarButton);\n\t\n\t  this.overlay = overlay;\n\t  this.text = text;\n\t  document.body.appendChild(overlay);\n\t\n\t  this.hide();\n\t}\n\t\n\tRotateInstructions.prototype.show = function () {\n\t  this.overlay.style.display = 'block';\n\t\n\t  var img = this.overlay.querySelector('img');\n\t  var s = img.style;\n\t\n\t  if (Util.isLandscapeMode()) {\n\t    s.width = '20%';\n\t    s.marginLeft = '40%';\n\t    s.marginTop = '3%';\n\t  } else {\n\t    s.width = '50%';\n\t    s.marginLeft = '25%';\n\t    s.marginTop = '25%';\n\t  }\n\t};\n\t\n\tRotateInstructions.prototype.hide = function () {\n\t  this.overlay.style.display = 'none';\n\t};\n\t\n\tRotateInstructions.prototype.showTemporarily = function (ms) {\n\t  this.show();\n\t  this.timer = setTimeout(this.hide.bind(this), ms);\n\t};\n\t\n\tRotateInstructions.prototype.disableShowTemporarily = function () {\n\t  clearTimeout(this.timer);\n\t};\n\t\n\tRotateInstructions.prototype.loadIcon_ = function () {\n\t  // Encoded asset_src/rotate-instructions.svg\n\t  this.icon = Util.base64('image/svg+xml', 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+');\n\t};\n\t\n\tmodule.exports = RotateInstructions;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar Emitter = __webpack_require__(14);\n\tvar Util = __webpack_require__(16);\n\t\n\tvar DEFAULT_VIEWER = 'CardboardV1';\n\tvar VIEWER_KEY = 'WEBVR_CARDBOARD_VIEWER';\n\t\n\t/**\n\t * Creates a viewer selector with the options specified. Supports being shown\n\t * and hidden. Generates events when viewer parameters change. Also supports\n\t * saving the currently selected index in localStorage.\n\t *\n\t * @param {Object} options Option labels for all valid selections {name: index}.\n\t */\n\tfunction ViewerSelector(options) {\n\t  // Try to load the selected key from local storage. If none exists, use the\n\t  // default key.\n\t  try {\n\t    this.selectedKey = localStorage.getItem(VIEWER_KEY) || DEFAULT_VIEWER;\n\t  } catch (error) {\n\t    console.error('Failed to load viewer profile: %s', error);\n\t  }\n\t  this.dialog = this.createDialog_(options);\n\t  this.options = options;\n\t  document.body.appendChild(this.dialog);\n\t}\n\tViewerSelector.prototype = new Emitter();\n\t\n\tViewerSelector.prototype.show = function () {\n\t  //console.log('ViewerSelector.show');\n\t\n\t  // Ensure the currently selected item is checked.\n\t  var selected = this.dialog.querySelector('#' + this.selectedKey);\n\t  selected.checked = true;\n\t\n\t  // Show the UI.\n\t  this.dialog.style.display = 'block';\n\t};\n\t\n\tViewerSelector.prototype.hide = function () {\n\t  //console.log('ViewerSelector.hide');\n\t  this.dialog.style.display = 'none';\n\t};\n\t\n\tViewerSelector.prototype.getSelectedKey_ = function () {\n\t  var input = this.dialog.querySelector('input[name=field]:checked');\n\t  if (input) {\n\t    return input.id;\n\t  }\n\t  return null;\n\t};\n\t\n\tViewerSelector.prototype.onSave_ = function () {\n\t  this.selectedKey = this.getSelectedKey_();\n\t  if (!this.selectedKey || !this.options[this.selectedKey]) {\n\t    console.error('ViewerSelector.onSave_: this should never happen!');\n\t    return;\n\t  }\n\t\n\t  this.emit('change', this.options[this.selectedKey]);\n\t\n\t  // Attempt to save the viewer profile, but fails in private mode.\n\t  try {\n\t    localStorage.setItem(VIEWER_KEY, this.selectedKey);\n\t  } catch (error) {\n\t    console.error('Failed to save viewer profile: %s', error);\n\t  }\n\t  this.hide();\n\t};\n\t\n\t/**\n\t * Creates the dialog.\n\t */\n\tViewerSelector.prototype.createDialog_ = function (options) {\n\t  var container = document.createElement('div');\n\t  container.style.display = 'none';\n\t  // Create an overlay that dims the background, and which goes away when you\n\t  // tap it.\n\t  var overlay = document.createElement('div');\n\t  var s = overlay.style;\n\t  s.position = 'fixed';\n\t  s.left = 0;\n\t  s.top = 0;\n\t  s.width = '100%';\n\t  s.height = '100%';\n\t  s.background = 'rgba(0, 0, 0, 0.3)';\n\t  overlay.addEventListener('click', this.hide.bind(this));\n\t\n\t  var width = 280;\n\t  var dialog = document.createElement('div');\n\t  var s = dialog.style;\n\t  s.boxSizing = 'border-box';\n\t  s.position = 'fixed';\n\t  s.top = '24px';\n\t  s.left = '50%';\n\t  s.marginLeft = -width / 2 + 'px';\n\t  s.width = width + 'px';\n\t  s.padding = '24px';\n\t  s.overflow = 'hidden';\n\t  s.background = '#fafafa';\n\t  s.fontFamily = \"'Roboto', sans-serif\";\n\t  s.boxShadow = '0px 5px 20px #666';\n\t\n\t  dialog.appendChild(this.createH1_('Select your viewer'));\n\t  for (var id in options) {\n\t    dialog.appendChild(this.createChoice_(id, options[id].label));\n\t  }\n\t  dialog.appendChild(this.createButton_('Save', this.onSave_.bind(this)));\n\t\n\t  container.appendChild(overlay);\n\t  container.appendChild(dialog);\n\t\n\t  return container;\n\t};\n\t\n\tViewerSelector.prototype.createH1_ = function (name) {\n\t  var h1 = document.createElement('h1');\n\t  var s = h1.style;\n\t  s.color = 'black';\n\t  s.fontSize = '20px';\n\t  s.fontWeight = 'bold';\n\t  s.marginTop = 0;\n\t  s.marginBottom = '24px';\n\t  h1.innerHTML = name;\n\t  return h1;\n\t};\n\t\n\tViewerSelector.prototype.createChoice_ = function (id, name) {\n\t  /*\n\t  <div class=\"choice\">\n\t  <input id=\"v1\" type=\"radio\" name=\"field\" value=\"v1\">\n\t  <label for=\"v1\">Cardboard V1</label>\n\t  </div>\n\t  */\n\t  var div = document.createElement('div');\n\t  div.style.marginTop = '8px';\n\t  div.style.color = 'black';\n\t\n\t  var input = document.createElement('input');\n\t  input.style.fontSize = '30px';\n\t  input.setAttribute('id', id);\n\t  input.setAttribute('type', 'radio');\n\t  input.setAttribute('value', id);\n\t  input.setAttribute('name', 'field');\n\t\n\t  var label = document.createElement('label');\n\t  label.style.marginLeft = '4px';\n\t  label.setAttribute('for', id);\n\t  label.innerHTML = name;\n\t\n\t  div.appendChild(input);\n\t  div.appendChild(label);\n\t\n\t  return div;\n\t};\n\t\n\tViewerSelector.prototype.createButton_ = function (label, onclick) {\n\t  var button = document.createElement('button');\n\t  button.innerHTML = label;\n\t  var s = button.style;\n\t  s.float = 'right';\n\t  s.textTransform = 'uppercase';\n\t  s.color = '#1094f7';\n\t  s.fontSize = '14px';\n\t  s.letterSpacing = 0;\n\t  s.border = 0;\n\t  s.background = 'none';\n\t  s.marginTop = '16px';\n\t\n\t  button.addEventListener('click', onclick);\n\t\n\t  return button;\n\t};\n\t\n\tmodule.exports = ViewerSelector;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * Copyright 2015 Google Inc. All Rights Reserved.\n\t * Licensed under the Apache License, Version 2.0 (the \"License\");\n\t * you may not use this file except in compliance with the License.\n\t * You may obtain a copy of the License at\n\t *\n\t *     http://www.apache.org/licenses/LICENSE-2.0\n\t *\n\t * Unless required by applicable law or agreed to in writing, software\n\t * distributed under the License is distributed on an \"AS IS\" BASIS,\n\t * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\t * See the License for the specific language governing permissions and\n\t * limitations under the License.\n\t */\n\t\n\tvar Util = __webpack_require__(16);\n\t\n\t/**\n\t * Android and iOS compatible wakelock implementation.\n\t *\n\t * Refactored thanks to dkovalev@.\n\t */\n\tfunction AndroidWakeLock() {\n\t  var video = document.createElement('video');\n\t\n\t  video.addEventListener('ended', function () {\n\t    video.play();\n\t  });\n\t\n\t  this.request = function () {\n\t    if (video.paused) {\n\t      // Base64 version of videos_src/no-sleep-120s.mp4.\n\t      video.src = Util.base64('video/mp4', 'AAAAGGZ0eXBpc29tAAAAAG1wNDFhdmMxAAAIA21vb3YAAABsbXZoZAAAAADSa9v60mvb+gABX5AAlw/gAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAdkdHJhawAAAFx0a2hkAAAAAdJr2/rSa9v6AAAAAQAAAAAAlw/gAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAQAAAAHAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAJcP4AAAAAAAAQAAAAAG3G1kaWEAAAAgbWRoZAAAAADSa9v60mvb+gAPQkAGjneAFccAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAABodtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAZHc3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAMABwASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQAC//hABlnZAALrNlfllw4QAAAAwBAAAADAKPFCmWAAQAFaOvssiwAAAAYc3R0cwAAAAAAAAABAAAAbgAPQkAAAAAUc3RzcwAAAAAAAAABAAAAAQAAA4BjdHRzAAAAAAAAAG4AAAABAD0JAAAAAAEAehIAAAAAAQA9CQAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEATEtAAAAAAQAehIAAAAABAAAAAAAAAAEAD0JAAAAAAQBMS0AAAAABAB6EgAAAAAEAAAAAAAAAAQAPQkAAAAABAExLQAAAAAEAHoSAAAAAAQAAAAAAAAABAA9CQAAAAAEALcbAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAABuAAAAAQAAAcxzdHN6AAAAAAAAAAAAAABuAAADCQAAABgAAAAOAAAADgAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAMAAAAEgAAAA4AAAAMAAAADAAAABIAAAAOAAAADAAAAAwAAAASAAAADgAAAAwAAAAM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');\n\t      video.play();\n\t    }\n\t  };\n\t\n\t  this.release = function () {\n\t    video.pause();\n\t    video.src = '';\n\t  };\n\t}\n\t\n\tfunction iOSWakeLock() {\n\t  var timer = null;\n\t\n\t  this.request = function () {\n\t    if (!timer) {\n\t      timer = setInterval(function () {\n\t        window.location = window.location;\n\t        setTimeout(window.stop, 0);\n\t      }, 30000);\n\t    }\n\t  };\n\t\n\t  this.release = function () {\n\t    if (timer) {\n\t      clearInterval(timer);\n\t      timer = null;\n\t    }\n\t  };\n\t}\n\t\n\tfunction getWakeLock() {\n\t  var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\t  if (userAgent.match(/iPhone/i) || userAgent.match(/iPod/i)) {\n\t    return iOSWakeLock;\n\t  } else {\n\t    return AndroidWakeLock;\n\t  }\n\t}\n\t\n\tmodule.exports = getWakeLock();\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=HouseViewer.js.map"],"sourceRoot":"/source/"}